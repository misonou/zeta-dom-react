{"version":3,"file":"zeta-dom-react.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./src/include/zeta-dom/util.js","webpack://zeta-dom-react/./src/viewState.js","webpack://zeta-dom-react/./src/dataView.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./src/include/zeta-dom/events.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./tmp/zeta-dom/domLock.js","webpack://zeta-dom-react/./src/include/zeta-dom/domLock.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/index.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout } = zeta.util; export { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout };","export * from \"zeta-dom/util\";\r\n","import { createContext, useContext, useState } from \"react\";\r\nimport { noop, randomId } from \"./include/zeta-dom/util.js\";\r\n\r\n/** @type {React.Context<import(\"./viewState\").ViewStateProvider | null>} */\r\n// @ts-ignore: type inference issue\r\nconst ViewStateProviderContext = createContext(null);\r\nconst noopStorage = Object.freeze({\r\n    get: noop,\r\n    set: noop\r\n});\r\n\r\nexport const ViewStateProvider = ViewStateProviderContext.Provider;\r\n\r\nexport function useViewState(key) {\r\n    var uniqueId = useState(randomId)[0];\r\n    var provider = useContext(ViewStateProviderContext);\r\n    return (provider && key && provider.getState(uniqueId, key)) || noopStorage;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, extend, keys, pick, pipe, watch } from \"./include/zeta-dom/util.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst proto = DataView.prototype;\r\n\r\nexport function DataView(filters, sortBy, sortOrder, pageSize) {\r\n    var self = this;\r\n    var defaults = {\r\n        filters: extend({}, filters),\r\n        sortBy: sortBy,\r\n        sortOrder: sortOrder || (sortBy && 'asc'),\r\n        pageIndex: 0,\r\n        pageSize: pageSize === undefined ? DataView.pageSize : pageSize\r\n    }\r\n    filters = extend({}, filters);\r\n    for (let i in filters) {\r\n        defineObservableProperty(filters, i);\r\n    }\r\n    _(self, {\r\n        filters: Object.freeze(filters),\r\n        defaults: defaults,\r\n        items: [],\r\n    });\r\n    extend(this, defaults);\r\n}\r\n\r\ndefine(DataView, {\r\n    pageSize: 0\r\n});\r\n\r\ndefinePrototype(DataView, {\r\n    itemCount: 0,\r\n    getView: function (items, callback) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var pageIndex = self.pageIndex || 0;\r\n        var pageSize = self.pageSize || 0;\r\n        if (items !== state.items) {\r\n            state.items = items || [];\r\n            state.filteredItems = state.items.length ? undefined : [];\r\n        }\r\n        var filteredItems = state.filteredItems || (state.filteredItems = ((callback || pipe)(state.items, self.filters, self.sortBy) || [])[self.sortOrder === 'desc' ? 'reverse' : 'slice']());\r\n        if (items) {\r\n            self.itemCount = filteredItems.length;\r\n        }\r\n        return [filteredItems.slice(pageIndex * pageSize, pageSize ? (pageIndex + 1) * pageSize : undefined), filteredItems.length];\r\n    },\r\n    toJSON: function () {\r\n        var self = this;\r\n        return extend(pick(self, keys(_(self).defaults)), {\r\n            filters: extend({}, self.filters),\r\n            itemCount: self.itemCount\r\n        });\r\n    },\r\n    reset: function () {\r\n        extend(this, _(this).defaults);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(proto, 'sortBy');\r\ndefineObservableProperty(proto, 'sortOrder');\r\ndefineObservableProperty(proto, 'pageIndex');\r\ndefineObservableProperty(proto, 'pageSize');\r\ndefineObservableProperty(proto, 'filters', {}, function (newValue) {\r\n    return extend(_(this).filters, newValue);\r\n});\r\n\r\nexport function useDataView(persistKey, filters, sortBy, sortOrder, pageSize) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useDataView('__dataView', persistKey, filters, sortBy, sortOrder);\r\n    }\r\n    var viewState = useViewState(persistKey);\r\n    var forceUpdate = useState()[1];\r\n    var dataView = useState(function () {\r\n        return extend(new DataView(filters, sortBy, sortOrder, pageSize), viewState.get());\r\n    })[0];\r\n    useEffect(function () {\r\n        var state = _(dataView);\r\n        var onUpdated = function () {\r\n            state.filteredItems = state.items.length ? undefined : [];\r\n            forceUpdate({});\r\n        };\r\n        return combineFn(\r\n            watch(dataView, onUpdated),\r\n            watch(dataView.filters, onUpdated),\r\n            function () {\r\n                viewState.set(dataView.toJSON());\r\n            }\r\n        );\r\n    }, [dataView]);\r\n    return dataView;\r\n}\r\n","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","export { ZetaEventContainer } from \"zeta-dom/events\";\r\n","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import zeta from \"zeta-dom\";const { lock, locked, cancelLock, notifyAsync, preventLeave } = zeta.dom; export { lock, locked, cancelLock, notifyAsync, preventLeave };","export * from \"zeta-dom/domLock\";\r\n","import { useEffect, useRef, useState } from \"react\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\nimport { notifyAsync } from \"./include/zeta-dom/domLock.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { always, catchAsync, combineFn, extend, isArray, makeArray, map, resolve, setAdd, watch } from \"./include/zeta-dom/util.js\";\r\n\r\nconst fnWeakMap = new WeakMap();\r\nconst container = new ZetaEventContainer();\r\n\r\nexport function useMemoizedFunction(callback) {\r\n    const fn = useState(function () {\r\n        return function fn() {\r\n            const cb = fnWeakMap.get(fn);\r\n            return cb && cb.apply(this, arguments);\r\n        };\r\n    })[0];\r\n    fnWeakMap.set(fn, callback);\r\n    return fn;\r\n}\r\n\r\nexport function useObservableProperty(obj, key) {\r\n    const forceUpdate = useState()[1];\r\n    const value = obj[key];\r\n    const ref = useRef();\r\n    ref.current = value;\r\n    useEffect(function () {\r\n        var cb = function (v) {\r\n            if (v !== ref.current) {\r\n                forceUpdate({});\r\n            }\r\n        };\r\n        cb(obj[key]);\r\n        return watch(obj, key, cb);\r\n    }, [obj, key]);\r\n    return value;\r\n}\r\n\r\nexport function useAsync(init, autoload) {\r\n    const state = useState(function () {\r\n        var element;\r\n        var emitErrorEvent = function (error) {\r\n            return container.emit('error', state, { error }, true);\r\n        };\r\n        return {\r\n            loading: true,\r\n            elementRef: function (current) {\r\n                element = current;\r\n            },\r\n            onError: function (handler) {\r\n                return container.add(state, 'error', function (e) {\r\n                    return handler.call(state, e.error);\r\n                });\r\n            },\r\n            refresh: function () {\r\n                var promise;\r\n                var shouldNotify = function () {\r\n                    return !state.disposed && state.promise === promise;\r\n                };\r\n                promise = always(resolve().then(init), function (resolved, value) {\r\n                    if (shouldNotify()) {\r\n                        if (resolved) {\r\n                            extend(state, { loading: false, value: value });\r\n                        } else {\r\n                            extend(state, { loading: false, value: undefined, error: value });\r\n                            if (!emitErrorEvent(value)) {\r\n                                throw value;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                extend(state, { promise: promise, loading: true, error: undefined });\r\n                notifyAsync(element || dom.root, catchAsync(promise));\r\n            }\r\n        };\r\n    })[0];\r\n    const deps = isArray(autoload);\r\n    init = useMemoizedFunction(init);\r\n    autoload = autoload !== false;\r\n\r\n    useObservableProperty(state, 'loading');\r\n    useEffect(function () {\r\n        return function () {\r\n            state.disposed = true;\r\n        };\r\n    }, [state]);\r\n    useEffect(function () {\r\n        if (autoload) {\r\n            state.refresh();\r\n        }\r\n    }, [state, autoload].concat(deps));\r\n    return [state.value, state];\r\n}\r\n\r\nexport function useRefInitCallback(init) {\r\n    const args = makeArray(arguments);\r\n    const set = useState(new WeakSet())[0];\r\n    return function (v) {\r\n        if (v && setAdd(set, v)) {\r\n            args[0] = v;\r\n            init.apply(null, args);\r\n        }\r\n    };\r\n}\r\n\r\nexport function useDispose() {\r\n    const dispose = useState(function () {\r\n        const callbacks = [\r\n            function () {\r\n                callbacks.splice(0, callbacks.length - 1);\r\n            }\r\n        ];\r\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\r\n    })[0];\r\n    useEffect(function () {\r\n        return dispose;\r\n    }, [dispose]);\r\n    return dispose;\r\n}\r\n\r\nexport function useErrorHandlerRef() {\r\n    const ref = useRef(null);\r\n    const args = makeArray(arguments);\r\n    useEffect(function () {\r\n        return combineFn(map(args, function (v) {\r\n            return v.onError(function (error) {\r\n                if (ref.current) {\r\n                    return dom.emit('error', ref.current, { error }, true);\r\n                }\r\n            });\r\n        }));\r\n    }, [ref].concat(args));\r\n    return ref;\r\n}\r\n","import { createContext, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { always, any, combineFn, createPrivateStore, defineObservableProperty, definePrototype, extend, grep, inherit, isFunction, keys, makeArray, resolve, resolveAll } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { focus } from \"./include/zeta-dom/dom.js\";\r\nimport { useMemoizedFunction, useObservableProperty } from \"./hooks.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\n\r\n/** @type {React.Context<import (\"./form\").FormContext>} */\r\n// @ts-ignore: type inference issue\r\nconst _FormContext = createContext(null);\r\n\r\nexport const FormContextProvider = _FormContext.Provider;\r\n\r\nfunction createDataObject(context, eventContainer, initialData) {\r\n    return new Proxy(extend({}, initialData), {\r\n        get: function (t, p) {\r\n            if (typeof p === 'string') {\r\n                return t[p];\r\n            }\r\n        },\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && t[p] !== v) {\r\n                if (p in t) {\r\n                    _(context).pending[p] = true;\r\n                    eventContainer.emitAsync('dataChange', context, [p], {}, function (v, a) {\r\n                        return v.concat(a);\r\n                    });\r\n                }\r\n                t[p] = v;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(state, key, error) {\r\n    return {\r\n        toString: function () {\r\n            return error(extend({}, state.fields[key]));\r\n        }\r\n    };\r\n}\r\n\r\nexport function FormContext(initialData, validateOnChange, viewState) {\r\n    var self = this;\r\n    var fields = {};\r\n    var errors = {};\r\n    var eventContainer = new ZetaEventContainer();\r\n    var defaults = {};\r\n    var state = _(self, {\r\n        fields: fields,\r\n        errors: errors,\r\n        eventContainer: eventContainer,\r\n        viewState: viewState,\r\n        vlocks: {},\r\n        refs: {},\r\n        pending: {},\r\n        defaults: defaults,\r\n        initialData: inherit(defaults, initialData),\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v, i) {\r\n                return !v.disabled && (errors[i] || (v.required && (v.isEmpty ? v.isEmpty(self.data[i]) : !self.data[i])));\r\n            });\r\n        })\r\n    });\r\n    self.isValid = true;\r\n    self.autoPersist = true;\r\n    self.validateOnChange = validateOnChange !== false;\r\n    self.data = createDataObject(self, eventContainer, viewState.get() || state.initialData);\r\n    self.on('dataChange', function (e) {\r\n        state.pending = {};\r\n        if (self.validateOnChange) {\r\n            var fieldsToValidate = grep(e.data, function (v) {\r\n                return fields[v] && fields[v].validateOnChange !== false;\r\n            });\r\n            if (fieldsToValidate[0]) {\r\n                self.validate.apply(self, fieldsToValidate);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        var ref = _(this).refs[key];\r\n        return ref && ref.current;\r\n    },\r\n    focus: function (key) {\r\n        var element = this.element(key);\r\n        if (element) {\r\n            focus(element);\r\n        }\r\n    },\r\n    on: function (event, handler) {\r\n        var state = _(this);\r\n        return state.eventContainer.add(this, event, handler);\r\n    },\r\n    persist: function () {\r\n        var self = this;\r\n        _(self).viewState.set(extend({}, self.data));\r\n        self.autoPersist = false;\r\n    },\r\n    restore: function () {\r\n        var self = this;\r\n        var data = _(self).viewState.get();\r\n        if (data) {\r\n            self.reset(data);\r\n        }\r\n        return !!data;\r\n    },\r\n    reset: function (data) {\r\n        var self = this;\r\n        var state = _(self);\r\n        for (var i in self.data) {\r\n            delete self.data[i];\r\n        }\r\n        extend(self.data, data || state.initialData);\r\n        self.isValid = true;\r\n        state.eventContainer.emit('reset', self);\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        var vlocks = state.vlocks;\r\n        var errors = state.errors;\r\n        var eventContainer = state.eventContainer;\r\n        var props = makeArray(arguments);\r\n        if (!props.length) {\r\n            props = keys(state.fields);\r\n        }\r\n        var prev = extend({}, errors);\r\n        var validate = function (v) {\r\n            return eventContainer.emit('validate', self, {\r\n                name: v,\r\n                value: self.data[v]\r\n            });\r\n        };\r\n        var promises = props.map(function (v) {\r\n            var arr = vlocks[v] = (vlocks[v] || []);\r\n            var prev = arr[0];\r\n            if (prev) {\r\n                // debounce async validation\r\n                return arr[1] || (arr[1] = always(arr[0], function () {\r\n                    var next = validate(v);\r\n                    always(next, function () {\r\n                        // dismiss effects of previous validation if later one resolves earlier\r\n                        // so that validity always reflects on latest data\r\n                        if (arr[0] === prev) {\r\n                            arr.shift();\r\n                        }\r\n                    });\r\n                    return next;\r\n                }));\r\n            }\r\n            arr[0] = resolve(validate(v));\r\n            return arr[0];\r\n        });\r\n        return resolveAll(promises).then(function (result) {\r\n            props.forEach(function (v, i) {\r\n                // checks if current validation is of the latest\r\n                if (vlocks[v][0] === promises[i]) {\r\n                    vlocks[v].shift();\r\n                    if (isFunction(result[i])) {\r\n                        result[i] = wrapErrorResult(state, v, result[i]);\r\n                    }\r\n                    errors[v] = result[i];\r\n                    if ((result[i] || '') !== (prev[v] || '')) {\r\n                        eventContainer.emit('validationChange', self, {\r\n                            name: v,\r\n                            isValid: !result[i],\r\n                            message: String(result[i] || '')\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n            state.setValid();\r\n            return !any(result, function (v) {\r\n                return v;\r\n            });\r\n        });\r\n    }\r\n});\r\n\r\nexport function useFormContext(persistKey, initialData, validateOnChange) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useFormContext('', persistKey, initialData);\r\n    }\r\n    const viewState = useViewState(persistKey);\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, validateOnChange, viewState);\r\n    })[0];\r\n    const forceUpdate = useState()[1];\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return combineFn(\r\n            form.on('dataChange', function () {\r\n                forceUpdate({});\r\n            }),\r\n            function () {\r\n                if (form.autoPersist) {\r\n                    form.persist();\r\n                }\r\n            }\r\n        );\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(props, defaultValue, prop) {\r\n    const form = useContext(_FormContext);\r\n    const ref = useRef();\r\n    const key = props.name || '';\r\n    const initialValue = useState(function () {\r\n        return (form && form.data[key]) || defaultValue;\r\n    })[0];\r\n    const sValue = useState(initialValue);\r\n    const sError = useState('');\r\n    const onValidate = useMemoizedFunction(props.onValidate);\r\n    const value = sValue[0], setValue = sValue[1];\r\n    const error = sError[0], setError = sError[1];\r\n\r\n    var setValueCallback = useMemoizedFunction(function (v) {\r\n        if (!props.onChange) {\r\n            console.warn('onChange not supplied');\r\n        } else {\r\n            props.onChange(typeof v === 'function' ? v(props[prop]) : v);\r\n        }\r\n    });\r\n\r\n    // put internal states on props for un-controlled mode\r\n    prop = prop || 'value';\r\n    if (!(prop in props)) {\r\n        setValueCallback = setValue;\r\n        props = extend({}, props);\r\n        props[prop] = value;\r\n    }\r\n    if (form && key) {\r\n        _(form).fields[key] = props;\r\n    }\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            var state = _(form);\r\n            state.refs[key] = ref;\r\n            state.defaults[key] = defaultValue;\r\n            if (key in form.data) {\r\n                setValue(form.data[key]);\r\n            }\r\n            return combineFn(\r\n                function () {\r\n                    delete state.defaults[key];\r\n                    delete state.fields[key];\r\n                    delete state.refs[key];\r\n                    state.setValid();\r\n                },\r\n                form.on('dataChange', function (e) {\r\n                    if (e.data.includes(key)) {\r\n                        setValue(form.data[key]);\r\n                    }\r\n                }),\r\n                form.on('validationChange', function (e) {\r\n                    if (e.name === key) {\r\n                        setError(state.errors[key]);\r\n                    }\r\n                }),\r\n                form.on('validate', function (e) {\r\n                    if (e.name === key) {\r\n                        return onValidate(e.value, e.name, form);\r\n                    }\r\n                }),\r\n                form.on('reset', function () {\r\n                    setValue(initialValue);\r\n                    setError('');\r\n                })\r\n            );\r\n        }\r\n    }, [form, key, initialValue, onValidate]);\r\n\r\n    useEffect(function () {\r\n        var pending = form && key && _(form).pending;\r\n        if (pending && !pending[key]) {\r\n            form.data[key] = value;\r\n            pending[key] = false;\r\n        }\r\n    }, [form, key, value]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            _(form).setValid();\r\n        }\r\n    }, [form, key, props.validateOnChange, props.disabled, props.required]);\r\n\r\n    return {\r\n        value: props[prop],\r\n        error: String(props.error || error || ''),\r\n        setValue: setValueCallback,\r\n        setError: setError,\r\n        elementRef: function (v) {\r\n            ref.current = v;\r\n        }\r\n    };\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n","import { combineFn, each, extend, isFunction, kv, makeArray, noop } from \"./include/zeta-dom/util.js\";\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function partial(setState, key) {\r\n    var fn = function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n    return key ? fn.bind(0, key) : fn;\r\n}\r\n\r\nexport function combineRef() {\r\n    return combineFn(makeArray(arguments).map(toRefCallback));\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n","export * from \"./dataView.js\";\r\nexport * from \"./form.js\";\r\nexport * from \"./hooks.js\";\r\nexport * from \"./util.js\";\r\nexport * from \"./viewState.js\";\r\n","import * as all from \"./index.js\";\r\nexport default all;\r\n"],"names":["zeta","util","noop","pipe","either","is","isUndefinedOrNull","isArray","isFunction","isThenable","isPlainObject","isArrayLike","makeArray","extend","each","map","grep","splice","any","single","kv","pick","exclude","mapGet","mapRemove","arrRemove","setAdd","equal","combineFn","executeOnce","createPrivateStore","setTimeout","setTimeoutOnce","setInterval","setIntervalSafe","setImmediate","setImmediateOnce","throwNotFunction","errorWithCode","keys","values","hasOwnProperty","getOwnPropertyDescriptors","define","definePrototype","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","defineObservableProperty","watch","watchOnce","watchable","inherit","deepFreeze","iequal","randomId","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","resolve","reject","always","resolveAll","catchAsync","setPromiseTimeout","createContext","useContext","useState","ViewStateProviderContext","noopStorage","Object","freeze","get","set","ViewStateProvider","Provider","useViewState","key","uniqueId","provider","getState","useEffect","_","proto","DataView","prototype","filters","sortBy","sortOrder","pageSize","self","defaults","pageIndex","undefined","i","items","itemCount","getView","callback","state","filteredItems","length","slice","toJSON","reset","newValue","useDataView","persistKey","viewState","forceUpdate","dataView","onUpdated","ZetaEventContainer","EventContainer","_defaultExport","dom","textInputAllowed","beginDrag","beginPinchZoom","getShortcut","setShortcut","focusable","focused","setModal","releaseModal","retainFocus","releaseFocus","iterateFocusPath","focus","lock","locked","cancelLock","notifyAsync","preventLeave","useRef","fnWeakMap","WeakMap","container","useMemoizedFunction","fn","cb","apply","arguments","useObservableProperty","obj","value","ref","current","v","useAsync","init","autoload","element","emitErrorEvent","error","emit","loading","elementRef","onError","handler","add","e","call","refresh","promise","shouldNotify","disposed","then","resolved","root","deps","concat","useRefInitCallback","args","WeakSet","useDispose","dispose","callbacks","push","bind","useErrorHandlerRef","_FormContext","FormContextProvider","createDataObject","context","eventContainer","initialData","Proxy","t","p","pending","emitAsync","a","wrapErrorResult","toString","fields","FormContext","validateOnChange","errors","vlocks","refs","setValid","disabled","required","isEmpty","data","isValid","autoPersist","on","fieldsToValidate","validate","event","persist","restore","props","prev","name","promises","arr","next","shift","result","forEach","message","String","useFormContext","form","useFormField","defaultValue","prop","initialValue","sValue","sError","onValidate","setValue","setError","setValueCallback","onChange","console","warn","includes","combineValidators","validators","reduce","classNames","className","process","j","getClassNames","join","partial","setState","combineRef","toRefCallback","all"],"sourceRoot":""}