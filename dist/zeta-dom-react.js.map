{"version":3,"file":"zeta-dom-react.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./src/include/zeta-dom/util.js","webpack://zeta-dom-react/./tmp/zeta-dom/domUtil.js","webpack://zeta-dom-react/./src/include/zeta-dom/domUtil.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./tmp/zeta-dom/domLock.js","webpack://zeta-dom-react/./src/include/zeta-dom/domLock.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./src/include/zeta-dom/events.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/css.js","webpack://zeta-dom-react/./src/viewState.js","webpack://zeta-dom-react/./src/dataView.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/index.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout, delay, makeAsync } = zeta.util; export { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout, delay, makeAsync };","export * from \"zeta-dom/util\";\r\n","import zeta from \"zeta-dom\";const { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint } = zeta.util; export { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint };","export * from \"zeta-dom/domUtil\";\r\n","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import zeta from \"zeta-dom\";const { lock, locked, cancelLock, notifyAsync, preventLeave } = zeta.dom; export { lock, locked, cancelLock, notifyAsync, preventLeave };","export * from \"zeta-dom/domLock\";\r\n","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","export { ZetaEventContainer } from \"zeta-dom/events\";\r\n","import { useEffect, useMemo, useRef, useState } from \"react\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\nimport { notifyAsync } from \"./include/zeta-dom/domLock.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { always, catchAsync, combineFn, extend, isArray, makeArray, makeAsync, map, setAdd, watch } from \"./include/zeta-dom/util.js\";\r\n\r\nconst fnWeakMap = new WeakMap();\r\nconst container = new ZetaEventContainer();\r\n\r\nexport function useMemoizedFunction(callback) {\r\n    const fn = useState(function () {\r\n        return function fn() {\r\n            const cb = fnWeakMap.get(fn);\r\n            return cb && cb.apply(this, arguments);\r\n        };\r\n    })[0];\r\n    fnWeakMap.set(fn, callback);\r\n    return fn;\r\n}\r\n\r\nexport function useObservableProperty(obj, key) {\r\n    const forceUpdate = useState()[1];\r\n    const value = obj[key];\r\n    const ref = useRef();\r\n    ref.current = value;\r\n    useEffect(function () {\r\n        var cb = function (v) {\r\n            if (v !== ref.current) {\r\n                forceUpdate({});\r\n            }\r\n        };\r\n        cb(obj[key]);\r\n        return watch(obj, key, cb);\r\n    }, [obj, key]);\r\n    return value;\r\n}\r\n\r\nexport function useAsync(init, deps) {\r\n    const state = useState(function () {\r\n        var element;\r\n        var emitErrorEvent = function (error) {\r\n            return container.emit('error', state, { error }, true);\r\n        };\r\n        return {\r\n            loading: true,\r\n            elementRef: function (current) {\r\n                element = current;\r\n            },\r\n            onError: function (handler) {\r\n                return container.add(state, 'error', function (e) {\r\n                    return handler.call(state, e.error);\r\n                });\r\n            },\r\n            refresh: function () {\r\n                var result = makeAsync(init)();\r\n                var promise;\r\n                var shouldNotify = function () {\r\n                    return !state.disposed && state.promise === promise;\r\n                };\r\n                promise = always(result, function (resolved, value) {\r\n                    if (shouldNotify()) {\r\n                        if (resolved) {\r\n                            extend(state, { loading: false, value: value });\r\n                        } else {\r\n                            extend(state, { loading: false, value: undefined, error: value });\r\n                            if (!emitErrorEvent(value)) {\r\n                                throw value;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                extend(state, { promise: promise, loading: true, error: undefined });\r\n                notifyAsync(element || dom.root, catchAsync(promise));\r\n                return result;\r\n            }\r\n        };\r\n    })[0];\r\n    deps = [deps !== false].concat(isArray(deps) || []);\r\n    init = useMemoizedFunction(init);\r\n    useEffect(function () {\r\n        return function () {\r\n            state.disposed = true;\r\n        };\r\n    }, [state]);\r\n    useEffect(function () {\r\n        if (deps[0]) {\r\n            // keep call to refresh in useEffect to avoid double invocation\r\n            // in strict mode in development environment\r\n            state.refresh();\r\n        }\r\n    }, deps);\r\n    useMemo(function () {\r\n        if (deps[0]) {\r\n            state.loading = true;\r\n        }\r\n    }, deps);\r\n    useObservableProperty(state, 'loading');\r\n    return [state.value, state];\r\n}\r\n\r\nexport function useRefInitCallback(init) {\r\n    const args = makeArray(arguments);\r\n    const set = useState(new WeakSet())[0];\r\n    return function (v) {\r\n        if (v && setAdd(set, v)) {\r\n            args[0] = v;\r\n            init.apply(null, args);\r\n        }\r\n    };\r\n}\r\n\r\nexport function useDispose() {\r\n    const dispose = useState(function () {\r\n        const callbacks = [\r\n            function () {\r\n                callbacks.splice(0, callbacks.length - 1);\r\n            }\r\n        ];\r\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\r\n    })[0];\r\n    useEffect(function () {\r\n        return dispose;\r\n    }, [dispose]);\r\n    return dispose;\r\n}\r\n\r\nexport function useErrorHandlerRef() {\r\n    const ref = useRef(null);\r\n    const args = makeArray(arguments);\r\n    useEffect(function () {\r\n        return combineFn(map(args, function (v) {\r\n            return v.onError(function (error) {\r\n                if (ref.current) {\r\n                    return dom.emit('error', ref.current, { error }, true);\r\n                }\r\n            });\r\n        }));\r\n    }, [ref].concat(args));\r\n    return ref;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { defineObservableProperty, each, watch } from \"./include/zeta-dom/util.js\";\r\nimport { bind } from \"./include/zeta-dom/domUtil.js\";\r\nimport { useDispose } from \"./hooks.js\";\r\n\r\nexport function useMediaQuery(query) {\r\n    var onDispose = useDispose();\r\n    var state = useState(function () {\r\n        var mq = matchMedia(query);\r\n        onDispose.push(bind(mq, 'change', () => {\r\n            state[1](mq.matches);\r\n        }));\r\n        return mq.matches;\r\n    });\r\n    return state[0];\r\n}\r\n\r\n/**\r\n * @param {Zeta.Dictionary<string>} breakpoints\r\n */\r\nexport function createBreakpointContext(breakpoints) {\r\n    var values = {};\r\n    watch(values, true);\r\n    each(breakpoints, function (i, v) {\r\n        var mq = matchMedia(v);\r\n        var setValue = defineObservableProperty(values, i, mq.matches, true);\r\n        bind(mq, 'change', function () {\r\n            setValue(mq.matches);\r\n        });\r\n    });\r\n    return {\r\n        breakpoints: Object.freeze(values),\r\n        useBreakpoint: function () {\r\n            var forceUpdate = useState()[1];\r\n            useEffect(function () {\r\n                return watch(values, function () {\r\n                    forceUpdate({});\r\n                });\r\n            });\r\n            return values;\r\n        }\r\n    };\r\n}\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { noop, randomId } from \"./include/zeta-dom/util.js\";\r\n\r\n/** @type {React.Context<import(\"./viewState\").ViewStateProvider | null>} */\r\n// @ts-ignore: type inference issue\r\nconst ViewStateProviderContext = createContext(null);\r\nconst noopStorage = Object.freeze({\r\n    get: noop,\r\n    set: noop\r\n});\r\n\r\nexport const ViewStateProvider = ViewStateProviderContext.Provider;\r\n\r\nexport function useViewState(key) {\r\n    var uniqueId = useState(randomId)[0];\r\n    var provider = useContext(ViewStateProviderContext);\r\n    var state = (provider && key && provider.getState(uniqueId, key)) || noopStorage;\r\n    useEffect(function () {\r\n        return state.dispose && state.dispose.bind(state);\r\n    }, [state]);\r\n    return state;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, each, extend, isArray, isFunction, isUndefinedOrNull, keys, makeArray, noop, pick, pipe, single, watch } from \"./include/zeta-dom/util.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst proto = DataView.prototype;\r\nconst emitter = new ZetaEventContainer();\r\n\r\nfunction compare(a, b) {\r\n    var x = isUndefinedOrNull(a) && -1;\r\n    var y = isUndefinedOrNull(b) && 1;\r\n    if (x || y) {\r\n        return x + y;\r\n    }\r\n    if (typeof a === 'string' || typeof b === 'string') {\r\n        return String(a).localeCompare(b, undefined, { caseFirst: 'upper' });\r\n    }\r\n    return a - b;\r\n}\r\n\r\nexport function DataView(filters, sortBy, sortOrder, pageSize) {\r\n    var self = this;\r\n    var defaults = {\r\n        filters: extend({}, filters),\r\n        sortBy: sortBy,\r\n        sortOrder: sortOrder || (sortBy && 'asc'),\r\n        pageIndex: 0,\r\n        pageSize: pageSize === undefined ? DataView.pageSize : pageSize\r\n    }\r\n    filters = extend({}, filters);\r\n    for (let i in filters) {\r\n        defineObservableProperty(filters, i);\r\n    }\r\n    var state = _(self, {\r\n        filters: Object.freeze(filters),\r\n        defaults: defaults,\r\n        items: [],\r\n    });\r\n    var onUpdated = function () {\r\n        state.sorted = state.items.length ? undefined : [];\r\n        if (this !== self) {\r\n            state.filtered = state.sorted;\r\n        }\r\n        emitter.emitAsync('viewChange', self);\r\n    };\r\n    extend(this, defaults);\r\n    watch(self, onUpdated);\r\n    watch(self.filters, onUpdated);\r\n}\r\n\r\ndefine(DataView, {\r\n    pageSize: 0\r\n});\r\n\r\ndefinePrototype(DataView, {\r\n    itemCount: 0,\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    getView: function (items, callback) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var pageIndex = self.pageIndex || 0;\r\n        var pageSize = self.pageSize || 0;\r\n        if (items !== state.items) {\r\n            state.items = items || [];\r\n            state.filtered = state.items.length ? undefined : [];\r\n            state.sorted = state.filtered;\r\n        }\r\n        callback = callback || function (items) {\r\n            return self.sort(items);\r\n        };\r\n        var filteredItems = state.sorted || (state.sorted = callback.call(self, state.filtered || state.items, self.filters, self.sortBy, self.sortOrder) || []);\r\n        state.filtered = filteredItems;\r\n        if (items) {\r\n            self.itemCount = filteredItems.length;\r\n        }\r\n        return [filteredItems.slice(pageIndex * pageSize, pageSize ? (pageIndex + 1) * pageSize : undefined), filteredItems.length];\r\n    },\r\n    sort: function (items, callback) {\r\n        var self = this;\r\n        items = makeArray(items);\r\n        if (!isFunction(callback)) {\r\n            var prop = callback || self.sortBy;\r\n            if (!prop) {\r\n                return items;\r\n            }\r\n            callback = function (item) {\r\n                return item[prop];\r\n            };\r\n        }\r\n        var dir = self.sortOrder === 'desc' ? -1 : 1;\r\n        var values = new Map();\r\n        each(items, function (i, v) {\r\n            values.set(v, callback(v));\r\n        });\r\n        return items.sort(function (a, b) {\r\n            var x = values.get(a);\r\n            var y = values.get(b);\r\n            return dir * (isArray(x) ? single(x, function (v, i) {\r\n                return compare(v, y[i]);\r\n            }) : compare(x, y));\r\n        });\r\n    },\r\n    toJSON: function () {\r\n        var self = this;\r\n        return extend(pick(self, keys(_(self).defaults)), {\r\n            filters: extend({}, self.filters),\r\n            itemCount: self.itemCount\r\n        });\r\n    },\r\n    reset: function () {\r\n        extend(this, _(this).defaults);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(proto, 'sortBy');\r\ndefineObservableProperty(proto, 'sortOrder');\r\ndefineObservableProperty(proto, 'pageIndex');\r\ndefineObservableProperty(proto, 'pageSize');\r\ndefineObservableProperty(proto, 'filters', {}, function (newValue) {\r\n    return extend(_(this).filters, newValue);\r\n});\r\n\r\nexport function useDataView(persistKey, filters, sortBy, sortOrder, pageSize) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useDataView('__dataView', persistKey, filters, sortBy, sortOrder);\r\n    }\r\n    var viewState = useViewState(persistKey);\r\n    var forceUpdate = useState()[1];\r\n    var dataView = useState(function () {\r\n        return extend(new DataView(filters, sortBy, sortOrder, pageSize), viewState.get());\r\n    })[0];\r\n    useEffect(function () {\r\n        var state = _(dataView);\r\n        return combineFn(\r\n            dataView.on('viewChange', function () {\r\n                forceUpdate({});\r\n            }),\r\n            viewState.onPopState ? viewState.onPopState(function (newValue) {\r\n                viewState.set(dataView.toJSON());\r\n                extend(dataView, newValue || state.defaults);\r\n            }) : noop,\r\n            function () {\r\n                viewState.set(dataView.toJSON());\r\n            }\r\n        );\r\n    }, [dataView]);\r\n    return dataView;\r\n}\r\n","import { createContext, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { always, any, combineFn, createPrivateStore, defineObservableProperty, definePrototype, extend, grep, inherit, isFunction, keys, makeArray, noop, resolve, resolveAll } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { focus } from \"./include/zeta-dom/dom.js\";\r\nimport { useMemoizedFunction, useObservableProperty } from \"./hooks.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst emitter = new ZetaEventContainer();\r\n\r\n/** @type {React.Context<import (\"./form\").FormContext>} */\r\n// @ts-ignore: type inference issue\r\nconst _FormContext = createContext(null);\r\n\r\nexport const FormContextProvider = _FormContext.Provider;\r\n\r\nfunction createDataObject(context, initialData) {\r\n    return new Proxy(extend({}, initialData), {\r\n        get: function (t, p) {\r\n            if (typeof p === 'string') {\r\n                return t[p];\r\n            }\r\n        },\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && t[p] !== v) {\r\n                if (p in t) {\r\n                    _(context).pending[p] = true;\r\n                    emitter.emitAsync('dataChange', context, [p], {}, function (v, a) {\r\n                        return v.concat(a);\r\n                    });\r\n                }\r\n                t[p] = v;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(state, key, error) {\r\n    return {\r\n        toString: function () {\r\n            return error(extend({}, state.fields[key]));\r\n        }\r\n    };\r\n}\r\n\r\nexport function FormContext(initialData, validateOnChange, viewState) {\r\n    var self = this;\r\n    var fields = {};\r\n    var errors = {};\r\n    var defaults = {};\r\n    var state = _(self, {\r\n        fields: fields,\r\n        errors: errors,\r\n        viewState: viewState,\r\n        vlocks: {},\r\n        refs: {},\r\n        pending: {},\r\n        defaults: defaults,\r\n        initialData: inherit(defaults, initialData),\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v, i) {\r\n                return !v.disabled && (errors[i] || (v.required && (v.isEmpty ? v.isEmpty(self.data[i]) : !self.data[i])));\r\n            });\r\n        })\r\n    });\r\n    self.isValid = true;\r\n    self.autoPersist = true;\r\n    self.validateOnChange = validateOnChange !== false;\r\n    self.data = createDataObject(self, viewState.get() || state.initialData);\r\n    self.on('dataChange', function (e) {\r\n        state.pending = {};\r\n        if (self.validateOnChange) {\r\n            var fieldsToValidate = grep(e.data, function (v) {\r\n                return fields[v] && fields[v].validateOnChange !== false;\r\n            });\r\n            if (fieldsToValidate[0]) {\r\n                self.validate.apply(self, fieldsToValidate);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        var ref = _(this).refs[key];\r\n        return ref && ref.current;\r\n    },\r\n    focus: function (key) {\r\n        var element = this.element(key);\r\n        if (element) {\r\n            focus(element);\r\n        }\r\n    },\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    persist: function () {\r\n        var self = this;\r\n        _(self).viewState.set(extend({}, self.data));\r\n        self.autoPersist = false;\r\n    },\r\n    restore: function () {\r\n        var self = this;\r\n        var data = _(self).viewState.get();\r\n        if (data) {\r\n            self.reset(data);\r\n        }\r\n        return !!data;\r\n    },\r\n    reset: function (data) {\r\n        var self = this;\r\n        var state = _(self);\r\n        for (var i in self.data) {\r\n            delete self.data[i];\r\n        }\r\n        extend(self.data, data || state.initialData);\r\n        self.isValid = true;\r\n        emitter.emit('reset', self);\r\n    },\r\n    setError: function (key, error) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var errors = state.errors;\r\n        var prev = errors[key] || '';\r\n        if (isFunction(error)) {\r\n            error = wrapErrorResult(state, key, error);\r\n        }\r\n        errors[key] = error;\r\n        if ((error || '') !== prev) {\r\n            emitter.emit('validationChange', self, {\r\n                name: key,\r\n                isValid: !error,\r\n                message: String(error || '')\r\n            });\r\n            state.setValid();\r\n        }\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        var vlocks = state.vlocks;\r\n        var props = makeArray(arguments);\r\n        if (!props.length) {\r\n            props = keys(state.fields);\r\n        }\r\n        var validate = function (v) {\r\n            return emitter.emit('validate', self, {\r\n                name: v,\r\n                value: self.data[v]\r\n            });\r\n        };\r\n        var promises = props.map(function (v) {\r\n            var arr = vlocks[v] = (vlocks[v] || []);\r\n            var prev = arr[0];\r\n            if (prev) {\r\n                // debounce async validation\r\n                return arr[1] || (arr[1] = always(arr[0], function () {\r\n                    var next = validate(v);\r\n                    always(next, function () {\r\n                        // dismiss effects of previous validation if later one resolves earlier\r\n                        // so that validity always reflects on latest data\r\n                        if (arr[0] === prev) {\r\n                            arr.shift();\r\n                        }\r\n                    });\r\n                    return next;\r\n                }));\r\n            }\r\n            arr[0] = resolve(validate(v));\r\n            return arr[0];\r\n        });\r\n        return resolveAll(promises).then(function (result) {\r\n            props.forEach(function (v, i) {\r\n                // checks if current validation is of the latest\r\n                if (vlocks[v][0] === promises[i]) {\r\n                    vlocks[v].shift();\r\n                    self.setError(v, result[i]);\r\n                }\r\n            });\r\n            state.setValid();\r\n            return !any(result, function (v) {\r\n                return v;\r\n            });\r\n        });\r\n    }\r\n});\r\n\r\nexport function useFormContext(persistKey, initialData, validateOnChange) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useFormContext('', persistKey, initialData);\r\n    }\r\n    const viewState = useViewState(persistKey);\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, validateOnChange, viewState);\r\n    })[0];\r\n    const forceUpdate = useState()[1];\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return combineFn(\r\n            form.on('dataChange', function () {\r\n                forceUpdate({});\r\n            }),\r\n            function () {\r\n                if (form.autoPersist) {\r\n                    form.persist();\r\n                }\r\n            }\r\n        );\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(props, defaultValue, prop) {\r\n    prop = prop || 'value';\r\n    const form = useContext(_FormContext);\r\n    const ref = useRef();\r\n    const key = props.name || '';\r\n    const initialValue = useState(function () {\r\n        return (form && form.data[key]) || defaultValue;\r\n    })[0];\r\n    const sValue = useState(initialValue);\r\n    const sError = useState('');\r\n    const onValidate = useMemoizedFunction(props.onValidate);\r\n    const controlled = prop in props;\r\n    const value = sValue[0], setValue = sValue[1];\r\n    const error = sError[0], setError = sError[1];\r\n\r\n    var setValueCallback = useMemoizedFunction(function (v) {\r\n        var value = typeof v === 'function' ? v(props[prop]) : v;\r\n        if (!controlled) {\r\n            setValue(value);\r\n        } else if (!props.onChange) {\r\n            console.warn('onChange not supplied');\r\n        }\r\n        (props.onChange || noop)(value);\r\n    });\r\n\r\n    // put internal states on props for un-controlled mode\r\n    if (!controlled) {\r\n        props = extend({}, props);\r\n        props[prop] = value;\r\n    }\r\n    if (form && key) {\r\n        _(form).fields[key] = props;\r\n    }\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            var state = _(form);\r\n            state.refs[key] = ref;\r\n            state.defaults[key] = defaultValue;\r\n            if (key in form.data) {\r\n                setValue(form.data[key]);\r\n            }\r\n            return combineFn(\r\n                function () {\r\n                    delete state.defaults[key];\r\n                    delete state.fields[key];\r\n                    delete state.refs[key];\r\n                    state.setValid();\r\n                },\r\n                form.on('dataChange', function (e) {\r\n                    if (e.data.includes(key)) {\r\n                        setValue(form.data[key]);\r\n                    }\r\n                }),\r\n                form.on('validationChange', function (e) {\r\n                    if (e.name === key) {\r\n                        setError(state.errors[key]);\r\n                    }\r\n                }),\r\n                form.on('validate', function (e) {\r\n                    if (e.name === key) {\r\n                        return onValidate(e.value, e.name, form);\r\n                    }\r\n                }),\r\n                form.on('reset', function () {\r\n                    setValue(initialValue);\r\n                    setError('');\r\n                })\r\n            );\r\n        }\r\n    }, [form, key, initialValue, onValidate]);\r\n\r\n    useEffect(function () {\r\n        var pending = form && key && _(form).pending;\r\n        if (pending && !pending[key]) {\r\n            form.data[key] = value;\r\n            pending[key] = false;\r\n        }\r\n    }, [form, key, value]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            _(form).setValid();\r\n        }\r\n    }, [form, key, props.validateOnChange, props.disabled, props.required]);\r\n\r\n    return {\r\n        value: props[prop],\r\n        error: String(props.error || error || ''),\r\n        setValue: setValueCallback,\r\n        setError: setError,\r\n        elementRef: function (v) {\r\n            ref.current = v;\r\n        }\r\n    };\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n","import { createElement, Fragment, lazy, Suspense } from \"react\";\r\nimport { combineFn, each, extend, isFunction, isPlainObject, kv, makeArray, noop } from \"./include/zeta-dom/util.js\";\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function innerTextOrHTML(text) {\r\n    return isPlainObject(text) ? { dangerouslySetInnerHTML: text } : { children: text };\r\n}\r\n\r\nexport function partial(setState, key) {\r\n    var fn = function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n    return key ? fn.bind(0, key) : fn;\r\n}\r\n\r\nexport function combineRef() {\r\n    return combineFn(makeArray(arguments).map(toRefCallback));\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n\r\nexport function withSuspense(factory, fallback) {\r\n    fallback = fallback || Fragment;\r\n    if (isFunction(fallback)) {\r\n        fallback = createElement(fallback);\r\n    }\r\n    const Component = lazy(factory);\r\n    return function (props) {\r\n        return createElement(Suspense, { fallback }, createElement(Component, props));\r\n    };\r\n}\r\n","export * from \"./css.js\";\r\nexport * from \"./dataView.js\";\r\nexport * from \"./form.js\";\r\nexport * from \"./hooks.js\";\r\nexport * from \"./util.js\";\r\nexport * from \"./viewState.js\";\r\n","import * as all from \"./index.js\";\r\nexport default all;\r\n"],"names":["zeta","util","noop","pipe","either","is","isUndefinedOrNull","isArray","isFunction","isThenable","isPlainObject","isArrayLike","makeArray","extend","each","map","grep","splice","any","single","kv","fill","pick","exclude","mapObject","mapGet","mapRemove","arrRemove","setAdd","equal","combineFn","executeOnce","createPrivateStore","setTimeout","setTimeoutOnce","setInterval","setIntervalSafe","setImmediate","setImmediateOnce","throwNotFunction","errorWithCode","isErrorWithCode","keys","values","hasOwnProperty","getOwnPropertyDescriptors","define","definePrototype","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","defineObservableProperty","watch","watchOnce","watchable","inherit","freeze","deepFreeze","iequal","randomId","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","resolve","reject","always","resolveAll","catchAsync","setPromiseTimeout","delay","makeAsync","domReady","tagName","isVisible","matchSelector","comparePosition","connected","containsOrEquals","acceptNode","combineNodeFilters","iterateNode","iterateNodeToArray","getCommonAncestor","parentsAndSelf","selectIncludeSelf","selectClosestRelative","createNodeIterator","createTreeWalker","bind","bindUntil","dispatchDOMMouseEvent","removeNode","getClass","setClass","getScrollOffset","getScrollParent","getContentRect","scrollBy","scrollIntoView","makeSelection","getRect","getRects","toPlainRect","rectEquals","rectCovers","rectIntersects","pointInRect","mergeRect","elementFromPoint","_defaultExport","dom","textInputAllowed","beginDrag","beginPinchZoom","getShortcut","setShortcut","focusable","focused","setModal","releaseModal","retainFocus","releaseFocus","iterateFocusPath","focus","lock","locked","cancelLock","notifyAsync","preventLeave","ZetaEventContainer","EventContainer","useEffect","useMemo","useRef","useState","fnWeakMap","WeakMap","container","useMemoizedFunction","callback","fn","cb","get","apply","arguments","set","useObservableProperty","obj","key","forceUpdate","value","ref","current","v","useAsync","init","deps","state","element","emitErrorEvent","error","emit","loading","elementRef","onError","handler","add","e","call","refresh","result","promise","shouldNotify","disposed","resolved","undefined","root","concat","useRefInitCallback","args","WeakSet","useDispose","dispose","callbacks","length","push","useErrorHandlerRef","useMediaQuery","query","onDispose","mq","matchMedia","matches","createBreakpointContext","breakpoints","i","setValue","Object","useBreakpoint","createContext","useContext","ViewStateProviderContext","noopStorage","ViewStateProvider","Provider","useViewState","uniqueId","provider","getState","_","proto","DataView","prototype","emitter","compare","a","b","x","y","String","localeCompare","caseFirst","filters","sortBy","sortOrder","pageSize","self","defaults","pageIndex","items","onUpdated","sorted","filtered","emitAsync","itemCount","on","event","getView","sort","filteredItems","slice","prop","item","dir","Map","toJSON","reset","newValue","useDataView","persistKey","viewState","dataView","onPopState","_FormContext","FormContextProvider","createDataObject","context","initialData","Proxy","t","p","pending","wrapErrorResult","toString","fields","FormContext","validateOnChange","errors","vlocks","refs","setValid","disabled","required","isEmpty","data","isValid","autoPersist","fieldsToValidate","validate","persist","restore","setError","prev","name","message","props","promises","arr","next","shift","then","forEach","useFormContext","form","useFormField","defaultValue","initialValue","sValue","sError","onValidate","controlled","setValueCallback","onChange","console","warn","includes","combineValidators","validators","reduce","createElement","Fragment","lazy","Suspense","classNames","className","process","j","getClassNames","join","innerTextOrHTML","text","dangerouslySetInnerHTML","children","partial","setState","combineRef","toRefCallback","withSuspense","factory","fallback","Component","all"],"sourceRoot":""}