{"version":3,"file":"zeta-dom-react.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"react-dom\",\"commonjs2\":\"react-dom\",\"amd\":\"react-dom\",\"root\":\"ReactDOM\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./tmp/zeta-dom/domUtil.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./tmp/zeta-dom/domLock.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./src/env.umd.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/css.js","webpack://zeta-dom-react/./src/viewState.js","webpack://zeta-dom-react/./src/dataView.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/fields/ChoiceField.js","webpack://zeta-dom-react/./src/fields/DateField.js","webpack://zeta-dom-react/./src/fields/MultiChoiceField.js","webpack://zeta-dom-react/./src/fields/NumericField.js","webpack://zeta-dom-react/./src/fields/TextField.js","webpack://zeta-dom-react/./src/fields/ToggleField.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./src/index.js","webpack://zeta-dom-react/./tmp/zeta-dom/index.js","webpack://zeta-dom-react/./src/include/zeta-dom/index.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"), require(\"react-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"], root[\"ReactDOM\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__231__, __WEBPACK_EXTERNAL_MODULE__33__) => {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__33__;","module.exports = __WEBPACK_EXTERNAL_MODULE__231__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, pipe, either, sameValueZero, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, clearImmediateOnce, throws, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, matchWordMulti, htmlDecode, resolve, reject, always, resolveAll, retryable, deferrable, catchAsync, setPromiseTimeout, delay, makeAsync } = zeta.util; export { noop, pipe, either, sameValueZero, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, clearImmediateOnce, throws, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, matchWordMulti, htmlDecode, resolve, reject, always, resolveAll, retryable, deferrable, catchAsync, setPromiseTimeout, delay, makeAsync };","import zeta from \"zeta-dom\";const { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindOnce, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getSafeAreaInset, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint } = zeta.util; export { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindOnce, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getSafeAreaInset, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint };","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { reportError, textInputAllowed, beginDrag, beginPinchZoom, insertText, getShortcut, setShortcut, focusable, focused, setTabRoot, unsetTabRoot, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus, blur } = zeta.dom; export { reportError, textInputAllowed, beginDrag, beginPinchZoom, insertText, getShortcut, setShortcut, focusable, focused, setTabRoot, unsetTabRoot, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus, blur };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import zeta from \"zeta-dom\";const { lock, locked, cancelLock, subscribeAsync, notifyAsync, runAsync, preventLeave } = zeta.dom; export { lock, locked, cancelLock, subscribeAsync, notifyAsync, runAsync, preventLeave };","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","import { StrictMode, createElement } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nvar extraRender = true;\r\n\r\nReactDOM.flushSync(function () {\r\n    function TestComponent() {\r\n        extraRender = !extraRender;\r\n        return null;\r\n    }\r\n    var container = document.createElement('div');\r\n    var element = createElement(StrictMode, null, createElement(TestComponent));\r\n    if (ReactDOM.createRoot) {\r\n        ReactDOM.createRoot(container).render(element);\r\n    } else {\r\n        ReactDOM.render(element, container);\r\n    }\r\n});\r\n\r\nexport const IS_DEV = extraRender;\r\n","import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport dom, { reportError } from \"./include/zeta-dom/dom.js\";\r\nimport { notifyAsync } from \"./include/zeta-dom/domLock.js\";\r\nimport { bind } from \"./include/zeta-dom/domUtil.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { always, any, catchAsync, clearImmediateOnce, combineFn, deferrable, delay, each, either, extend, is, isArray, isErrorWithCode, isFunction, makeArray, makeAsync, map, mapRemove, noop, pipe, resolve, setAdd, setImmediateOnce, watch } from \"./include/zeta-dom/util.js\";\r\nimport { IS_DEV } from \"./env.js\";\r\n\r\nconst container = new ZetaEventContainer();\r\nconst singletons = new WeakSet();\r\nconst unusedSingletons = new Map();\r\nconst AbortController = window.AbortController;\r\nconst useSingletonEffect = IS_DEV ? useSingletonEffectImplDev : useSingletonEffectImpl;\r\n\r\nvar unloadCallbacks;\r\n\r\nfunction muteRejection(promise) {\r\n    catchAsync(promise);\r\n    return promise;\r\n}\r\n\r\nfunction clearUnusedSingletons() {\r\n    each(unusedSingletons, function (i) {\r\n        singletons.delete(i);\r\n        mapRemove(unusedSingletons, i)();\r\n    });\r\n}\r\n\r\nfunction useSingletonEffectImpl(target, dispose) {\r\n    useEffect(function () {\r\n        return function () {\r\n            singletons.add(target);\r\n            dispose();\r\n        };\r\n    }, [target]);\r\n}\r\n\r\nfunction useSingletonEffectImplDev(target, dispose) {\r\n    if (setAdd(singletons, target)) {\r\n        unusedSingletons.set(target, dispose);\r\n        clearImmediateOnce(clearUnusedSingletons);\r\n    }\r\n    useEffect(function () {\r\n        unusedSingletons.delete(target);\r\n        setImmediateOnce(clearUnusedSingletons);\r\n        return function () {\r\n            unusedSingletons.set(target, dispose);\r\n            setImmediateOnce(clearUnusedSingletons);\r\n        };\r\n    }, [target]);\r\n}\r\n\r\nexport function useUpdateTrigger() {\r\n    const setState = useState()[1];\r\n    return useCallback(function () {\r\n        setState({});\r\n    }, []);\r\n}\r\n\r\nexport function useMemoizedFunction(callback) {\r\n    const ref = useRef();\r\n    ref.current = isFunction(callback) || noop;\r\n    return useCallback(function () {\r\n        return ref.current.apply(this, arguments);\r\n    }, []);\r\n}\r\n\r\nexport function useObservableProperty(obj, key) {\r\n    const forceUpdate = useUpdateTrigger();\r\n    const value = obj[key];\r\n    const ref = useRef();\r\n    ref.current = value;\r\n    useEffect(function () {\r\n        var cb = function (v) {\r\n            if (v !== ref.current) {\r\n                forceUpdate();\r\n            }\r\n        };\r\n        cb(obj[key]);\r\n        return watch(obj, key, cb);\r\n    }, [obj, key]);\r\n    return value;\r\n}\r\n\r\nexport function useAsync(init, deps, debounce) {\r\n    const state = useSingleton(function () {\r\n        var element;\r\n        var currentController;\r\n        var nextResult;\r\n        return {\r\n            loading: false,\r\n            value: undefined,\r\n            error: undefined,\r\n            elementRef: function (current) {\r\n                element = current;\r\n            },\r\n            on: function (event, handler) {\r\n                return container.add(state, event, handler);\r\n            },\r\n            onError: function (handler) {\r\n                return state.on('error', function (e) {\r\n                    return handler.call(state, e.error);\r\n                });\r\n            },\r\n            refresh: function (force) {\r\n                if (debounce && !force) {\r\n                    nextResult = nextResult || deferrable();\r\n                    nextResult.waitFor(delay(debounce));\r\n                    return nextResult.d || (nextResult.d = muteRejection(nextResult.then(function () {\r\n                        nextResult = null;\r\n                        return state.refresh(true);\r\n                    })));\r\n                }\r\n                var controller = AbortController ? new AbortController() : { abort: noop };\r\n                if (currentController) {\r\n                    currentController.abort();\r\n                }\r\n                extend(state, { loading: true, error: undefined });\r\n                var result = makeAsync(init)(controller.signal);\r\n                var promise = always(result, function (resolved, value) {\r\n                    if (currentController === controller) {\r\n                        if (resolved) {\r\n                            extend(state, { loading: false, value: value });\r\n                            container.emit('load', state, { data: value });\r\n                        } else {\r\n                            extend(state, { loading: false, value: undefined, error: value });\r\n                            if (!container.emit('error', state, { error: value })) {\r\n                                throw value;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                currentController = controller;\r\n                notifyAsync(element || dom.root, promise);\r\n                return result;\r\n            },\r\n            abort: function (reason) {\r\n                if (currentController) {\r\n                    currentController.abort(reason);\r\n                    currentController = null;\r\n                }\r\n                state.loading = false;\r\n            }\r\n        };\r\n    }, function () {\r\n        state.abort();\r\n    });\r\n    deps = [deps !== false].concat(isArray(deps) || []);\r\n    init = useMemoizedFunction(init);\r\n    useEffect(function () {\r\n        if (deps[0]) {\r\n            // keep call to refresh in useEffect to avoid double invocation\r\n            // in strict mode in development environment\r\n            setImmediateOnce(state.refresh);\r\n        }\r\n    }, deps);\r\n    useMemo(function () {\r\n        if (deps[0] && !debounce) {\r\n            state.loading = true;\r\n        }\r\n    }, deps);\r\n    useObservableProperty(state, 'loading');\r\n    return [state.value, state];\r\n}\r\n\r\nexport function useRefInitCallback(init) {\r\n    const args = makeArray(arguments);\r\n    const set = useState(new WeakSet())[0];\r\n    return function (v) {\r\n        if (v && setAdd(set, v)) {\r\n            args[0] = v;\r\n            init.apply(null, args);\r\n        }\r\n    };\r\n}\r\n\r\nexport function useDispose() {\r\n    const dispose = useState(function () {\r\n        const callbacks = [\r\n            function () {\r\n                callbacks.splice(0, callbacks.length - 1);\r\n            }\r\n        ];\r\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\r\n    })[0];\r\n    useEffect(function () {\r\n        return dispose;\r\n    }, [dispose]);\r\n    return dispose;\r\n}\r\n\r\nexport function isSingletonDisposed(target) {\r\n    return either(useSingletonEffect !== useSingletonEffectImpl, singletons.has(target));\r\n}\r\n\r\nexport function useSingleton(factory, onDispose) {\r\n    const target = isFunction(factory) ? useMemo(factory, []) : useMemo(pipe.bind(0, factory), [factory]);\r\n    useSingletonEffect(target, function () {\r\n        (onDispose || target.dispose || noop).call(target);\r\n    });\r\n    return target;\r\n}\r\n\r\nexport function useErrorHandlerRef() {\r\n    return useErrorHandler.apply(this, arguments).ref;\r\n}\r\n\r\nexport function useErrorHandler() {\r\n    const reemitting = useRef(false);\r\n    const ref = useRef(null);\r\n    const args = makeArray(arguments);\r\n    const handler = useState(function () {\r\n        return {\r\n            ref: function (element) {\r\n                ref.current = element;\r\n                init(element);\r\n            },\r\n            emit: function (error) {\r\n                return catchError(error) || reemitError(error) || resolve();\r\n            },\r\n            catch: function (filter, callback) {\r\n                var isErrorOf;\r\n                if (!callback) {\r\n                    callback = filter;\r\n                } else if (!isArray(filter)) {\r\n                    isErrorOf = isFunction(filter) ? is : isErrorWithCode;\r\n                } else {\r\n                    isErrorOf = function (error, filter) {\r\n                        return any(filter, function (filter) {\r\n                            return (isFunction(filter) ? is : isErrorWithCode)(error, filter);\r\n                        });\r\n                    };\r\n                }\r\n                return container.add(handler, isErrorOf ? 'error' : 'default', function (e) {\r\n                    if ((isErrorOf || pipe)(e.error, filter)) {\r\n                        return callback(e.error);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    })[0];\r\n    const reemitError = useCallback(function (error) {\r\n        try {\r\n            reemitting.current = true;\r\n            return reportError(error, ref.current);\r\n        } finally {\r\n            reemitting.current = false;\r\n        }\r\n    }, []);\r\n    const catchError = useCallback(function (error) {\r\n        return container.emit('error', handler, { error }) || container.emit('default', handler, { error });\r\n    }, []);\r\n    const init = useRefInitCallback(function (element) {\r\n        dom.on(element, 'error', function (e) {\r\n            if (!reemitting.current) {\r\n                return catchError(e.error);\r\n            }\r\n        });\r\n    });\r\n    useEffect(function () {\r\n        return combineFn(map(args, function (v) {\r\n            return v.onError(handler.emit);\r\n        }));\r\n    }, args);\r\n    return handler;\r\n}\r\n\r\nexport function useUnloadEffect(callback) {\r\n    if (!unloadCallbacks) {\r\n        unloadCallbacks = new Set();\r\n        bind(window, 'pagehide', function (e) {\r\n            combineFn(makeArray(unloadCallbacks).reverse())(e.persisted);\r\n        });\r\n    }\r\n    callback = useMemoizedFunction(callback);\r\n    useEffect(function () {\r\n        unloadCallbacks.add(callback);\r\n        return function () {\r\n            unloadCallbacks.delete(callback);\r\n            callback(false);\r\n        };\r\n    }, []);\r\n}\r\n","import { useEffect, useMemo, useState } from \"react\";\r\nimport { defineObservableProperty, each, watch } from \"./include/zeta-dom/util.js\";\r\nimport { bind } from \"./include/zeta-dom/domUtil.js\";\r\nimport { useDispose, useUpdateTrigger } from \"./hooks.js\";\r\n\r\nexport function useMediaQuery(query) {\r\n    var mq = useMemo(function () {\r\n        return matchMedia(query);\r\n    }, [query]);\r\n    var state = useState(mq.matches);\r\n    useEffect(function () {\r\n        return bind(mq, 'change', function () {\r\n            state[1](mq.matches);\r\n        });\r\n    }, [mq]);\r\n    return state[0];\r\n}\r\n\r\n/**\r\n * @param {Zeta.Dictionary<string>} breakpoints\r\n */\r\nexport function createBreakpointContext(breakpoints) {\r\n    var values = {};\r\n    watch(values, true);\r\n    each(breakpoints, function (i, v) {\r\n        var mq = matchMedia(v);\r\n        var setValue = defineObservableProperty(values, i, mq.matches, true);\r\n        bind(mq, 'change', function () {\r\n            setValue(mq.matches);\r\n        });\r\n    });\r\n    return {\r\n        breakpoints: Object.freeze(values),\r\n        useBreakpoint: function () {\r\n            var forceUpdate = useUpdateTrigger();\r\n            useEffect(function () {\r\n                return watch(values, forceUpdate);\r\n            }, []);\r\n            return values;\r\n        }\r\n    };\r\n}\r\n","import { createContext, useContext, useState } from \"react\";\r\nimport { noop, randomId } from \"./include/zeta-dom/util.js\";\r\nimport { useSingleton } from \"./hooks.js\";\r\n\r\n/** @type {React.Context<import(\"./viewState\").ViewStateProvider | null>} */\r\nconst ViewStateProviderContext = createContext(null);\r\nconst noopStorage = Object.freeze({\r\n    get: noop,\r\n    set: noop\r\n});\r\n\r\nexport const ViewStateProvider = ViewStateProviderContext.Provider;\r\n\r\nexport function useViewState(key) {\r\n    var uniqueId = useState(randomId)[0];\r\n    var provider = useContext(ViewStateProviderContext);\r\n    return useSingleton((provider && key && provider.getState(uniqueId, key)) || noopStorage);\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, each, extend, isArray, isFunction, isUndefinedOrNull, keys, makeArray, noop, pick, setImmediateOnce, single, watch } from \"./include/zeta-dom/util.js\";\r\nimport { useUpdateTrigger } from \"./hooks.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst proto = DataView.prototype;\r\nconst emitter = new ZetaEventContainer();\r\n\r\nfunction compare(a, b) {\r\n    var x = isUndefinedOrNull(a) && -1;\r\n    var y = isUndefinedOrNull(b) && 1;\r\n    if (x || y) {\r\n        return x + y;\r\n    }\r\n    if (typeof a === 'string' || typeof b === 'string') {\r\n        return String(a).localeCompare(b, undefined, { caseFirst: 'upper' });\r\n    }\r\n    return a - b;\r\n}\r\n\r\nexport function DataView(filters, sortBy, sortOrder, pageSize) {\r\n    var self = this;\r\n    var defaults = {\r\n        filters: extend({}, filters),\r\n        sortBy: sortBy,\r\n        sortOrder: sortOrder || (sortBy && 'asc'),\r\n        pageIndex: 0,\r\n        pageSize: pageSize === undefined ? DataView.pageSize : pageSize\r\n    }\r\n    filters = extend({}, filters);\r\n    for (let i in filters) {\r\n        defineObservableProperty(filters, i);\r\n    }\r\n    var state = _(self, {\r\n        filters: Object.freeze(filters),\r\n        defaults: defaults,\r\n        items: [],\r\n    });\r\n    var emitViewChange = function () {\r\n        emitter.emit('viewChange', self);\r\n    };\r\n    var onUpdated = function () {\r\n        state.sorted = state.items.length ? undefined : [];\r\n        if (this !== self) {\r\n            state.filtered = state.sorted;\r\n        }\r\n        setImmediateOnce(emitViewChange);\r\n    };\r\n    extend(this, defaults);\r\n    watch(self, onUpdated);\r\n    watch(self.filters, onUpdated);\r\n}\r\n\r\ndefine(DataView, {\r\n    pageSize: 0\r\n});\r\n\r\ndefinePrototype(DataView, {\r\n    itemCount: 0,\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    getView: function (items, callback) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var pageIndex = self.pageIndex || 0;\r\n        var pageSize = self.pageSize || 0;\r\n        if (items !== state.items) {\r\n            state.items = items || [];\r\n            state.filtered = state.items.length ? undefined : [];\r\n            state.sorted = state.filtered;\r\n        }\r\n        callback = callback || function (items) {\r\n            return self.sort(items);\r\n        };\r\n        var filteredItems = state.sorted || (state.sorted = callback.call(self, state.filtered || state.items, self.filters, self.sortBy, self.sortOrder) || []);\r\n        state.filtered = filteredItems;\r\n        if (items) {\r\n            self.itemCount = filteredItems.length;\r\n        }\r\n        return [filteredItems.slice(pageIndex * pageSize, pageSize ? (pageIndex + 1) * pageSize : undefined), filteredItems.length];\r\n    },\r\n    sort: function (items, callback) {\r\n        var self = this;\r\n        items = makeArray(items);\r\n        if (!isFunction(callback)) {\r\n            var prop = callback || self.sortBy;\r\n            if (!prop) {\r\n                return items;\r\n            }\r\n            callback = function (item) {\r\n                return item[prop];\r\n            };\r\n        }\r\n        var dir = self.sortOrder === 'desc' ? -1 : 1;\r\n        var values = new Map();\r\n        each(items, function (i, v) {\r\n            values.set(v, callback(v));\r\n        });\r\n        return items.sort(function (a, b) {\r\n            var x = values.get(a);\r\n            var y = values.get(b);\r\n            return dir * (isArray(x) ? single(x, function (v, i) {\r\n                return compare(v, y[i]);\r\n            }) : compare(x, y));\r\n        });\r\n    },\r\n    toggleSort: function (sortBy, sortOrder) {\r\n        var self = this;\r\n        if (self.sortBy === sortBy) {\r\n            self.sortOrder = self.sortOrder === 'asc' ? 'desc' : 'asc';\r\n        } else {\r\n            self.sortBy = sortBy;\r\n            self.sortOrder = sortOrder || 'asc';\r\n        }\r\n    },\r\n    toJSON: function () {\r\n        var self = this;\r\n        return extend(pick(self, keys(_(self).defaults)), {\r\n            filters: extend({}, self.filters),\r\n            itemCount: self.itemCount\r\n        });\r\n    },\r\n    reset: function () {\r\n        extend(this, _(this).defaults);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(proto, 'sortBy');\r\ndefineObservableProperty(proto, 'sortOrder');\r\ndefineObservableProperty(proto, 'pageIndex');\r\ndefineObservableProperty(proto, 'pageSize');\r\ndefineObservableProperty(proto, 'filters', {}, function (newValue) {\r\n    return extend(_(this).filters, newValue);\r\n});\r\n\r\nexport function useDataView(persistKey, filters, sortBy, sortOrder, pageSize) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useDataView('__dataView', persistKey, filters, sortBy, sortOrder);\r\n    }\r\n    var viewState = useViewState(persistKey);\r\n    var forceUpdate = useUpdateTrigger();\r\n    var dataView = useState(function () {\r\n        return extend(new DataView(filters, sortBy, sortOrder, pageSize), viewState.get());\r\n    })[0];\r\n    useEffect(function () {\r\n        var state = _(dataView);\r\n        return combineFn(\r\n            dataView.on('viewChange', function () {\r\n                viewState.set(dataView.toJSON());\r\n                forceUpdate();\r\n            }),\r\n            viewState.onPopState ? viewState.onPopState(function (newValue) {\r\n                viewState.set(dataView.toJSON());\r\n                extend(dataView, newValue || state.defaults);\r\n            }) : noop\r\n        );\r\n    }, [dataView]);\r\n    return dataView;\r\n}\r\n","import { createElement, Fragment, lazy, Suspense } from \"react\";\r\nimport { combineFn, each, extend, isFunction, isPlainObject, kv, makeArray, mapGet, noop, setImmediate, throwNotFunction } from \"./include/zeta-dom/util.js\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\n\r\nconst boundEvents = new WeakMap();\r\n\r\nexport function domEventRef(event, handler) {\r\n    var arr;\r\n    handler = isPlainObject(event) || kv(event, handler);\r\n    return function (element) {\r\n        if (element) {\r\n            if (arr && arr.ref) {\r\n                throw new Error('Callback can only be passed to single React element');\r\n            }\r\n            arr = mapGet(boundEvents, element, Array);\r\n            if (arr.index === undefined) {\r\n                arr.index = 0;\r\n            }\r\n            var index = arr.index++;\r\n            var state = arr[index] || (arr[index] = { keys: {} });\r\n            each(handler, function (i, v) {\r\n                throwNotFunction(v);\r\n                state.keys[i] = state.keys[i] || dom.on(element, i, function () {\r\n                    return (state.handler[i] || noop).apply(this, arguments);\r\n                });\r\n            });\r\n            state.handler = handler;\r\n        } else {\r\n            arr.index = 0;\r\n        }\r\n        arr.ref = element;\r\n    };\r\n}\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value || value === 0) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function innerTextOrHTML(text) {\r\n    return isPlainObject(text) ? { dangerouslySetInnerHTML: text } : { children: text };\r\n}\r\n\r\nexport function partial(setState, key) {\r\n    var fn = function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n    return key ? fn.bind(0, key) : fn;\r\n}\r\n\r\nexport function combineRef() {\r\n    return combineFn(makeArray(arguments).map(toRefCallback));\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n\r\nexport function withSuspense(factory, fallback) {\r\n    fallback = fallback || Fragment;\r\n    if (isFunction(fallback)) {\r\n        fallback = createElement(fallback);\r\n    }\r\n    const Component = lazy(factory);\r\n    return function (props) {\r\n        return createElement(Suspense, { fallback }, createElement(Component, props));\r\n    };\r\n}\r\n","import { useEffect, useMemo } from \"react\";\r\nimport { define, definePrototype, extend } from \"../include/zeta-dom/util.js\";\r\n\r\nexport default function ChoiceField() { }\r\n\r\nfunction normalizeChoiceItems(items) {\r\n    return useMemo(function () {\r\n        return (items || []).map(function (v) {\r\n            return typeof v === 'object' ? v : { label: String(v), value: v };\r\n        });\r\n    }, [items]);\r\n}\r\n\r\ndefine(ChoiceField, {\r\n    normalizeItems: normalizeChoiceItems\r\n});\r\n\r\ndefinePrototype(ChoiceField, {\r\n    defaultValue: '',\r\n    postHook: function (state, props) {\r\n        var items = normalizeChoiceItems(props.items);\r\n        var selectedIndex = items.findIndex(function (v) {\r\n            return v.value === state.value;\r\n        });\r\n        useEffect(() => {\r\n            if (selectedIndex < 0) {\r\n                selectedIndex = props.allowUnselect || !items[0] ? -1 : 0;\r\n                state.setValue(selectedIndex < 0 ? '' : items[0].value);\r\n            }\r\n        });\r\n        return extend(state, {\r\n            items: items,\r\n            selectedIndex: selectedIndex,\r\n            selectedItem: items[selectedIndex]\r\n        });\r\n    }\r\n});\r\n","import { useMemo, useEffect } from \"react\";\r\nimport { define, definePrototype, extend, isFunction } from \"../include/zeta-dom/util.js\";\r\nimport { useMemoizedFunction } from \"../hooks.js\";\r\n\r\nconst re = /^-?\\d{4,}-\\d{2}-\\d{2}$/;\r\n\r\n// method mapping for relative date units\r\nconst units = {\r\n    y: ['getFullYear', 'setFullYear'],\r\n    m: ['getMonth', 'setMonth'],\r\n    d: ['getDate', 'setDate']\r\n};\r\nunits.w = units.d;\r\n\r\nfunction parseRelativeDate(str) {\r\n    var date = new Date();\r\n    var dir = str[0] === '-' ? -1 : 1;\r\n    str.toLowerCase().replace(/([+-]?)(\\d+)([dwmy])/g, function (v, a, b, c) {\r\n        date[units[c][1]](date[units[c][0]]() + (b * (a === '-' ? -1 : a === '+' ? 1 : dir) * (c === 'w' ? 7 : 1)));\r\n    });\r\n    return date;\r\n}\r\n\r\nfunction normalizeDate(date) {\r\n    if (typeof date === 'string') {\r\n        if (re.test(date)) {\r\n            return Date.parse(date + 'T00:00');\r\n        }\r\n        date = date[0] === '+' || date[0] === '-' ? parseRelativeDate(date) : Date.parse(date);\r\n    }\r\n    return new Date(date).setHours(0, 0, 0, 0);\r\n}\r\n\r\nfunction clampValue(date, min, max) {\r\n    var ts = normalizeDate(date);\r\n    return ts < min ? min : ts > max ? max : date;\r\n}\r\n\r\nfunction toDateObject(str) {\r\n    var ts = normalizeDate(str);\r\n    return isNaN(ts) ? null : new Date(ts);\r\n}\r\n\r\nfunction toDateString(date) {\r\n    if (!isNaN(date)) {\r\n        // counter UTC conversion due to toISOString\r\n        var tz = new Date(date).getTimezoneOffset() * 60000;\r\n        var str = new Date(date - tz).toISOString();\r\n        return str.slice(0, str.indexOf('T', 10));\r\n    }\r\n    return '';\r\n}\r\n\r\nexport default function DateField() { }\r\n\r\ndefine(DateField, {\r\n    toDateString: toDateString,\r\n    toDateObject: toDateObject\r\n});\r\n\r\ndefinePrototype(DateField, {\r\n    defaultValue: '',\r\n    normalizeValue: function (value) {\r\n        return toDateString(normalizeDate(value));\r\n    },\r\n    postHook: function (state, props) {\r\n        var setValue = state.setValue;\r\n        var value = state.value;\r\n        var min = normalizeDate(props.min);\r\n        var max = normalizeDate(props.max);\r\n        var displayText = useMemo(function () {\r\n            return value && props.formatDisplay ? props.formatDisplay(toDateObject(value)) : value;\r\n        }, [value]);\r\n        useEffect(function () {\r\n            var clamped = value && clampValue(value, min, max);\r\n            if (clamped !== value) {\r\n                setValue(clamped);\r\n            }\r\n        }, [value, min, max]);\r\n        return extend(state, {\r\n            min: toDateString(min),\r\n            max: toDateString(max),\r\n            displayText: displayText,\r\n            setValue: useMemoizedFunction(function (v) {\r\n                v = isFunction(v) ? v(state.value) : v;\r\n                if (!v) {\r\n                    setValue('');\r\n                } else if (/\\d{4}/.test(v) && /[^\\s\\d]/.test(v)) {\r\n                    v = normalizeDate(v);\r\n                    if (!isNaN(v)) {\r\n                        setValue(clampValue(v, min, max));\r\n                    }\r\n                }\r\n            })\r\n        });\r\n    }\r\n});\r\n","import { useEffect } from \"react\";\r\nimport { useMemoizedFunction } from \"../hooks.js\";\r\nimport { definePrototype, either, extend, freeze, isArray, isUndefinedOrNull, makeArray, splice } from \"../include/zeta-dom/util.js\";\r\nimport ChoiceField from \"./ChoiceField.js\";\r\n\r\nexport default function MultiChoiceField() { }\r\n\r\ndefinePrototype(MultiChoiceField, {\r\n    /** @type {any} */\r\n    defaultValue: freeze([]),\r\n    normalizeValue: function (newValue) {\r\n        return isArray(newValue) || makeArray(newValue);\r\n    },\r\n    postHook: function (state, props) {\r\n        var allowCustomValues = props.allowCustomValues || !props.items;\r\n        var items = ChoiceField.normalizeItems(props.items);\r\n        var isUnknown = function (value) {\r\n            return !items.some(function (v) {\r\n                return v.value === value;\r\n            });\r\n        };\r\n        var toggleValue = useMemoizedFunction(function (value, selected) {\r\n            if (allowCustomValues || !isUnknown(value)) {\r\n                state.setValue(function (arr) {\r\n                    var index = arr.indexOf(value);\r\n                    if (isUndefinedOrNull(selected) || either(index >= 0, selected)) {\r\n                        arr = makeArray(arr);\r\n                        if (index < 0) {\r\n                            arr.push(value);\r\n                        } else {\r\n                            arr.splice(index, 1);\r\n                        }\r\n                    }\r\n                    return arr;\r\n                });\r\n            }\r\n        });\r\n        useEffect(() => {\r\n            if (!allowCustomValues) {\r\n                var cur = makeArray(state.value);\r\n                var arr = splice(cur, isUnknown);\r\n                if (arr.length) {\r\n                    state.setValue(cur);\r\n                }\r\n            }\r\n        });\r\n        return extend(state, {\r\n            items: items,\r\n            toggleValue: toggleValue\r\n        });\r\n    }\r\n});\r\n","import { useEffect } from \"react\";\r\nimport { definePrototype } from \"../include/zeta-dom/util.js\";\r\n\r\nexport default function NumericField() { }\r\n\r\ndefinePrototype(NumericField, {\r\n    normalizeValue: function (newValue) {\r\n        newValue = +newValue;\r\n        return isNaN(newValue) ? undefined : newValue;\r\n    },\r\n    postHook: function (state, props) {\r\n        var value = state.value;\r\n        var min = props.min;\r\n        var max = props.max;\r\n        var step = props.step;\r\n        var allowEmpty = props.allowEmpty;\r\n        useEffect(function () {\r\n            var rounded = step > 0 ? Math.round(value / step) * step : value;\r\n            if (rounded < min || (isNaN(rounded) && !allowEmpty)) {\r\n                rounded = min || 0;\r\n            } else if (rounded > max) {\r\n                rounded = max;\r\n            }\r\n            if (rounded !== value) {\r\n                state.setValue(rounded);\r\n            }\r\n        }, [value, min, max, step, allowEmpty]);\r\n        return state;\r\n    }\r\n});\r\n","import { definePrototype, extend, isUndefinedOrNull, pick } from \"../include/zeta-dom/util.js\";\r\n\r\nexport default function TextField() { }\r\n\r\ndefinePrototype(TextField, {\r\n    defaultValue: '',\r\n    normalizeValue: function (value) {\r\n        return isUndefinedOrNull(value) ? '' : String(value);\r\n    },\r\n    postHook: function (state, props) {\r\n        var form = state.form;\r\n        var inputProps = pick(props, ['type', 'disabled', 'autoComplete', 'maxLength', 'inputMode', 'placeholder', 'enterKeyHint', 'readOnly']);\r\n        if (props.type === 'password' && !inputProps.autoComplete) {\r\n            inputProps.autoComplete = 'current-password';\r\n        }\r\n        inputProps.type = inputProps.type || 'text';\r\n        inputProps.enterKeyHint = inputProps.enterKeyHint || (form && form.enterKeyHint);\r\n        return extend(state, {\r\n            inputProps: inputProps\r\n        });\r\n    }\r\n});\r\n","import { useCallback } from \"react\";\r\nimport { definePrototype, extend } from \"../include/zeta-dom/util.js\";\r\n\r\nexport default function ToggleField() { }\r\n\r\ndefinePrototype(ToggleField, {\r\n    defaultValue: false,\r\n    valueProperty: 'checked',\r\n    normalizeValue: function (value) {\r\n        return !!value;\r\n    },\r\n    isEmpty: function (value) {\r\n        return !value;\r\n    },\r\n    postHook: function (state) {\r\n        const toggleValue = useCallback(function () {\r\n            state.setValue(function (v) {\r\n                return !v;\r\n            });\r\n        }, []);\r\n        return extend(state, {\r\n            toggleValue: toggleValue\r\n        });\r\n    }\r\n});\r\n","import { createContext, createElement, forwardRef, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { always, any, createPrivateStore, define, defineObservableProperty, definePrototype, each, exclude, extend, grep, hasOwnProperty, is, isArray, isFunction, isPlainObject, isUndefinedOrNull, keys, makeArray, map, mapGet, mapRemove, noop, pick, pipe, randomId, resolve, resolveAll, sameValueZero, setImmediate, setImmediateOnce, single, throws, watch } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport dom, { focus } from \"./include/zeta-dom/dom.js\";\r\nimport { preventLeave } from \"./include/zeta-dom/domLock.js\";\r\nimport { comparePosition, parentsAndSelf } from \"./include/zeta-dom/domUtil.js\";\r\nimport { useObservableProperty, useUnloadEffect, useUpdateTrigger } from \"./hooks.js\";\r\nimport { combineRef } from \"./util.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst emitter = new ZetaEventContainer();\r\nconst presets = new WeakMap();\r\nconst instances = new WeakMap();\r\nconst changedProps = new Map();\r\nconst rootForm = new FormContext({}, {}, { get: noop });\r\nconst fieldTypes = {\r\n    text: TextField,\r\n    toggle: ToggleField,\r\n    choice: ChoiceField\r\n};\r\n\r\n/** @type {React.Context<any>} */\r\nconst FormObjectContext = createContext(null);\r\nconst FormObjectProvider = FormObjectContext.Provider;\r\n\r\nexport function ValidationError(kind, message, args) {\r\n    this.kind = kind;\r\n    this.args = args;\r\n    this.message = message;\r\n}\r\n\r\nfunction isEmpty(field, value) {\r\n    var fn = field.props.isEmpty || field.preset.isEmpty;\r\n    return fn ? fn(value) : isUndefinedOrNull(value) || value === '' || (isArray(value) && !value.length);\r\n}\r\n\r\nfunction hasImplicitError(field) {\r\n    return field.props.required && isEmpty(field, field.value);\r\n}\r\n\r\nfunction cloneValue(value) {\r\n    return _(value) ? extend(true, isArray(value) ? [] : {}, value) : value;\r\n}\r\n\r\nfunction keyFor(value) {\r\n    return (_(value) || '').uniqueId;\r\n}\r\n\r\nfunction resolvePathInfo(form, path) {\r\n    var arr = isArray(path) || path.split('.');\r\n    var value = form.data;\r\n    var parent = value;\r\n    for (var i = 0, len = arr.length; i < len; i++) {\r\n        if (!hasOwnProperty(value, arr[i])) {\r\n            return {\r\n                name: arr[len - 1],\r\n                parent: i === len - 1 ? value : null\r\n            };\r\n        }\r\n        parent = value;\r\n        value = value[arr[i]];\r\n    }\r\n    return {\r\n        exists: true,\r\n        name: arr[len - 1],\r\n        value: value,\r\n        parent: parent\r\n    };\r\n}\r\n\r\nfunction getField(form, path) {\r\n    var prop = resolvePathInfo(form, path);\r\n    var key = keyFor(prop.parent);\r\n    return key && _(form).fields[key + '.' + prop.name];\r\n}\r\n\r\nfunction getPath(form, obj, name) {\r\n    if (obj === form.data) {\r\n        return name;\r\n    }\r\n    var paths = _(form).paths;\r\n    var path = [name];\r\n    for (var key = keyFor(obj); key = paths[key]; key = key.slice(0, 8)) {\r\n        path.unshift(key.slice(9));\r\n    }\r\n    return resolvePathInfo(form, path).parent === obj ? path.join('.') : '';\r\n}\r\n\r\nfunction emitDataChangeEvent() {\r\n    each(changedProps, function (form) {\r\n        var state = _(form);\r\n        var props = mapRemove(changedProps, form);\r\n        for (var i in props) {\r\n            while (i = i.replace(/(^|\\.)[^.]+$/, '')) {\r\n                props[i] = true;\r\n            }\r\n        }\r\n        var element = state.ref || dom.root;\r\n        var updatedFields = grep(state.fields, function (v) {\r\n            return props[v.path];\r\n        });\r\n        emitter.emit('dataChange', form, keys(props));\r\n        validateFields(form, grep(updatedFields, function (v) {\r\n            return v.version && (v.props.validateOnChange + 1 || form.validateOnChange + 1) > 1;\r\n        }));\r\n        if (form.preventLeave && !state.unlock && updatedFields[0] && dom.getEventSource(element) !== 'script') {\r\n            var promise = new Promise(function (resolve) {\r\n                state.unlock = function () {\r\n                    state.unlock = null;\r\n                    resolve();\r\n                };\r\n            });\r\n            preventLeave(element, promise, function () {\r\n                return emitter.emit('beforeLeave', form) || resolve();\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction handleDataChange(callback) {\r\n    var local;\r\n    var map = handleDataChange.d || (handleDataChange.d = local = new Set());\r\n    try {\r\n        callback();\r\n    } finally {\r\n        if (map === local) {\r\n            each(local, function (i, v) {\r\n                v.onChange(v.value);\r\n            });\r\n            handleDataChange.d = null;\r\n        }\r\n    }\r\n}\r\nhandleDataChange.d = null;\r\n\r\nfunction createDataObject(context, initialData) {\r\n    var state = _(context);\r\n    var target = isArray(initialData) ? [] : {};\r\n    var uniqueId = randomId();\r\n    var onChange = function (p, field) {\r\n        var path = getPath(context, proxy, p);\r\n        if (path) {\r\n            if (field) {\r\n                field.value = target[p];\r\n                if (!sameValueZero(field.value, target[p])) {\r\n                    setValue(p, field.value);\r\n                    return;\r\n                }\r\n                handleDataChange.d.add(field);\r\n            }\r\n            // ensure field associated with parent data object got notified\r\n            for (var key = uniqueId; key = state.paths[key]; key = key.slice(0, 8)) {\r\n                if (state.fields[key]) {\r\n                    handleDataChange.d.add(state.fields[key]);\r\n                }\r\n            }\r\n            if (context !== rootForm) {\r\n                mapGet(changedProps, context, Object)[path] = true;\r\n                setImmediateOnce(emitDataChangeEvent);\r\n            }\r\n            return true;\r\n        }\r\n    };\r\n    var setValue = function (p, v) {\r\n        if (isPlainObject(v) || isArray(v)) {\r\n            // ensure changes to nested data objects\r\n            // emits data change event to correct form context\r\n            if ((_(v) || '').context !== context) {\r\n                v = createDataObject(context, v);\r\n            }\r\n            state.paths[keyFor(v)] = uniqueId + '.' + p;\r\n        }\r\n        target[p] = v;\r\n        return v;\r\n    };\r\n    var deleteValue = function (p) {\r\n        delete target[p];\r\n    };\r\n    var proxy = new Proxy(target, {\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && (!sameValueZero(t[p], v) || !(p in t))) {\r\n                handleDataChange(function () {\r\n                    var prev = t[p];\r\n                    if (isArray(t)) {\r\n                        if (p === 'length') {\r\n                            // check for truncated indexes that would be deleted without calling the trap\r\n                            for (var index = prev - 1; index >= v; index--) {\r\n                                onChange(index);\r\n                            }\r\n                            t[p] = v;\r\n                            return true;\r\n                        }\r\n                    } else {\r\n                        if (_(v)) {\r\n                            throws(\"Cannot assign proxied data object\");\r\n                        }\r\n                        // apply changes to existing object or array when assigning new object or array\r\n                        // so that fields of the same path can have consistent key and state\r\n                        if (isArray(v) && isArray(prev)) {\r\n                            prev.splice.apply(prev, [0, prev.length].concat(v));\r\n                            return true;\r\n                        }\r\n                        if (isPlainObject(v) && _(prev)) {\r\n                            for (var i in exclude(prev, v)) {\r\n                                delete prev[i];\r\n                            }\r\n                            extend(prev, v);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    setValue(p, v);\r\n                    onChange(p, state.fields[uniqueId + '.' + p]);\r\n                });\r\n            }\r\n            return true;\r\n        },\r\n        deleteProperty: function (t, p) {\r\n            if (typeof p === 'string' && p in t) {\r\n                handleDataChange(function () {\r\n                    deleteValue(p);\r\n                    onChange(p);\r\n                });\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n    _(proxy, {\r\n        context,\r\n        uniqueId,\r\n        set: setValue,\r\n        delete: deleteValue\r\n    });\r\n    each(initialData, function (i, v) {\r\n        setValue(i, v);\r\n    });\r\n    return proxy;\r\n}\r\n\r\nfunction createFieldState(initialValue) {\r\n    var field = {\r\n        version: 0,\r\n        initialValue: initialValue,\r\n        value: initialValue,\r\n        error: '',\r\n        preset: {},\r\n        onChange: function (v) {\r\n            if (!field.controlled) {\r\n                field.version++;\r\n            }\r\n            if (field.props.onChange) {\r\n                field.props.onChange(cloneValue(v));\r\n            }\r\n        },\r\n        setValue: function (v) {\r\n            v = isFunction(v) ? v(field.value) : v;\r\n            if (!field.controlled) {\r\n                field.value = v;\r\n            } else if (!sameValueZero(v, field.value)) {\r\n                field.onChange(v);\r\n            }\r\n        },\r\n        setError: function (v) {\r\n            field.error = isFunction(v) ? v(field.error) : v;\r\n            (field.form || {}).isValid = null;\r\n        },\r\n        validate: function () {\r\n            return validateFields(field.key ? field.form : null, [field]);\r\n        },\r\n        elementRef: function (v) {\r\n            field.element = v;\r\n        }\r\n    };\r\n    watch(field, true);\r\n    defineObservableProperty(field, 'value', initialValue, function (newValue, oldValue) {\r\n        newValue = (field.preset.normalizeValue || pipe)(newValue, field.props);\r\n        if (newValue !== oldValue && _(oldValue) && newValue !== field.dict[field.name]) {\r\n            field.dict[field.name] = newValue;\r\n            return oldValue;\r\n        }\r\n        return newValue;\r\n    });\r\n    defineObservableProperty(field, 'error', '', function (v) {\r\n        return isFunction(v) || is(v, ValidationError) ? wrapErrorResult(field, v) : v || '';\r\n    });\r\n    watch(field, 'value', function (v) {\r\n        field.version++;\r\n        if (field.key) {\r\n            field.dict[field.name] = v;\r\n        } else if (!field.controlled) {\r\n            field.onChange(v);\r\n        }\r\n    });\r\n    watch(field, 'error', function (v) {\r\n        field.version++;\r\n        if (field.key) {\r\n            emitter.emit('validationChange', field.form, {\r\n                name: field.path,\r\n                isValid: !v,\r\n                message: String(v)\r\n            });\r\n        }\r\n    });\r\n    return field;\r\n}\r\n\r\nfunction useFormFieldInternal(form, state, field, preset, props, controlled, dict, key) {\r\n    var hasErrorProp = 'error' in props;\r\n    var prevKey = field.key || key;\r\n    extend(field, { form, props, preset, controlled, dict, key });\r\n    if (form && key) {\r\n        field.name = key.slice(9);\r\n        field.path = getPath(form, dict, field.name);\r\n        if (prevKey !== key) {\r\n            field.locks = [];\r\n            if (!hasErrorProp) {\r\n                field.error = '';\r\n            }\r\n        }\r\n        state.fields[key] = field;\r\n    } else {\r\n        field.path = '';\r\n    }\r\n    if (hasErrorProp) {\r\n        field.error = props.error;\r\n    }\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            state.fields[key] = field;\r\n        }\r\n        return function () {\r\n            if (state && state.fields[key] === field) {\r\n                delete state.fields[key];\r\n                if (field.props.clearWhenUnmount || field.form === rootForm) {\r\n                    setImmediate(function () {\r\n                        if (!state.fields[key]) {\r\n                            delete dict[key.slice(9)];\r\n                        }\r\n                    });\r\n                }\r\n                state.setValid();\r\n            }\r\n        };\r\n    }, [state, field, key]);\r\n    useEffect(function () {\r\n        if (state) {\r\n            state.setValid();\r\n        }\r\n    }, [state, field.error, props.disabled, props.required]);\r\n}\r\n\r\nfunction validateFields(form, fields) {\r\n    var validate = function (field) {\r\n        var name = field.path;\r\n        var value = field.value;\r\n        var result = emitter.emit('validate', form, { name, value });\r\n        if (result || !field.props) {\r\n            return result;\r\n        }\r\n        return (field.props.onValidate || noop)(value, name, form) || (hasImplicitError(field) && new ValidationError('required', 'Required'));\r\n    };\r\n    var promises = fields.map(function (v) {\r\n        var locks = v.locks || (v.locks = []);\r\n        var prev = locks[0];\r\n        if (prev) {\r\n            // debounce async validation\r\n            return locks[1] || (locks[1] = always(locks[0], function () {\r\n                var next = validate(v);\r\n                always(next, function () {\r\n                    // dismiss effects of previous validation if later one resolves earlier\r\n                    // so that validity always reflects on latest data\r\n                    if (locks[0] === prev) {\r\n                        locks.shift();\r\n                    }\r\n                });\r\n                return next;\r\n            }));\r\n        }\r\n        locks[0] = resolve(validate(v));\r\n        return locks[0];\r\n    });\r\n    return resolveAll(promises).then(function (result) {\r\n        fields.forEach(function (v, i) {\r\n            // checks if current validation is of the latest\r\n            if (v.locks[0] === promises[i]) {\r\n                v.locks.shift();\r\n                v.error = result[i];\r\n            }\r\n        });\r\n        var state = _(form);\r\n        if (state) {\r\n            state.setValid();\r\n        }\r\n        return !any(result);\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(field, error) {\r\n    return {\r\n        toString: function () {\r\n            if (is(error, ValidationError)) {\r\n                return single([field.props, field.form || '', FormContext], function (v) {\r\n                    return (v.formatError || noop).call(v, error, field.path || null, field.props, field.form);\r\n                }) || error.message;\r\n            }\r\n            return error(field.props || {});\r\n        }\r\n    };\r\n}\r\n\r\nfunction normalizeOptions(options) {\r\n    if (typeof options === 'boolean') {\r\n        options = {\r\n            validateOnChange: options\r\n        };\r\n    }\r\n    return extend({\r\n        autoPersist: true,\r\n        preventLeave: false,\r\n        validateOnChange: true\r\n    }, options);\r\n}\r\n\r\nfunction formPersist(form) {\r\n    _(form).viewState.set(form.toJSON());\r\n}\r\n\r\nexport function FormContext(initialData, options, viewState) {\r\n    if (isFunction(initialData)) {\r\n        initialData = initialData();\r\n    }\r\n    var self = this;\r\n    var fields = {};\r\n    var state = _(self, {\r\n        fields: fields,\r\n        viewState: viewState,\r\n        paths: {},\r\n        initialData: initialData,\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v) {\r\n                return !v.props.disabled && (v.error || hasImplicitError(v));\r\n            });\r\n        })\r\n    });\r\n    extend(self, normalizeOptions(options));\r\n    self.ref = function (element) {\r\n        state.ref = element;\r\n        if (element) {\r\n            instances.set(element, self);\r\n        }\r\n    };\r\n    self.isValid = true;\r\n    self.data = createDataObject(self, viewState.get() || state.initialData);\r\n}\r\n\r\ndefine(FormContext, {\r\n    ERROR_FIELD: 1,\r\n    EMPTY_FIELD: 2,\r\n    get: function (element) {\r\n        return single(parentsAndSelf(element), instances.get.bind(instances)) || null;\r\n    }\r\n});\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        return key ? (getField(this, key) || '').element : _(this).ref;\r\n    },\r\n    focus: function (key) {\r\n        var element;\r\n        if (typeof key === 'number') {\r\n            element = map(_(this).fields, function (v) {\r\n                return (v.error && (key & 1)) || (isEmpty(v, v.value) && (key & 2)) ? v.element : null;\r\n            }).sort(comparePosition)[0];\r\n        } else {\r\n            element = this.element(key);\r\n        }\r\n        return !!element && focus(element);\r\n    },\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    persist: function () {\r\n        formPersist(this);\r\n        this.autoPersist = false;\r\n    },\r\n    restore: function () {\r\n        var self = this;\r\n        var data = _(self).viewState.get();\r\n        if (data) {\r\n            self.reset(data);\r\n        }\r\n        return !!data;\r\n    },\r\n    clear: function () {\r\n        this.reset({});\r\n    },\r\n    reset: function (data) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var dict = _(self.data);\r\n        for (var i in self.data) {\r\n            dict.delete(i);\r\n        }\r\n        each(data || state.initialData, function (i, v) {\r\n            dict.set(i, v);\r\n        });\r\n        each(state.fields, function (i, v) {\r\n            var prop = resolvePathInfo(self, v.path);\r\n            if (v.controlled) {\r\n                v.onChange(prop.exists ? prop.value : v.initialValue);\r\n            } else if (prop.exists) {\r\n                v.value = prop.value;\r\n            }\r\n            v.error = null;\r\n        });\r\n        state.setValid();\r\n        (state.unlock || noop)();\r\n        emitter.emit('reset', self);\r\n    },\r\n    getValue: function (key) {\r\n        return cloneValue(resolvePathInfo(this, key).value);\r\n    },\r\n    setValue: function (key, value) {\r\n        var prop = resolvePathInfo(this, key);\r\n        if (prop.parent) {\r\n            prop.parent[prop.name] = cloneValue(value);\r\n        }\r\n    },\r\n    getErrors: function () {\r\n        var errorFields = grep(_(this).fields, function (v) {\r\n            return v.error;\r\n        });\r\n        return errorFields[0] ? errorFields.reduce(function (v, a) {\r\n            v[a.path] = String(a.error);\r\n            return v;\r\n        }, {}) : null;\r\n    },\r\n    getError: function (key) {\r\n        return String((getField(this, key) || '').error || '');\r\n    },\r\n    setError: function (key, error) {\r\n        (getField(this, key) || {}).error = error;\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var fields = _(self).fields;\r\n        var prefix = makeArray(arguments);\r\n        if (!prefix[0]) {\r\n            return validateFields(self, grep(fields, function (v) {\r\n                return !v.props.disabled;\r\n            }));\r\n        }\r\n        return validateFields(self, grep(fields, function (v) {\r\n            return any(prefix, function (w) {\r\n                var len = w.length;\r\n                return v.path.slice(0, len) === w && (!v.path[len] || v.path[len] === '.');\r\n            });\r\n        }));\r\n    },\r\n    toJSON: function () {\r\n        return extend(true, {}, this.data);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(FormContext.prototype, 'preventLeave', false, function (value) {\r\n    if (!value) {\r\n        (_(this).unlock || noop)();\r\n    }\r\n    return !!value;\r\n});\r\n\r\nexport function useFormContext(persistKey, initialData, options) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useFormContext('', persistKey, initialData);\r\n    }\r\n    const viewState = useViewState(persistKey);\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, options, viewState);\r\n    })[0];\r\n    const forceUpdate = useUpdateTrigger();\r\n    useObservableProperty(form, 'isValid');\r\n    useUnloadEffect(function () {\r\n        (_(form).unlock || noop)();\r\n        if (form.autoPersist) {\r\n            formPersist(form);\r\n        }\r\n    });\r\n    useEffect(function () {\r\n        if (mapRemove(changedProps, form)) {\r\n            forceUpdate();\r\n        }\r\n        return form.on({\r\n            dataChange: forceUpdate,\r\n            reset: forceUpdate\r\n        });\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(type, props, defaultValue, prop) {\r\n    if (typeof type === 'string') {\r\n        type = fieldTypes[type];\r\n    }\r\n    if (!isFunction(type)) {\r\n        prop = defaultValue;\r\n        defaultValue = props;\r\n        props = type;\r\n        type = '';\r\n    }\r\n    const preset = type ? mapGet(presets, type, type) : {};\r\n    prop = prop || preset.valueProperty || 'value';\r\n\r\n    const dict = useContext(FormObjectContext);\r\n    const form = dict && _(dict).context;\r\n    const state = form && _(form);\r\n    const name = props.name || '';\r\n    const key = form && name && (keyFor(dict) + '.' + name);\r\n    const controlled = prop in props;\r\n\r\n    const field = useState(function () {\r\n        var initialValue = controlled ? props[prop] : (preset.normalizeValue || pipe)(defaultValue !== undefined ? defaultValue : preset.defaultValue);\r\n        return createFieldState(initialValue);\r\n    })[0];\r\n    useFormFieldInternal(form, state, field, preset, props, controlled, dict, key);\r\n    if (controlled) {\r\n        field.value = props[prop];\r\n    }\r\n    if (form && key) {\r\n        if (!(name in dict)) {\r\n            if (isEmpty(field, field.initialValue)) {\r\n                field.value = _(dict).set(name, field.initialValue);\r\n            } else {\r\n                dict[name] = field.initialValue;\r\n            }\r\n            field.version = 0;\r\n        } else if (!controlled) {\r\n            field.value = dict[name];\r\n        }\r\n    }\r\n    const state1 = (preset.postHook || pipe)({\r\n        form: form,\r\n        key: key,\r\n        path: field.path,\r\n        value: field.value,\r\n        error: String(field.error),\r\n        setValue: field.setValue,\r\n        setError: field.setError,\r\n        validate: field.validate,\r\n        elementRef: field.elementRef\r\n    }, props);\r\n    state1.value = field.value;\r\n    state1.error = String(field.error);\r\n    useObservableProperty(field, 'version');\r\n    return state1;\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n\r\nexport function registerFieldType(type, options) {\r\n    if (isFunction(options)) {\r\n        options = {\r\n            postHook: options\r\n        };\r\n    }\r\n    fieldTypes[type] = function () {\r\n        return options;\r\n    };\r\n}\r\n\r\nexport const Form = forwardRef(function (props, ref) {\r\n    const form = props.context;\r\n    const onSubmit = function (e) {\r\n        if (!props.action) {\r\n            e.preventDefault();\r\n        }\r\n        (props.onSubmit || noop).call(this, e);\r\n    };\r\n    const onReset = function (e) {\r\n        e.preventDefault();\r\n        form.reset();\r\n        (props.onReset || noop).call(this, e);\r\n    };\r\n    extend(form, pick(props, ['enterKeyHint', 'preventLeave', 'formatError']));\r\n    return createElement(FormObjectProvider, { value: form.data },\r\n        createElement('form', extend(exclude(props, ['context', 'enterKeyHint', 'preventLeave', 'formatError']), { ref: combineRef(ref, form.ref), onSubmit, onReset })));\r\n});\r\n\r\nexport function FormContextProvider(props) {\r\n    return createElement(FormObjectProvider, { value: props.value.data }, props.children);\r\n}\r\n\r\nexport function FormArray(props) {\r\n    return FormObject(extend({}, props, { defaultValue: [] }));\r\n}\r\n\r\nexport function FormObject(props) {\r\n    var uniqueId = useState(randomId)[0];\r\n    var name = props.name;\r\n    var dict = useContext(FormObjectContext);\r\n    if (!dict) {\r\n        dict = rootForm.data;\r\n        name = uniqueId;\r\n    }\r\n    var fieldRef = useRef();\r\n    var form = _(dict).context;\r\n    var state = _(form);\r\n    var value = props.value;\r\n    if (name) {\r\n        value = 'value' in props ? value : isPlainObject(dict[name]) || isArray(dict[name]) || props.defaultValue || {};\r\n        value = _(dict).set(name, value);\r\n    } else if (!(_(value) || '').context) {\r\n        throws('Value must be a data object or array');\r\n    }\r\n    // field state registered by useFormField has a higher priority\r\n    // create own field state only when needed\r\n    var key = state.paths[keyFor(value)];\r\n    if (typeof (state.fields[key] || '').controlled !== 'boolean') {\r\n        var field = fieldRef.current || (fieldRef.current = createFieldState(value));\r\n        useFormFieldInternal(form, state, field, {}, props, 0, dict, key);\r\n        field.value = value;\r\n    } else {\r\n        useEffect(noop, [null]);\r\n        useEffect(noop, [null]);\r\n    }\r\n    var children = props.children;\r\n    if (isFunction(children)) {\r\n        children = children(value);\r\n    }\r\n    return createElement(FormObjectProvider, { value }, children);\r\n}\r\n\r\nexport function HiddenField(props) {\r\n    useFormField(props, props.value);\r\n    return null;\r\n}\r\n\r\ndefine(FormObject, { keyFor });\r\n\r\nimport ChoiceField from \"./fields/ChoiceField.js\";\r\nimport DateField from \"./fields/DateField.js\";\r\nimport MultiChoiceField from \"./fields/MultiChoiceField.js\";\r\nimport NumericField from \"./fields/NumericField.js\";\r\nimport TextField from \"./fields/TextField.js\";\r\nimport ToggleField from \"./fields/ToggleField.js\";\r\n\r\nexport {\r\n    ChoiceField,\r\n    DateField,\r\n    MultiChoiceField,\r\n    NumericField,\r\n    TextField,\r\n    ToggleField\r\n}\r\n","export * from \"./css.js\";\r\nexport * from \"./dataView.js\";\r\nexport * from \"./form.js\";\r\nexport * from \"./hooks.js\";\r\nexport * from \"./util.js\";\r\nexport * from \"./viewState.js\";\r\n","import zeta from \"zeta-dom\";const _defaultExport = zeta; export default _defaultExport;","import zeta from \"zeta-dom/index\";\r\nexport default zeta;\r\n","import * as all from \"./index.js\";\r\nexport default all;\r\n\r\nimport zeta from \"./include/zeta-dom/index.js\";\r\nzeta.react = all;\r\n"],"names":["zeta","util","noop","pipe","either","sameValueZero","is","isUndefinedOrNull","isArray","isFunction","isThenable","isPlainObject","isArrayLike","makeArray","extend","each","map","grep","splice","any","single","kv","fill","pick","exclude","mapObject","mapGet","mapRemove","arrRemove","setAdd","equal","combineFn","executeOnce","createPrivateStore","setTimeout","setTimeoutOnce","setInterval","setIntervalSafe","setImmediate","setImmediateOnce","clearImmediateOnce","throws","throwNotFunction","errorWithCode","isErrorWithCode","keys","values","hasOwnProperty","getOwnPropertyDescriptors","define","definePrototype","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","defineObservableProperty","watch","watchOnce","watchable","inherit","freeze","deepFreeze","iequal","randomId","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","matchWordMulti","htmlDecode","resolve","reject","always","resolveAll","retryable","deferrable","catchAsync","setPromiseTimeout","delay","makeAsync","domReady","tagName","isVisible","matchSelector","comparePosition","connected","containsOrEquals","acceptNode","combineNodeFilters","iterateNode","iterateNodeToArray","getCommonAncestor","parentsAndSelf","selectIncludeSelf","selectClosestRelative","createNodeIterator","createTreeWalker","bind","bindOnce","bindUntil","dispatchDOMMouseEvent","removeNode","getClass","setClass","getSafeAreaInset","getScrollOffset","getScrollParent","getContentRect","scrollBy","scrollIntoView","makeSelection","getRect","getRects","toPlainRect","rectEquals","rectCovers","rectIntersects","pointInRect","mergeRect","elementFromPoint","_defaultExport","dom","reportError","textInputAllowed","beginDrag","beginPinchZoom","insertText","getShortcut","setShortcut","focusable","focused","setTabRoot","unsetTabRoot","setModal","releaseModal","retainFocus","releaseFocus","iterateFocusPath","focus","blur","lock","locked","cancelLock","subscribeAsync","notifyAsync","runAsync","preventLeave","ZetaEventContainer","EventContainer","StrictMode","createElement","ReactDOM","extraRender","flushSync","TestComponent","container","document","element","createRoot","render","IS_DEV","useCallback","useEffect","useMemo","useRef","useState","singletons","WeakSet","unusedSingletons","Map","AbortController","window","useSingletonEffect","useSingletonEffectImplDev","useSingletonEffectImpl","unloadCallbacks","muteRejection","promise","clearUnusedSingletons","i","target","dispose","add","set","useUpdateTrigger","setState","useMemoizedFunction","callback","ref","current","apply","arguments","useObservableProperty","obj","key","forceUpdate","value","cb","v","useAsync","init","deps","debounce","state","useSingleton","currentController","nextResult","loading","undefined","error","elementRef","on","event","handler","onError","e","call","refresh","force","waitFor","d","then","controller","abort","result","signal","resolved","emit","data","root","reason","concat","useRefInitCallback","args","useDispose","callbacks","length","push","isSingletonDisposed","has","factory","onDispose","useErrorHandlerRef","useErrorHandler","reemitting","catchError","reemitError","filter","isErrorOf","useUnloadEffect","Set","reverse","persisted","useMediaQuery","query","mq","matchMedia","matches","createBreakpointContext","breakpoints","setValue","Object","useBreakpoint","createContext","useContext","ViewStateProviderContext","noopStorage","get","ViewStateProvider","Provider","useViewState","uniqueId","provider","getState","_","proto","DataView","prototype","emitter","compare","a","b","x","y","String","localeCompare","caseFirst","filters","sortBy","sortOrder","pageSize","self","defaults","pageIndex","items","emitViewChange","onUpdated","sorted","filtered","itemCount","getView","sort","filteredItems","slice","prop","item","dir","toggleSort","toJSON","reset","newValue","useDataView","persistKey","viewState","dataView","onPopState","Fragment","lazy","Suspense","boundEvents","WeakMap","domEventRef","arr","Error","Array","index","classNames","className","process","j","getClassNames","join","innerTextOrHTML","text","dangerouslySetInnerHTML","children","partial","fn","combineRef","toRefCallback","withSuspense","fallback","Component","props","ChoiceField","normalizeChoiceItems","label","normalizeItems","defaultValue","postHook","selectedIndex","findIndex","allowUnselect","selectedItem","re","units","m","w","parseRelativeDate","str","date","Date","toLowerCase","replace","c","normalizeDate","test","parse","setHours","clampValue","min","max","ts","toDateObject","isNaN","toDateString","tz","getTimezoneOffset","toISOString","indexOf","DateField","normalizeValue","displayText","formatDisplay","clamped","MultiChoiceField","allowCustomValues","isUnknown","some","toggleValue","selected","cur","NumericField","step","allowEmpty","rounded","Math","round","TextField","form","inputProps","type","autoComplete","enterKeyHint","ToggleField","valueProperty","isEmpty","forwardRef","presets","instances","changedProps","rootForm","FormContext","fieldTypes","toggle","choice","FormObjectContext","FormObjectProvider","ValidationError","kind","message","field","preset","hasImplicitError","required","cloneValue","keyFor","resolvePathInfo","path","split","parent","len","name","exists","getField","fields","getPath","paths","unshift","emitDataChangeEvent","updatedFields","validateFields","version","validateOnChange","unlock","getEventSource","Promise","handleDataChange","local","onChange","createDataObject","context","initialData","p","proxy","deleteValue","Proxy","t","prev","deleteProperty","createFieldState","initialValue","controlled","setError","isValid","validate","oldValue","dict","wrapErrorResult","useFormFieldInternal","hasErrorProp","prevKey","locks","clearWhenUnmount","setValid","disabled","onValidate","promises","next","shift","forEach","toString","formatError","normalizeOptions","options","autoPersist","formPersist","ERROR_FIELD","EMPTY_FIELD","persist","restore","clear","getValue","getErrors","errorFields","reduce","getError","prefix","useFormContext","dataChange","useFormField","state1","combineValidators","validators","registerFieldType","Form","onSubmit","action","preventDefault","onReset","FormContextProvider","FormArray","FormObject","fieldRef","HiddenField","all","react"],"sourceRoot":""}