{"version":3,"file":"zeta-dom-react.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./src/include/zeta-dom/util.js","webpack://zeta-dom-react/./tmp/zeta-dom/domUtil.js","webpack://zeta-dom-react/./src/include/zeta-dom/domUtil.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./tmp/zeta-dom/domLock.js","webpack://zeta-dom-react/./src/include/zeta-dom/domLock.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./src/include/zeta-dom/events.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/css.js","webpack://zeta-dom-react/./src/viewState.js","webpack://zeta-dom-react/./src/dataView.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./src/index.js","webpack://zeta-dom-react/./tmp/zeta-dom/index.js","webpack://zeta-dom-react/./src/include/zeta-dom/index.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, retryable, deferrable, catchAsync, setPromiseTimeout, delay, makeAsync } = zeta.util; export { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, retryable, deferrable, catchAsync, setPromiseTimeout, delay, makeAsync };","export * from \"zeta-dom/util\";\r\n","import zeta from \"zeta-dom\";const { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint } = zeta.util; export { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint };","export * from \"zeta-dom/domUtil\";\r\n","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import zeta from \"zeta-dom\";const { lock, locked, cancelLock, subscribeAsync, notifyAsync, preventLeave } = zeta.dom; export { lock, locked, cancelLock, subscribeAsync, notifyAsync, preventLeave };","export * from \"zeta-dom/domLock\";\r\n","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","export { ZetaEventContainer } from \"zeta-dom/events\";\r\n","import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\nimport { notifyAsync } from \"./include/zeta-dom/domLock.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { always, combineFn, extend, is, isArray, isErrorWithCode, isFunction, makeArray, makeAsync, map, pipe, resolve, setAdd, watch } from \"./include/zeta-dom/util.js\";\r\n\r\nconst fnWeakMap = new WeakMap();\r\nconst container = new ZetaEventContainer();\r\n\r\nexport function useUpdateTrigger() {\r\n    const setState = useState()[1];\r\n    return useCallback(function () {\r\n        setState({});\r\n    }, []);\r\n}\r\n\r\nexport function useMemoizedFunction(callback) {\r\n    const fn = useCallback(function fn() {\r\n        const cb = fnWeakMap.get(fn);\r\n        return cb && cb.apply(this, arguments);\r\n    }, []);\r\n    fnWeakMap.set(fn, callback);\r\n    return fn;\r\n}\r\n\r\nexport function useObservableProperty(obj, key) {\r\n    const forceUpdate = useUpdateTrigger();\r\n    const value = obj[key];\r\n    const ref = useRef();\r\n    ref.current = value;\r\n    useEffect(function () {\r\n        var cb = function (v) {\r\n            if (v !== ref.current) {\r\n                forceUpdate();\r\n            }\r\n        };\r\n        cb(obj[key]);\r\n        return watch(obj, key, cb);\r\n    }, [obj, key]);\r\n    return value;\r\n}\r\n\r\nexport function useAsync(init, deps) {\r\n    const state = useState(function () {\r\n        var element;\r\n        var currentPromise;\r\n        return {\r\n            loading: true,\r\n            elementRef: function (current) {\r\n                element = current;\r\n            },\r\n            on: function (event, handler) {\r\n                return container.add(state, event, handler);\r\n            },\r\n            onError: function (handler) {\r\n                return state.on('error', function (e) {\r\n                    return handler.call(state, e.error);\r\n                });\r\n            },\r\n            refresh: function () {\r\n                extend(state, { loading: true, error: undefined });\r\n                var result = makeAsync(init)();\r\n                var promise = always(result, function (resolved, value) {\r\n                    if (!state.disposed && currentPromise === promise) {\r\n                        if (resolved) {\r\n                            extend(state, { loading: false, value: value });\r\n                            container.emit('load', state, { data: value });\r\n                        } else {\r\n                            extend(state, { loading: false, value: undefined, error: value });\r\n                            if (!container.emit('error', state, { error: value })) {\r\n                                throw value;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                currentPromise = promise;\r\n                notifyAsync(element || dom.root, promise);\r\n                return result;\r\n            }\r\n        };\r\n    })[0];\r\n    deps = [deps !== false].concat(isArray(deps) || []);\r\n    init = useMemoizedFunction(init);\r\n    useEffect(function () {\r\n        return function () {\r\n            state.disposed = true;\r\n        };\r\n    }, [state]);\r\n    useEffect(function () {\r\n        if (deps[0]) {\r\n            // keep call to refresh in useEffect to avoid double invocation\r\n            // in strict mode in development environment\r\n            state.refresh();\r\n        }\r\n    }, deps);\r\n    useMemo(function () {\r\n        if (deps[0]) {\r\n            state.loading = true;\r\n        }\r\n    }, deps);\r\n    useObservableProperty(state, 'loading');\r\n    return [state.value, state];\r\n}\r\n\r\nexport function useRefInitCallback(init) {\r\n    const args = makeArray(arguments);\r\n    const set = useState(new WeakSet())[0];\r\n    return function (v) {\r\n        if (v && setAdd(set, v)) {\r\n            args[0] = v;\r\n            init.apply(null, args);\r\n        }\r\n    };\r\n}\r\n\r\nexport function useDispose() {\r\n    const dispose = useState(function () {\r\n        const callbacks = [\r\n            function () {\r\n                callbacks.splice(0, callbacks.length - 1);\r\n            }\r\n        ];\r\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\r\n    })[0];\r\n    useEffect(function () {\r\n        return dispose;\r\n    }, [dispose]);\r\n    return dispose;\r\n}\r\n\r\nexport function useErrorHandlerRef() {\r\n    return useErrorHandler.apply(this, arguments).ref;\r\n}\r\n\r\nexport function useErrorHandler() {\r\n    const reemitting = useRef(false);\r\n    const ref = useRef(null);\r\n    const args = makeArray(arguments);\r\n    const handler = useState(function () {\r\n        return {\r\n            ref: function (element) {\r\n                ref.current = element;\r\n                init(element);\r\n            },\r\n            catch: function (filter, callback) {\r\n                var isErrorOf;\r\n                if (callback) {\r\n                    isErrorOf = isFunction(filter) ? is : isErrorWithCode;\r\n                } else {\r\n                    callback = filter;\r\n                }\r\n                return container.add(handler, isErrorOf ? 'error' : 'default', function (e) {\r\n                    if ((isErrorOf || pipe)(e.error, filter)) {\r\n                        return callback(e.error);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    })[0];\r\n    const reemitError = useCallback(function (error) {\r\n        try {\r\n            reemitting.current = true;\r\n            return dom.emit('error', ref.current || dom.root, { error }, true);\r\n        } finally {\r\n            reemitting.current = false;\r\n        }\r\n    }, []);\r\n    const catchError = useCallback(function (error) {\r\n        return container.emit('error', handler, { error }) || container.emit('default', handler, { error });\r\n    }, []);\r\n    const init = useRefInitCallback(function (element) {\r\n        dom.on(element, 'error', function (e) {\r\n            if (!reemitting.current) {\r\n                return catchError(e.error);\r\n            }\r\n        });\r\n    });\r\n    useEffect(function () {\r\n        return combineFn(map(args, function (v) {\r\n            return v.onError(function (error) {\r\n                return catchError(error) || reemitError(error) || resolve();\r\n            });\r\n        }));\r\n    }, args);\r\n    return handler;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { defineObservableProperty, each, watch } from \"./include/zeta-dom/util.js\";\r\nimport { bind } from \"./include/zeta-dom/domUtil.js\";\r\nimport { useDispose, useUpdateTrigger } from \"./hooks.js\";\r\n\r\nexport function useMediaQuery(query) {\r\n    var onDispose = useDispose();\r\n    var state = useState(function () {\r\n        var mq = matchMedia(query);\r\n        onDispose.push(bind(mq, 'change', () => {\r\n            state[1](mq.matches);\r\n        }));\r\n        return mq.matches;\r\n    });\r\n    return state[0];\r\n}\r\n\r\n/**\r\n * @param {Zeta.Dictionary<string>} breakpoints\r\n */\r\nexport function createBreakpointContext(breakpoints) {\r\n    var values = {};\r\n    watch(values, true);\r\n    each(breakpoints, function (i, v) {\r\n        var mq = matchMedia(v);\r\n        var setValue = defineObservableProperty(values, i, mq.matches, true);\r\n        bind(mq, 'change', function () {\r\n            setValue(mq.matches);\r\n        });\r\n    });\r\n    return {\r\n        breakpoints: Object.freeze(values),\r\n        useBreakpoint: function () {\r\n            var forceUpdate = useUpdateTrigger();\r\n            useEffect(function () {\r\n                return watch(values, forceUpdate);\r\n            }, []);\r\n            return values;\r\n        }\r\n    };\r\n}\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { noop, randomId } from \"./include/zeta-dom/util.js\";\r\n\r\n/** @type {React.Context<import(\"./viewState\").ViewStateProvider | null>} */\r\n// @ts-ignore: type inference issue\r\nconst ViewStateProviderContext = createContext(null);\r\nconst noopStorage = Object.freeze({\r\n    get: noop,\r\n    set: noop\r\n});\r\n\r\nexport const ViewStateProvider = ViewStateProviderContext.Provider;\r\n\r\nexport function useViewState(key) {\r\n    var uniqueId = useState(randomId)[0];\r\n    var provider = useContext(ViewStateProviderContext);\r\n    var state = (provider && key && provider.getState(uniqueId, key)) || noopStorage;\r\n    useEffect(function () {\r\n        return state.dispose && state.dispose.bind(state);\r\n    }, [state]);\r\n    return state;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, each, extend, isArray, isFunction, isUndefinedOrNull, keys, makeArray, noop, pick, pipe, single, watch } from \"./include/zeta-dom/util.js\";\r\nimport { useUpdateTrigger } from \"./hooks.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst proto = DataView.prototype;\r\nconst emitter = new ZetaEventContainer();\r\n\r\nfunction compare(a, b) {\r\n    var x = isUndefinedOrNull(a) && -1;\r\n    var y = isUndefinedOrNull(b) && 1;\r\n    if (x || y) {\r\n        return x + y;\r\n    }\r\n    if (typeof a === 'string' || typeof b === 'string') {\r\n        return String(a).localeCompare(b, undefined, { caseFirst: 'upper' });\r\n    }\r\n    return a - b;\r\n}\r\n\r\nexport function DataView(filters, sortBy, sortOrder, pageSize) {\r\n    var self = this;\r\n    var defaults = {\r\n        filters: extend({}, filters),\r\n        sortBy: sortBy,\r\n        sortOrder: sortOrder || (sortBy && 'asc'),\r\n        pageIndex: 0,\r\n        pageSize: pageSize === undefined ? DataView.pageSize : pageSize\r\n    }\r\n    filters = extend({}, filters);\r\n    for (let i in filters) {\r\n        defineObservableProperty(filters, i);\r\n    }\r\n    var state = _(self, {\r\n        filters: Object.freeze(filters),\r\n        defaults: defaults,\r\n        items: [],\r\n    });\r\n    var onUpdated = function () {\r\n        state.sorted = state.items.length ? undefined : [];\r\n        if (this !== self) {\r\n            state.filtered = state.sorted;\r\n        }\r\n        emitter.emitAsync('viewChange', self);\r\n    };\r\n    extend(this, defaults);\r\n    watch(self, onUpdated);\r\n    watch(self.filters, onUpdated);\r\n}\r\n\r\ndefine(DataView, {\r\n    pageSize: 0\r\n});\r\n\r\ndefinePrototype(DataView, {\r\n    itemCount: 0,\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    getView: function (items, callback) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var pageIndex = self.pageIndex || 0;\r\n        var pageSize = self.pageSize || 0;\r\n        if (items !== state.items) {\r\n            state.items = items || [];\r\n            state.filtered = state.items.length ? undefined : [];\r\n            state.sorted = state.filtered;\r\n        }\r\n        callback = callback || function (items) {\r\n            return self.sort(items);\r\n        };\r\n        var filteredItems = state.sorted || (state.sorted = callback.call(self, state.filtered || state.items, self.filters, self.sortBy, self.sortOrder) || []);\r\n        state.filtered = filteredItems;\r\n        if (items) {\r\n            self.itemCount = filteredItems.length;\r\n        }\r\n        return [filteredItems.slice(pageIndex * pageSize, pageSize ? (pageIndex + 1) * pageSize : undefined), filteredItems.length];\r\n    },\r\n    sort: function (items, callback) {\r\n        var self = this;\r\n        items = makeArray(items);\r\n        if (!isFunction(callback)) {\r\n            var prop = callback || self.sortBy;\r\n            if (!prop) {\r\n                return items;\r\n            }\r\n            callback = function (item) {\r\n                return item[prop];\r\n            };\r\n        }\r\n        var dir = self.sortOrder === 'desc' ? -1 : 1;\r\n        var values = new Map();\r\n        each(items, function (i, v) {\r\n            values.set(v, callback(v));\r\n        });\r\n        return items.sort(function (a, b) {\r\n            var x = values.get(a);\r\n            var y = values.get(b);\r\n            return dir * (isArray(x) ? single(x, function (v, i) {\r\n                return compare(v, y[i]);\r\n            }) : compare(x, y));\r\n        });\r\n    },\r\n    toJSON: function () {\r\n        var self = this;\r\n        return extend(pick(self, keys(_(self).defaults)), {\r\n            filters: extend({}, self.filters),\r\n            itemCount: self.itemCount\r\n        });\r\n    },\r\n    reset: function () {\r\n        extend(this, _(this).defaults);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(proto, 'sortBy');\r\ndefineObservableProperty(proto, 'sortOrder');\r\ndefineObservableProperty(proto, 'pageIndex');\r\ndefineObservableProperty(proto, 'pageSize');\r\ndefineObservableProperty(proto, 'filters', {}, function (newValue) {\r\n    return extend(_(this).filters, newValue);\r\n});\r\n\r\nexport function useDataView(persistKey, filters, sortBy, sortOrder, pageSize) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useDataView('__dataView', persistKey, filters, sortBy, sortOrder);\r\n    }\r\n    var viewState = useViewState(persistKey);\r\n    var forceUpdate = useUpdateTrigger();\r\n    var dataView = useState(function () {\r\n        return extend(new DataView(filters, sortBy, sortOrder, pageSize), viewState.get());\r\n    })[0];\r\n    useEffect(function () {\r\n        var state = _(dataView);\r\n        return combineFn(\r\n            dataView.on('viewChange', forceUpdate),\r\n            viewState.onPopState ? viewState.onPopState(function (newValue) {\r\n                viewState.set(dataView.toJSON());\r\n                extend(dataView, newValue || state.defaults);\r\n            }) : noop,\r\n            function () {\r\n                viewState.set(dataView.toJSON());\r\n            }\r\n        );\r\n    }, [dataView]);\r\n    return dataView;\r\n}\r\n","import { createElement, Fragment, lazy, Suspense } from \"react\";\r\nimport { combineFn, each, extend, isFunction, isPlainObject, kv, makeArray, noop } from \"./include/zeta-dom/util.js\";\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function innerTextOrHTML(text) {\r\n    return isPlainObject(text) ? { dangerouslySetInnerHTML: text } : { children: text };\r\n}\r\n\r\nexport function partial(setState, key) {\r\n    var fn = function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n    return key ? fn.bind(0, key) : fn;\r\n}\r\n\r\nexport function combineRef() {\r\n    return combineFn(makeArray(arguments).map(toRefCallback));\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n\r\nexport function withSuspense(factory, fallback) {\r\n    fallback = fallback || Fragment;\r\n    if (isFunction(fallback)) {\r\n        fallback = createElement(fallback);\r\n    }\r\n    const Component = lazy(factory);\r\n    return function (props) {\r\n        return createElement(Suspense, { fallback }, createElement(Component, props));\r\n    };\r\n}\r\n","import { createContext, createElement, forwardRef, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { always, any, combineFn, createPrivateStore, defineObservableProperty, definePrototype, each, either, exclude, extend, grep, isArray, isFunction, isUndefinedOrNull, keys, makeArray, mapGet, mapRemove, noop, pick, pipe, resolve, resolveAll, setImmediateOnce, splice, watch } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport dom, { focus } from \"./include/zeta-dom/dom.js\";\r\nimport { preventLeave } from \"./include/zeta-dom/domLock.js\";\r\nimport { useMemoizedFunction, useObservableProperty, useUpdateTrigger } from \"./hooks.js\";\r\nimport { combineRef } from \"./util.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst emitter = new ZetaEventContainer();\r\nconst presets = new WeakMap();\r\nconst changedProps = new Map();\r\nconst fieldTypes = {\r\n    text: TextField,\r\n    toggle: ToggleField,\r\n    choice: ChoiceField\r\n};\r\n\r\n/** @type {React.Context<import (\"./form\").FormContext>} */\r\n// @ts-ignore: type inference issue\r\nconst _FormContext = createContext(null);\r\n\r\nexport const FormContextProvider = _FormContext.Provider;\r\n\r\nfunction isEmpty(value) {\r\n    return isUndefinedOrNull(value) || value === '' || (isArray(value) && !value.length);\r\n}\r\n\r\nfunction emitDataChangeEvent() {\r\n    each(changedProps, function (i) {\r\n        emitter.emit('dataChange', i, Object.keys(mapRemove(changedProps, i)));\r\n    });\r\n}\r\n\r\nfunction createDataObject(context, initialData) {\r\n    var state = _(context);\r\n    var target = extend({}, initialData);\r\n    var onChange = function (p) {\r\n        mapGet(changedProps, context, Object)[p] = true;\r\n        setImmediateOnce(emitDataChangeEvent);\r\n    };\r\n    var proxy = new Proxy(target, {\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && t[p] !== v) {\r\n                onChange(p);\r\n                t[p] = v;\r\n                (state.fields[p] || {}).value = v;\r\n            }\r\n            return true;\r\n        },\r\n        deleteProperty: function (t, p) {\r\n            var field = state.fields[p];\r\n            if (field) {\r\n                proxy[p] = field.initialValue;\r\n            } else if (p in t) {\r\n                onChange(p);\r\n                delete t[p];\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n    _(proxy, target);\r\n    return proxy;\r\n}\r\n\r\nfunction wrapErrorResult(field, error) {\r\n    return {\r\n        toString: function () {\r\n            return error(field.props || {});\r\n        }\r\n    };\r\n}\r\n\r\nfunction normalizeOptions(options) {\r\n    if (typeof options === 'boolean') {\r\n        options = {\r\n            validateOnChange: options\r\n        };\r\n    }\r\n    return extend({\r\n        autoPersist: true,\r\n        preventLeave: false,\r\n        validateOnChange: true\r\n    }, options);\r\n}\r\n\r\nexport function FormContext(initialData, options, viewState) {\r\n    var self = this;\r\n    var fields = {};\r\n    var state = _(self, {\r\n        fields: fields,\r\n        viewState: viewState,\r\n        vlocks: {},\r\n        initialData: initialData,\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v, i) {\r\n                var props = v.props;\r\n                return !props.disabled && (v.error || (props.required && (props.isEmpty || v.preset.isEmpty || isEmpty)(v.value)));\r\n            });\r\n        })\r\n    });\r\n    extend(self, normalizeOptions(options));\r\n    self.ref = function (element) {\r\n        state.ref = element;\r\n    };\r\n    self.isValid = true;\r\n    self.data = createDataObject(self, viewState.get() || state.initialData);\r\n    self.on('dataChange', function (e) {\r\n        if (self.validateOnChange) {\r\n            var fieldsToValidate = grep(e.data, function (v) {\r\n                return fields[v] && fields[v].props.validateOnChange !== false;\r\n            });\r\n            if (fieldsToValidate[0]) {\r\n                self.validate.apply(self, fieldsToValidate);\r\n            }\r\n        }\r\n        if (self.preventLeave && !state.unlock) {\r\n            var promise = new Promise(function (resolve) {\r\n                state.unlock = function () {\r\n                    state.unlock = null;\r\n                    resolve();\r\n                };\r\n            });\r\n            preventLeave(state.ref || dom.root, promise, function () {\r\n                return emitter.emit('beforeLeave', self);\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        var field = _(this).fields[key];\r\n        return field && field.element;\r\n    },\r\n    focus: function (key) {\r\n        var element = this.element(key);\r\n        if (element) {\r\n            focus(element);\r\n        }\r\n    },\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    persist: function () {\r\n        var self = this;\r\n        _(self).viewState.set(self.toJSON());\r\n        self.autoPersist = false;\r\n    },\r\n    restore: function () {\r\n        var self = this;\r\n        var data = _(self).viewState.get();\r\n        if (data) {\r\n            self.reset(data);\r\n        }\r\n        return !!data;\r\n    },\r\n    reset: function (data) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var dict = _(self.data);\r\n        for (var i in dict) {\r\n            delete dict[i];\r\n        }\r\n        each(state.fields, function (i, v) {\r\n            dict[i] = v.initialValue;\r\n            v.value = v.initialValue;\r\n            v.error = null;\r\n        });\r\n        extend(dict, data || state.initialData);\r\n        state.setValid();\r\n        (state.unlock || noop)();\r\n        emitter.emit('reset', self);\r\n    },\r\n    setError: function (key, error) {\r\n        (_(this).fields[key] || {}).error = error;\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        var vlocks = state.vlocks;\r\n        var props = makeArray(arguments);\r\n        if (!props.length) {\r\n            props = keys(state.fields);\r\n        }\r\n        var validate = function (name) {\r\n            var field = state.fields[name];\r\n            var value = self.data[name];\r\n            var result = emitter.emit('validate', self, { name, value });\r\n            if (!result && field) {\r\n                result = (field.props.onValidate || noop)(value, name, self);\r\n            }\r\n            return result;\r\n        };\r\n        var promises = props.map(function (v) {\r\n            var arr = vlocks[v] = (vlocks[v] || []);\r\n            var prev = arr[0];\r\n            if (prev) {\r\n                // debounce async validation\r\n                return arr[1] || (arr[1] = always(arr[0], function () {\r\n                    var next = validate(v);\r\n                    always(next, function () {\r\n                        // dismiss effects of previous validation if later one resolves earlier\r\n                        // so that validity always reflects on latest data\r\n                        if (arr[0] === prev) {\r\n                            arr.shift();\r\n                        }\r\n                    });\r\n                    return next;\r\n                }));\r\n            }\r\n            arr[0] = resolve(validate(v));\r\n            return arr[0];\r\n        });\r\n        return resolveAll(promises).then(function (result) {\r\n            props.forEach(function (v, i) {\r\n                // checks if current validation is of the latest\r\n                if (vlocks[v][0] === promises[i]) {\r\n                    vlocks[v].shift();\r\n                    self.setError(v, result[i]);\r\n                }\r\n            });\r\n            state.setValid();\r\n            return !any(result, function (v) {\r\n                return v;\r\n            });\r\n        });\r\n    },\r\n    toJSON: function () {\r\n        return extend(true, {}, this.data);\r\n    }\r\n});\r\n\r\nexport function useFormContext(persistKey, initialData, options) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useFormContext('', persistKey, initialData);\r\n    }\r\n    const viewState = useViewState(persistKey);\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, options, viewState);\r\n    })[0];\r\n    const forceUpdate = useUpdateTrigger();\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return combineFn(\r\n            form.on('dataChange', forceUpdate),\r\n            form.on('reset', forceUpdate),\r\n            function () {\r\n                (_(form).unlock || noop)();\r\n                if (form.autoPersist) {\r\n                    form.persist();\r\n                }\r\n            }\r\n        );\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(type, props, defaultValue, prop) {\r\n    if (typeof type === 'string') {\r\n        type = fieldTypes[type];\r\n    }\r\n    if (!isFunction(type)) {\r\n        prop = defaultValue;\r\n        defaultValue = props;\r\n        props = type;\r\n        type = '';\r\n    }\r\n    const preset = type ? mapGet(presets, type, type) : {};\r\n    prop = prop || preset.valueProperty || 'value';\r\n\r\n    const form = useContext(_FormContext);\r\n    const dict = form && form.data;\r\n    const state = form && _(form);\r\n    const key = props.name || '';\r\n    const controlled = prop in props;\r\n\r\n    const field = useState(function () {\r\n        var initialValue = controlled ? props[prop] : form && key in dict ? dict[key] : defaultValue;\r\n        var field = {\r\n            initialValue: initialValue,\r\n            value: initialValue,\r\n            error: '',\r\n            setValue: function (v) {\r\n                field.value = isFunction(v) ? v(field.value) : v;\r\n            },\r\n            setError: function (v) {\r\n                field.error = isFunction(v) ? v(field.error) : v;\r\n            },\r\n            elementRef: function (v) {\r\n                field.element = v;\r\n            }\r\n        };\r\n        watch(field, true);\r\n        defineObservableProperty(field, 'error', '', function (v) {\r\n            return isFunction(v) ? wrapErrorResult(field, v) : v || '';\r\n        });\r\n        watch(field, 'value', function (v) {\r\n            (field.dict || {})[field.name] = v;\r\n            (field.props.onChange || noop)(v);\r\n        });\r\n        watch(field, 'error', function (v) {\r\n            if (field.dict && field.name) {\r\n                emitter.emit('validationChange', field.form, {\r\n                    name: field.name,\r\n                    isValid: !v,\r\n                    message: String(v)\r\n                });\r\n            }\r\n        });\r\n        return field;\r\n    })[0];\r\n    extend(field, { form, preset, props, dict, name: key });\r\n    if (controlled) {\r\n        field.value = props[prop];\r\n    }\r\n    if ('error' in props) {\r\n        field.error = props.error;\r\n    }\r\n    if (form && key) {\r\n        state.fields[key] = field;\r\n        if (!(key in dict)) {\r\n            _(dict)[key] = field.value;\r\n        }\r\n    }\r\n    const state1 = (preset.postHook || pipe)({\r\n        form: form,\r\n        value: field.value,\r\n        error: String(field.error),\r\n        setValue: field.setValue,\r\n        setError: field.setError,\r\n        elementRef: field.elementRef\r\n    }, props);\r\n\r\n    useEffect(function () {\r\n        return function () {\r\n            if (state && state.fields[key] === field) {\r\n                delete state.fields[key];\r\n                if (field.props.clearWhenUnmount) {\r\n                    delete _(field.dict)[key];\r\n                }\r\n                state.setValid();\r\n            }\r\n        };\r\n    }, [state, key]);\r\n\r\n    useEffect(function () {\r\n        if (state) {\r\n            state.setValid();\r\n        }\r\n    }, [state, field.error, props.disabled, props.required]);\r\n\r\n    state1.value = useObservableProperty(field, 'value');\r\n    state1.error = String(useObservableProperty(field, 'error'));\r\n    return state1;\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n\r\nexport function registerFieldType(type, options) {\r\n    if (isFunction(options)) {\r\n        options = {\r\n            postHook: options\r\n        };\r\n    }\r\n    fieldTypes[type] = function () {\r\n        return options;\r\n    };\r\n}\r\n\r\nexport const Form = forwardRef(function (props, ref) {\r\n    const form = props.context;\r\n    const onSubmit = function (e) {\r\n        if (!props.action) {\r\n            e.preventDefault();\r\n        }\r\n        (props.onSubmit || noop).call(this, e);\r\n    };\r\n    const onReset = function (e) {\r\n        e.preventDefault();\r\n        form.reset();\r\n        (props.onReset || noop).call(this, e);\r\n    };\r\n    extend(form, pick(props, ['enterKeyHint', 'preventLeave']));\r\n    return createElement(FormContextProvider, { value: form },\r\n        createElement('form', extend(exclude(props, ['context', 'enterKeyHint', 'preventLeave']), { ref: combineRef(ref, form.ref), onSubmit, onReset })));\r\n});\r\n\r\nfunction normalizeChoiceItems(items) {\r\n    return useMemo(function () {\r\n        return (items || []).map(function (v) {\r\n            return typeof v === 'object' ? v : { label: String(v), value: v };\r\n        });\r\n    }, [items]);\r\n}\r\n\r\nexport function TextField() {\r\n    this.postHook = function (state, props) {\r\n        var form = state.form;\r\n        var inputProps = pick(props, ['type', 'autoComplete', 'maxLength', 'inputMode', 'placeholder', 'enterKeyHint']);\r\n        if (props.type === 'password' && !inputProps.autoComplete) {\r\n            inputProps.autoComplete = 'current-password';\r\n        }\r\n        inputProps.type = inputProps.type || 'text';\r\n        inputProps.enterKeyHint = inputProps.enterKeyHint || (form && form.enterKeyHint);\r\n        return extend(state, {\r\n            inputProps: inputProps\r\n        });\r\n    };\r\n}\r\n\r\nexport function ChoiceField() {\r\n    this.postHook = function (state, props) {\r\n        var items = normalizeChoiceItems(props.items);\r\n        var selectedIndex = items.findIndex(function (v) {\r\n            return v.value === state.value;\r\n        });\r\n        if (selectedIndex < 0) {\r\n            selectedIndex = props.allowUnselect || !items[0] ? -1 : 0;\r\n            state.setValue(selectedIndex < 0 ? '' : items[0].value);\r\n        }\r\n        return extend(state, {\r\n            items: items,\r\n            selectedIndex: selectedIndex,\r\n            selectedItem: items[selectedIndex]\r\n        });\r\n    };\r\n}\r\n\r\nexport function MultiChoiceField() {\r\n    this.postHook = function (state, props) {\r\n        var allowCustomValues = props.allowCustomValues || !props.items;\r\n        var items = normalizeChoiceItems(props.items);\r\n        var isUnknown = function (value) {\r\n            return !items.some(function (v) {\r\n                return v.value === value;\r\n            });\r\n        };\r\n        var toggleValue = useMemoizedFunction(function (value, selected) {\r\n            if (allowCustomValues || !isUnknown(value)) {\r\n                state.setValue(function (arr) {\r\n                    var index = arr.indexOf(value);\r\n                    if (isUndefinedOrNull(selected) || either(index < 0, selected)) {\r\n                        arr = makeArray(arr);\r\n                        if (index < 0) {\r\n                            arr.push(value);\r\n                        } else {\r\n                            arr.splice(index, 1);\r\n                        }\r\n                    }\r\n                    return arr;\r\n                });\r\n            }\r\n        });\r\n        if (!allowCustomValues) {\r\n            var cur = makeArray(state.value);\r\n            var arr = splice(cur, isUnknown);\r\n            if (arr.length) {\r\n                state.setValue(cur);\r\n            }\r\n        }\r\n        return extend(state, {\r\n            items: items,\r\n            toggleValue: toggleValue\r\n        });\r\n    };\r\n}\r\n\r\nexport function ToggleField() {\r\n    this.valueProperty = 'checked';\r\n    this.isEmpty = function (value) {\r\n        return !value;\r\n    };\r\n}\r\n","export * from \"./css.js\";\r\nexport * from \"./dataView.js\";\r\nexport * from \"./form.js\";\r\nexport * from \"./hooks.js\";\r\nexport * from \"./util.js\";\r\nexport * from \"./viewState.js\";\r\n","import zeta from \"zeta-dom\";const _defaultExport = zeta; export default _defaultExport;","import zeta from \"zeta-dom/index\";\r\nexport default zeta;\r\n","import * as all from \"./index.js\";\r\nexport default all;\r\n\r\nimport zeta from \"./include/zeta-dom/index.js\";\r\nzeta.react = all;\r\n"],"names":["zeta","util","noop","pipe","either","is","isUndefinedOrNull","isArray","isFunction","isThenable","isPlainObject","isArrayLike","makeArray","extend","each","map","grep","splice","any","single","kv","fill","pick","exclude","mapObject","mapGet","mapRemove","arrRemove","setAdd","equal","combineFn","executeOnce","createPrivateStore","setTimeout","setTimeoutOnce","setInterval","setIntervalSafe","setImmediate","setImmediateOnce","throwNotFunction","errorWithCode","isErrorWithCode","keys","values","hasOwnProperty","getOwnPropertyDescriptors","define","definePrototype","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","defineObservableProperty","watch","watchOnce","watchable","inherit","freeze","deepFreeze","iequal","randomId","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","resolve","reject","always","resolveAll","retryable","deferrable","catchAsync","setPromiseTimeout","delay","makeAsync","domReady","tagName","isVisible","matchSelector","comparePosition","connected","containsOrEquals","acceptNode","combineNodeFilters","iterateNode","iterateNodeToArray","getCommonAncestor","parentsAndSelf","selectIncludeSelf","selectClosestRelative","createNodeIterator","createTreeWalker","bind","bindUntil","dispatchDOMMouseEvent","removeNode","getClass","setClass","getScrollOffset","getScrollParent","getContentRect","scrollBy","scrollIntoView","makeSelection","getRect","getRects","toPlainRect","rectEquals","rectCovers","rectIntersects","pointInRect","mergeRect","elementFromPoint","_defaultExport","dom","textInputAllowed","beginDrag","beginPinchZoom","getShortcut","setShortcut","focusable","focused","setModal","releaseModal","retainFocus","releaseFocus","iterateFocusPath","focus","lock","locked","cancelLock","subscribeAsync","notifyAsync","preventLeave","ZetaEventContainer","EventContainer","useCallback","useEffect","useMemo","useRef","useState","fnWeakMap","WeakMap","container","useUpdateTrigger","setState","useMemoizedFunction","callback","fn","cb","get","apply","arguments","set","useObservableProperty","obj","key","forceUpdate","value","ref","current","v","useAsync","init","deps","state","element","currentPromise","loading","elementRef","on","event","handler","add","onError","e","call","error","refresh","undefined","result","promise","resolved","disposed","emit","data","root","concat","useRefInitCallback","args","WeakSet","useDispose","dispose","callbacks","length","push","useErrorHandlerRef","useErrorHandler","reemitting","filter","isErrorOf","reemitError","catchError","useMediaQuery","query","onDispose","mq","matchMedia","matches","createBreakpointContext","breakpoints","i","setValue","Object","useBreakpoint","createContext","useContext","ViewStateProviderContext","noopStorage","ViewStateProvider","Provider","useViewState","uniqueId","provider","getState","_","proto","DataView","prototype","emitter","compare","a","b","x","y","String","localeCompare","caseFirst","filters","sortBy","sortOrder","pageSize","self","defaults","pageIndex","items","onUpdated","sorted","filtered","emitAsync","itemCount","getView","sort","filteredItems","slice","prop","item","dir","Map","toJSON","reset","newValue","useDataView","persistKey","viewState","dataView","onPopState","createElement","Fragment","lazy","Suspense","classNames","className","process","j","getClassNames","join","innerTextOrHTML","text","dangerouslySetInnerHTML","children","partial","combineRef","toRefCallback","withSuspense","factory","fallback","Component","props","forwardRef","presets","changedProps","fieldTypes","TextField","toggle","ToggleField","choice","ChoiceField","_FormContext","FormContextProvider","isEmpty","emitDataChangeEvent","createDataObject","context","initialData","target","onChange","p","proxy","Proxy","t","fields","deleteProperty","field","initialValue","wrapErrorResult","toString","normalizeOptions","options","validateOnChange","autoPersist","FormContext","vlocks","setValid","disabled","required","preset","isValid","fieldsToValidate","validate","unlock","Promise","persist","restore","dict","setError","name","onValidate","promises","arr","prev","next","shift","then","forEach","useFormContext","form","useFormField","type","defaultValue","valueProperty","controlled","message","state1","postHook","clearWhenUnmount","combineValidators","validators","reduce","registerFieldType","Form","onSubmit","action","preventDefault","onReset","normalizeChoiceItems","label","inputProps","autoComplete","enterKeyHint","selectedIndex","findIndex","allowUnselect","selectedItem","MultiChoiceField","allowCustomValues","isUnknown","some","toggleValue","selected","index","indexOf","cur","all","react"],"sourceRoot":""}