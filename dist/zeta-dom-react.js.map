{"version":3,"file":"zeta-dom-react.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./src/include/zeta-dom/util.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./src/include/zeta-dom/events.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/index.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeoutOnce, setImmediate, setImmediateOnce, throwNotFunction, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout } = zeta.util; export { noop, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeoutOnce, setImmediate, setImmediateOnce, throwNotFunction, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout };","export * from \"zeta-dom/util\";\r\n","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","export { ZetaEventContainer } from \"zeta-dom/events\";\r\n","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, retainFocus, releaseFocus, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, retainFocus, releaseFocus, focus };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import { useEffect, useState } from \"react\";\nimport { always, combineFn, extend, isArray, makeArray, resolve, setAdd, watch } from \"./include/zeta-dom/util.js\";\n\nconst fnWeakMap = new WeakMap();\n\nexport function useMemoizedFunction(callback) {\n    const fn = useState(function () {\n        return function fn() {\n            const cb = fnWeakMap.get(fn);\n            return cb && cb.apply(this, arguments);\n        };\n    })[0];\n    fnWeakMap.set(fn, callback);\n    return fn;\n}\n\nexport function useObservableProperty(obj, key) {\n    const sValue = useState(obj[key]);\n    const value = sValue[0], setValue = sValue[1];\n    useEffect(function () {\n        setValue(obj[key]);\n        return watch(obj, key, function (v) {\n            setValue(function () {\n                return v;\n            });\n        });\n    }, [obj, key]);\n    return value;\n}\n\nexport function useAsync(init, autoload) {\n    const state = useState(function () {\n        return {\n            loading: true,\n            refresh: function () {\n                extend(state, { loading: true, error: undefined });\n                always(resolve().then(init), function (resolved, value) {\n                    if (!state.disposed) {\n                        if (resolved) {\n                            extend(state, { loading: false, value: value });\n                        } else {\n                            extend(state, { loading: false, value: undefined, error: value });\n                        }\n                    }\n                });\n            }\n        };\n    })[0];\n    const deps = isArray(autoload);\n    init = useMemoizedFunction(init);\n    autoload = autoload !== false;\n\n    useObservableProperty(state, 'loading');\n    useEffect(function () {\n        return function () {\n            state.disposed = true;\n        };\n    }, [state]);\n    useEffect(function () {\n        if (autoload) {\n            state.refresh();\n        }\n    }, [state, autoload].concat(deps));\n    return [state.value, state];\n}\n\nexport function useRefInitCallback(init) {\n    const args = makeArray(arguments);\n    const set = useState(new WeakSet())[0];\n    return function (v) {\n        if (v && setAdd(set, v)) {\n            args[0] = v;\n            init.apply(null, args);\n        }\n    };\n}\n\nexport function useDispose() {\n    const dispose = useState(function () {\n        const callbacks = [\n            function () {\n                callbacks.splice(0, callbacks.length - 1);\n            }\n        ];\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\n    })[0];\n    useEffect(function () {\n        return dispose;\n    }, [dispose]);\n    return dispose;\n}\n","import { createContext, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { any, combineFn, createPrivateStore, defineObservableProperty, definePrototype, each, extend, grep, isFunction, keys, makeArray, resolve, resolveAll } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\nimport { useMemoizedFunction, useObservableProperty } from \"./hooks.js\";\r\n\r\nconst _ = createPrivateStore();\r\n\r\n/** @type {React.Context<import (\"./form\").FormContext>} */\r\n// @ts-ignore: type inference issue\r\nconst _FormContext = createContext(null);\r\n\r\nexport const FormContextProvider = _FormContext.Provider;\r\n\r\nfunction createDataObject(context, eventContainer, initialData) {\r\n    return new Proxy(extend({}, initialData), {\r\n        get: function (t, p) {\r\n            if (typeof p === 'string') {\r\n                return t[p];\r\n            }\r\n        },\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && t[p] !== v) {\r\n                if (p in t) {\r\n                    eventContainer.emitAsync('dataChange', context, [p], {}, function (v, a) {\r\n                        return v.concat(a);\r\n                    });\r\n                }\r\n                t[p] = v;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(state, key, error) {\r\n    return {\r\n        toString: function () {\r\n            return error(extend({}, state.fields[key]));\r\n        }\r\n    };\r\n}\r\n\r\nexport function FormContext(initialData, validateOnChange) {\r\n    var self = this;\r\n    var fields = {};\r\n    var errors = {};\r\n    var eventContainer = new ZetaEventContainer();\r\n    var state = _(self, {\r\n        fields: fields,\r\n        errors: errors,\r\n        eventContainer: eventContainer,\r\n        refs: {},\r\n        initialData: initialData || {},\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v, i) {\r\n                return !v.disabled && (errors[i] || (v.required && (v.isEmpty ? v.isEmpty(self.data[i]) : !self.data[i])));\r\n            });\r\n        })\r\n    });\r\n    self.isValid = true;\r\n    self.validateOnChange = validateOnChange !== false;\r\n    self.data = createDataObject(self, eventContainer, initialData);\r\n    self.on('dataChange', function (e) {\r\n        if (self.validateOnChange) {\r\n            self.validate.apply(self, grep(e.data, function (v) {\r\n                return fields[v].validateOnChange !== false;\r\n            }));\r\n        }\r\n    });\r\n}\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        var ref = _(this).refs[key];\r\n        return ref && ref.current;\r\n    },\r\n    focus: function (key) {\r\n        var element = this.element(key);\r\n        if (element) {\r\n            dom.focus(element);\r\n        }\r\n    },\r\n    on: function (event, handler) {\r\n        var state = _(this);\r\n        return state.eventContainer.add(this, event, handler);\r\n    },\r\n    reset: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        for (var i in self.data) {\r\n            delete self.data[i];\r\n        }\r\n        extend(self.data, state.initialData);\r\n        self.isValid = true;\r\n        state.eventContainer.emit('reset', self);\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        var errors = state.errors;\r\n        var eventContainer = state.eventContainer;\r\n        var props = makeArray(arguments);\r\n        if (!props.length) {\r\n            props = keys(state.fields);\r\n        }\r\n        var prev = extend({}, errors);\r\n        var promise = resolveAll(props.map(function (v) {\r\n            return eventContainer.emit('validate', self, {\r\n                name: v,\r\n                value: self.data[v]\r\n            });\r\n        }));\r\n        return promise.then(function (result) {\r\n            props.forEach(function (v, i) {\r\n                if (isFunction(result[i])) {\r\n                    result[i] = wrapErrorResult(state, v, result[i]);\r\n                }\r\n                errors[v] = result[i];\r\n                if ((result[i] || '') !== (prev[v] || '')) {\r\n                    eventContainer.emit('validationChange', self, {\r\n                        name: v,\r\n                        isValid: !result[i],\r\n                        message: String(result[i] || '')\r\n                    });\r\n                }\r\n            });\r\n            state.setValid();\r\n            return !any(result, function (v) {\r\n                return v;\r\n            });\r\n        });\r\n    }\r\n});\r\n\r\nexport function useFormContext(initialData, validateOnChange) {\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, validateOnChange);\r\n    })[0];\r\n    const forceUpdate = useState(0)[1];\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return form.on('dataChange', function () {\r\n            forceUpdate(function (v) {\r\n                return ++v;\r\n            });\r\n        });\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(props, defaultValue, prop) {\r\n    const form = useContext(_FormContext);\r\n    const ref = useRef();\r\n    const key = props.name || '';\r\n    const initialValue = useState(function () {\r\n        return (form && form.data[key]) || defaultValue;\r\n    })[0];\r\n    const sValue = useState(initialValue);\r\n    const sError = useState('');\r\n    const onValidate = useMemoizedFunction(props.onValidate);\r\n    const value = sValue[0], setValue = sValue[1];\r\n    const error = sError[0], setError = sError[1];\r\n\r\n    var setValueCallback = useMemoizedFunction(function (v) {\r\n        if (!props.onChange) {\r\n            console.warn('onChange not supplied');\r\n        } else {\r\n            props.onChange(typeof v === 'function' ? v(value) : v);\r\n        }\r\n    });\r\n\r\n    // put internal states on props for un-controlled mode\r\n    prop = prop || 'value';\r\n    if (!(prop in props)) {\r\n        setValueCallback = setValue;\r\n        props = extend({}, props);\r\n        props[prop] = value;\r\n    }\r\n    if (form && key) {\r\n        _(form).fields[key] = props;\r\n    }\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            var state = _(form);\r\n            state.refs[key] = ref;\r\n            if (key in form.data) {\r\n                setValue(form.data[key]);\r\n            }\r\n            return combineFn(\r\n                function () {\r\n                    delete state.fields[key];\r\n                    delete state.refs[key];\r\n                    state.setValid();\r\n                },\r\n                form.on('dataChange', function (e) {\r\n                    if (e.data.includes(key)) {\r\n                        setValue(form.data[key]);\r\n                    }\r\n                }),\r\n                form.on('validationChange', function (e) {\r\n                    if (e.name === key) {\r\n                        setError(state.errors[key]);\r\n                    }\r\n                }),\r\n                form.on('validate', function (e) {\r\n                    if (e.name === key) {\r\n                        return onValidate(e.value, e.name);\r\n                    }\r\n                }),\r\n                form.on('reset', function () {\r\n                    setValue(initialValue);\r\n                    setError('');\r\n                })\r\n            );\r\n        }\r\n    }, [form, key, initialValue, onValidate]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            form.data[key] = value;\r\n        }\r\n    }, [form, key, value]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            _(form).setValid();\r\n        }\r\n    }, [form, key, props.validateOnChange, props.disabled, props.required]);\r\n\r\n    return {\r\n        value: props[prop],\r\n        error: String(props.error || error || ''),\r\n        setValue: setValueCallback,\r\n        setError: setError,\r\n        elementRef: function (v) {\r\n            ref.current = v;\r\n        }\r\n    };\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n","import { each, extend, isFunction, kv, makeArray, noop } from \"./include/zeta-dom/util.js\";\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function partial(setState) {\r\n    return function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n","export * from \"./form.js\";\r\nexport * from \"./hooks.js\";\r\nexport * from \"./util.js\";\r\n","import * as all from \"./index.js\";\r\nexport default all;\r\n"],"names":["zeta","util","noop","either","is","isUndefinedOrNull","isArray","isFunction","isThenable","isPlainObject","isArrayLike","makeArray","extend","each","map","grep","splice","any","single","kv","pick","exclude","mapGet","mapRemove","arrRemove","setAdd","equal","combineFn","executeOnce","createPrivateStore","setTimeoutOnce","setImmediate","setImmediateOnce","throwNotFunction","keys","values","hasOwnProperty","getOwnPropertyDescriptors","define","definePrototype","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","defineObservableProperty","watch","watchOnce","watchable","inherit","deepFreeze","iequal","randomId","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","resolve","reject","always","resolveAll","catchAsync","setPromiseTimeout","ZetaEventContainer","EventContainer","_defaultExport","dom","textInputAllowed","beginDrag","beginPinchZoom","getShortcut","setShortcut","focusable","focused","setModal","retainFocus","releaseFocus","focus","useEffect","useState","fnWeakMap","WeakMap","useMemoizedFunction","callback","fn","cb","get","apply","arguments","set","useObservableProperty","obj","key","sValue","value","setValue","v","useAsync","init","autoload","state","loading","refresh","error","undefined","then","resolved","disposed","deps","concat","useRefInitCallback","args","WeakSet","useDispose","dispose","callbacks","length","push","bind","createContext","useContext","useRef","_","_FormContext","FormContextProvider","Provider","createDataObject","context","eventContainer","initialData","Proxy","t","p","emitAsync","a","wrapErrorResult","toString","fields","FormContext","validateOnChange","self","errors","refs","setValid","i","disabled","required","isEmpty","data","isValid","on","e","validate","element","ref","current","event","handler","add","reset","emit","props","prev","promise","name","result","forEach","message","String","useFormContext","form","forceUpdate","useFormField","defaultValue","prop","initialValue","sError","onValidate","setError","setValueCallback","onChange","console","warn","includes","elementRef","combineValidators","validators","reduce","next","classNames","className","process","j","getClassNames","join","partial","setState","toRefCallback","all"],"sourceRoot":""}