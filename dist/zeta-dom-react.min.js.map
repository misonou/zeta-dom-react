{"version":3,"file":"zeta-dom-react.min.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./src/viewState.js","webpack://zeta-dom-react/./src/dataView.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./tmp/zeta-dom/domLock.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout } = zeta.util; export { noop, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout };","import { createContext, useContext, useState } from \"react\";\r\nimport { noop, randomId } from \"./include/zeta-dom/util.js\";\r\n\r\n/** @type {React.Context<import(\"./viewState\").ViewStateProvider | null>} */\r\n// @ts-ignore: type inference issue\r\nconst ViewStateProviderContext = createContext(null);\r\nconst noopStorage = Object.freeze({\r\n    get: noop,\r\n    set: noop\r\n});\r\n\r\nexport const ViewStateProvider = ViewStateProviderContext.Provider;\r\n\r\nexport function useViewState(key) {\r\n    var uniqueId = useState(randomId)[0];\r\n    var provider = useContext(ViewStateProviderContext);\r\n    return (provider && key && provider.getState(uniqueId, key)) || noopStorage;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, extend, keys, pick, watch } from \"./include/zeta-dom/util.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst proto = DataView.prototype;\r\n\r\nexport function DataView(filters, sortBy, sortOrder, pageSize) {\r\n    var self = this;\r\n    var defaults = {\r\n        filters: extend({}, filters),\r\n        sortBy: sortBy,\r\n        sortOrder: sortOrder || (sortBy && 'asc'),\r\n        pageIndex: 0,\r\n        pageSize: pageSize === undefined ? DataView.pageSize : pageSize\r\n    }\r\n    filters = extend({}, filters);\r\n    for (let i in filters) {\r\n        defineObservableProperty(filters, i);\r\n    }\r\n    _(self, {\r\n        filters: Object.freeze(filters),\r\n        defaults: defaults,\r\n        items: [],\r\n    });\r\n    extend(this, defaults);\r\n}\r\n\r\ndefine(DataView, {\r\n    pageSize: 0\r\n});\r\n\r\ndefinePrototype(DataView, {\r\n    itemCount: 0,\r\n    getView: function (items, callback) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var pageIndex = self.pageIndex || 0;\r\n        var pageSize = self.pageSize || 0;\r\n        items = items || [];\r\n        if (items !== state.items) {\r\n            state.items = items;\r\n            state.filteredItems = items.length ? undefined : [];\r\n        }\r\n        var filteredItems = state.filteredItems || (state.filteredItems = (callback(state.items, self.filters, self.sortBy) || [])[self.sortOrder === 'desc' ? 'reverse' : 'slice']());\r\n        self.itemCount = filteredItems.length;\r\n        return [filteredItems.slice(pageIndex * pageSize, pageSize ? (pageIndex + 1) * pageSize : undefined), filteredItems.length];\r\n    },\r\n    toJSON: function () {\r\n        var self = this;\r\n        return extend(pick(self, keys(_(self).defaults)), {\r\n            filters: extend({}, self.filters)\r\n        });\r\n    },\r\n    reset: function () {\r\n        extend(this, _(this).defaults);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(proto, 'sortBy');\r\ndefineObservableProperty(proto, 'sortOrder');\r\ndefineObservableProperty(proto, 'pageIndex');\r\ndefineObservableProperty(proto, 'pageSize');\r\ndefineObservableProperty(proto, 'filters', {}, function (newValue) {\r\n    return extend(_(this).filters, newValue);\r\n});\r\n\r\nexport function useDataView(persistKey, filters, sortBy, sortOrder, pageSize) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useDataView('__dataView', persistKey, filters, sortBy, sortOrder);\r\n    }\r\n    var viewState = useViewState(persistKey);\r\n    var forceUpdate = useState()[1];\r\n    var dataView = useState(function () {\r\n        return extend(new DataView(filters, sortBy, sortOrder, pageSize), viewState.get());\r\n    })[0];\r\n    useEffect(() => {\r\n        var state = _(dataView);\r\n        var onUpdated = function () {\r\n            state.filteredItems = state.items.length ? undefined : [];\r\n            forceUpdate({});\r\n        };\r\n        return combineFn(\r\n            watch(dataView, onUpdated),\r\n            watch(dataView.filters, onUpdated),\r\n            function () {\r\n                viewState.set(dataView.toJSON());\r\n            }\r\n        );\r\n    }, [dataView]);\r\n    return dataView;\r\n}\r\n","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import zeta from \"zeta-dom\";const { lock, locked, cancelLock } = zeta.dom; export { lock, locked, cancelLock };","import { useEffect, useRef, useState } from \"react\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\nimport { lock } from \"./include/zeta-dom/domLock.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { always, catchAsync, combineFn, extend, isArray, makeArray, map, resolve, setAdd, watch } from \"./include/zeta-dom/util.js\";\r\n\r\nconst fnWeakMap = new WeakMap();\r\nconst container = new ZetaEventContainer();\r\n\r\nexport function useMemoizedFunction(callback) {\r\n    const fn = useState(function () {\r\n        return function fn() {\r\n            const cb = fnWeakMap.get(fn);\r\n            return cb && cb.apply(this, arguments);\r\n        };\r\n    })[0];\r\n    fnWeakMap.set(fn, callback);\r\n    return fn;\r\n}\r\n\r\nexport function useObservableProperty(obj, key) {\r\n    const forceUpdate = useState()[1];\r\n    const value = obj[key];\r\n    const ref = useRef();\r\n    ref.current = value;\r\n    useEffect(function () {\r\n        var cb = function (v) {\r\n            if (v !== ref.current) {\r\n                forceUpdate({});\r\n            }\r\n        };\r\n        cb(obj[key]);\r\n        return watch(obj, key, cb);\r\n    }, [obj, key]);\r\n    return value;\r\n}\r\n\r\nexport function useAsync(init, autoload) {\r\n    const state = useState(function () {\r\n        var element;\r\n        var emitErrorEvent = function (error) {\r\n            return container.emit('error', state, { error }, true);\r\n        };\r\n        return {\r\n            loading: true,\r\n            elementRef: function (current) {\r\n                element = current;\r\n            },\r\n            onError: function (handler) {\r\n                return container.add(state, 'error', function (e) {\r\n                    return handler.call(state, e.error);\r\n                });\r\n            },\r\n            refresh: function () {\r\n                var promise;\r\n                var shouldNotify = function () {\r\n                    return !state.disposed && state.promise === promise;\r\n                };\r\n                promise = always(resolve().then(init), function (resolved, value) {\r\n                    if (shouldNotify()) {\r\n                        if (resolved) {\r\n                            extend(state, { loading: false, value: value });\r\n                        } else {\r\n                            extend(state, { loading: false, value: undefined, error: value });\r\n                            if (!emitErrorEvent(value)) {\r\n                                throw value;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                extend(state, { promise: promise, loading: true, error: undefined });\r\n                if (element) {\r\n                    catchAsync(lock(element, promise));\r\n                }\r\n            }\r\n        };\r\n    })[0];\r\n    const deps = isArray(autoload);\r\n    init = useMemoizedFunction(init);\r\n    autoload = autoload !== false;\r\n\r\n    useObservableProperty(state, 'loading');\r\n    useEffect(function () {\r\n        return function () {\r\n            state.disposed = true;\r\n        };\r\n    }, [state]);\r\n    useEffect(function () {\r\n        if (autoload) {\r\n            state.refresh();\r\n        }\r\n    }, [state, autoload].concat(deps));\r\n    return [state.value, state];\r\n}\r\n\r\nexport function useRefInitCallback(init) {\r\n    const args = makeArray(arguments);\r\n    const set = useState(new WeakSet())[0];\r\n    return function (v) {\r\n        if (v && setAdd(set, v)) {\r\n            args[0] = v;\r\n            init.apply(null, args);\r\n        }\r\n    };\r\n}\r\n\r\nexport function useDispose() {\r\n    const dispose = useState(function () {\r\n        const callbacks = [\r\n            function () {\r\n                callbacks.splice(0, callbacks.length - 1);\r\n            }\r\n        ];\r\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\r\n    })[0];\r\n    useEffect(function () {\r\n        return dispose;\r\n    }, [dispose]);\r\n    return dispose;\r\n}\r\n\r\nexport function useErrorHandlerRef() {\r\n    const ref = useRef(null);\r\n    const args = makeArray(arguments);\r\n    useEffect(function () {\r\n        return combineFn(map(args, function (v) {\r\n            return v.onError(function (error) {\r\n                if (ref.current) {\r\n                    return dom.emit('error', ref.current, { error }, true);\r\n                }\r\n            });\r\n        }));\r\n    }, [ref].concat(args));\r\n    return ref;\r\n}\r\n","import { createContext, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { always, any, combineFn, createPrivateStore, defineObservableProperty, definePrototype, extend, grep, inherit, isFunction, keys, makeArray, resolve, resolveAll } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { focus } from \"./include/zeta-dom/dom.js\";\r\nimport { useMemoizedFunction, useObservableProperty } from \"./hooks.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\n\r\n/** @type {React.Context<import (\"./form\").FormContext>} */\r\n// @ts-ignore: type inference issue\r\nconst _FormContext = createContext(null);\r\n\r\nexport const FormContextProvider = _FormContext.Provider;\r\n\r\nfunction createDataObject(context, eventContainer, initialData) {\r\n    return new Proxy(extend({}, initialData), {\r\n        get: function (t, p) {\r\n            if (typeof p === 'string') {\r\n                return t[p];\r\n            }\r\n        },\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && t[p] !== v) {\r\n                if (p in t) {\r\n                    _(context).pending[p] = true;\r\n                    eventContainer.emitAsync('dataChange', context, [p], {}, function (v, a) {\r\n                        return v.concat(a);\r\n                    });\r\n                }\r\n                t[p] = v;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(state, key, error) {\r\n    return {\r\n        toString: function () {\r\n            return error(extend({}, state.fields[key]));\r\n        }\r\n    };\r\n}\r\n\r\nexport function FormContext(initialData, validateOnChange, viewState) {\r\n    var self = this;\r\n    var fields = {};\r\n    var errors = {};\r\n    var eventContainer = new ZetaEventContainer();\r\n    var defaults = {};\r\n    var state = _(self, {\r\n        fields: fields,\r\n        errors: errors,\r\n        eventContainer: eventContainer,\r\n        viewState: viewState,\r\n        vlocks: {},\r\n        refs: {},\r\n        pending: {},\r\n        defaults: defaults,\r\n        initialData: inherit(defaults, initialData),\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v, i) {\r\n                return !v.disabled && (errors[i] || (v.required && (v.isEmpty ? v.isEmpty(self.data[i]) : !self.data[i])));\r\n            });\r\n        })\r\n    });\r\n    self.isValid = true;\r\n    self.autoPersist = true;\r\n    self.validateOnChange = validateOnChange !== false;\r\n    self.data = createDataObject(self, eventContainer, viewState.get() || state.initialData);\r\n    self.on('dataChange', function (e) {\r\n        state.pending = {};\r\n        if (self.validateOnChange) {\r\n            var fieldsToValidate = grep(e.data, function (v) {\r\n                return fields[v] && fields[v].validateOnChange !== false;\r\n            });\r\n            if (fieldsToValidate[0]) {\r\n                self.validate.apply(self, fieldsToValidate);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        var ref = _(this).refs[key];\r\n        return ref && ref.current;\r\n    },\r\n    focus: function (key) {\r\n        var element = this.element(key);\r\n        if (element) {\r\n            focus(element);\r\n        }\r\n    },\r\n    on: function (event, handler) {\r\n        var state = _(this);\r\n        return state.eventContainer.add(this, event, handler);\r\n    },\r\n    persist: function () {\r\n        var self = this;\r\n        _(self).viewState.set(extend({}, self.data));\r\n        self.autoPersist = false;\r\n    },\r\n    restore: function () {\r\n        var self = this;\r\n        var data = _(self).viewState.get();\r\n        if (data) {\r\n            self.reset(data);\r\n        }\r\n        return !!data;\r\n    },\r\n    reset: function (data) {\r\n        var self = this;\r\n        var state = _(self);\r\n        for (var i in self.data) {\r\n            delete self.data[i];\r\n        }\r\n        extend(self.data, data || state.initialData);\r\n        self.isValid = true;\r\n        state.eventContainer.emit('reset', self);\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        var vlocks = state.vlocks;\r\n        var errors = state.errors;\r\n        var eventContainer = state.eventContainer;\r\n        var props = makeArray(arguments);\r\n        if (!props.length) {\r\n            props = keys(state.fields);\r\n        }\r\n        var prev = extend({}, errors);\r\n        var validate = function (v) {\r\n            return eventContainer.emit('validate', self, {\r\n                name: v,\r\n                value: self.data[v]\r\n            });\r\n        };\r\n        var promises = props.map(function (v) {\r\n            var arr = vlocks[v] = (vlocks[v] || []);\r\n            var prev = arr[0];\r\n            if (prev) {\r\n                // debounce async validation\r\n                return arr[1] || (arr[1] = always(arr[0], function () {\r\n                    var next = validate(v);\r\n                    always(next, function () {\r\n                        // dismiss effects of previous validation if later one resolves earlier\r\n                        // so that validity always reflects on latest data\r\n                        if (arr[0] === prev) {\r\n                            arr.shift();\r\n                        }\r\n                    });\r\n                    return next;\r\n                }));\r\n            }\r\n            arr[0] = resolve(validate(v));\r\n            return arr[0];\r\n        });\r\n        return resolveAll(promises).then(function (result) {\r\n            props.forEach(function (v, i) {\r\n                // checks if current validation is of the latest\r\n                if (vlocks[v][0] === promises[i]) {\r\n                    vlocks[v].shift();\r\n                    if (isFunction(result[i])) {\r\n                        result[i] = wrapErrorResult(state, v, result[i]);\r\n                    }\r\n                    errors[v] = result[i];\r\n                    if ((result[i] || '') !== (prev[v] || '')) {\r\n                        eventContainer.emit('validationChange', self, {\r\n                            name: v,\r\n                            isValid: !result[i],\r\n                            message: String(result[i] || '')\r\n                        });\r\n                    }\r\n                }\r\n            });\r\n            state.setValid();\r\n            return !any(result, function (v) {\r\n                return v;\r\n            });\r\n        });\r\n    }\r\n});\r\n\r\nexport function useFormContext(persistKey, initialData, validateOnChange) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useFormContext('', persistKey, initialData);\r\n    }\r\n    const viewState = useViewState(persistKey);\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, validateOnChange, viewState);\r\n    })[0];\r\n    const forceUpdate = useState()[1];\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return combineFn(\r\n            form.on('dataChange', function () {\r\n                forceUpdate({});\r\n            }),\r\n            function () {\r\n                if (form.autoPersist) {\r\n                    form.persist();\r\n                }\r\n            }\r\n        );\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(props, defaultValue, prop) {\r\n    const form = useContext(_FormContext);\r\n    const ref = useRef();\r\n    const key = props.name || '';\r\n    const initialValue = useState(function () {\r\n        return (form && form.data[key]) || defaultValue;\r\n    })[0];\r\n    const sValue = useState(initialValue);\r\n    const sError = useState('');\r\n    const onValidate = useMemoizedFunction(props.onValidate);\r\n    const value = sValue[0], setValue = sValue[1];\r\n    const error = sError[0], setError = sError[1];\r\n\r\n    var setValueCallback = useMemoizedFunction(function (v) {\r\n        if (!props.onChange) {\r\n            console.warn('onChange not supplied');\r\n        } else {\r\n            props.onChange(typeof v === 'function' ? v(props[prop]) : v);\r\n        }\r\n    });\r\n\r\n    // put internal states on props for un-controlled mode\r\n    prop = prop || 'value';\r\n    if (!(prop in props)) {\r\n        setValueCallback = setValue;\r\n        props = extend({}, props);\r\n        props[prop] = value;\r\n    }\r\n    if (form && key) {\r\n        _(form).fields[key] = props;\r\n    }\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            var state = _(form);\r\n            state.refs[key] = ref;\r\n            state.defaults[key] = defaultValue;\r\n            if (key in form.data) {\r\n                setValue(form.data[key]);\r\n            }\r\n            return combineFn(\r\n                function () {\r\n                    delete state.defaults[key];\r\n                    delete state.fields[key];\r\n                    delete state.refs[key];\r\n                    state.setValid();\r\n                },\r\n                form.on('dataChange', function (e) {\r\n                    if (e.data.includes(key)) {\r\n                        setValue(form.data[key]);\r\n                    }\r\n                }),\r\n                form.on('validationChange', function (e) {\r\n                    if (e.name === key) {\r\n                        setError(state.errors[key]);\r\n                    }\r\n                }),\r\n                form.on('validate', function (e) {\r\n                    if (e.name === key) {\r\n                        return onValidate(e.value, e.name, form);\r\n                    }\r\n                }),\r\n                form.on('reset', function () {\r\n                    setValue(initialValue);\r\n                    setError('');\r\n                })\r\n            );\r\n        }\r\n    }, [form, key, initialValue, onValidate]);\r\n\r\n    useEffect(function () {\r\n        var pending = form && key && _(form).pending;\r\n        if (pending && !pending[key]) {\r\n            form.data[key] = value;\r\n            pending[key] = false;\r\n        }\r\n    }, [form, key, value]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            _(form).setValid();\r\n        }\r\n    }, [form, key, props.validateOnChange, props.disabled, props.required]);\r\n\r\n    return {\r\n        value: props[prop],\r\n        error: String(props.error || error || ''),\r\n        setValue: setValueCallback,\r\n        setError: setError,\r\n        elementRef: function (v) {\r\n            ref.current = v;\r\n        }\r\n    };\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n","import { combineFn, each, extend, isFunction, kv, makeArray, noop } from \"./include/zeta-dom/util.js\";\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function partial(setState, key) {\r\n    var fn = function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n    return key ? fn.bind(0, key) : fn;\r\n}\r\n\r\nexport function combineRef() {\r\n    return combineFn(makeArray(arguments).map(toRefCallback));\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n","import * as all from \"./index.js\";\r\nexport default all;\r\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__359__","__WEBPACK_EXTERNAL_MODULE__654__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","zeta","noop","isArray","either","is","isUndefinedOrNull","isFunction","makeArray","isThenable","isPlainObject","isArrayLike","extend","each","map","grep","any","splice","kv","single","pick","setAdd","exclude","mapGet","mapRemove","arrRemove","combineFn","equal","createPrivateStore","executeOnce","keys","setTimeout","setTimeoutOnce","setInterval","setIntervalSafe","setImmediate","setImmediateOnce","throwNotFunction","errorWithCode","values","getOwnPropertyDescriptors","definePrototype","defineObservableProperty","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","watch","inherit","watchOnce","watchable","randomId","deepFreeze","iequal","resolve","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","always","reject","resolveAll","catchAsync","ViewStateProviderContext","setPromiseTimeout","createContext","noopStorage","freeze","set","ViewStateProvider","Provider","useViewState","uniqueId","useState","provider","useContext","getState","_","proto","DataView","filters","sortBy","sortOrder","pageSize","defaults","pageIndex","i","this","items","useDataView","persistKey","viewState","forceUpdate","dataView","useEffect","state","onUpdated","filteredItems","length","toJSON","itemCount","getView","callback","slice","reset","newValue","ZetaEventContainer","focus","textInputAllowed","beginDrag","beginPinchZoom","getShortcut","setShortcut","focusable","focused","setModal","releaseModal","retainFocus","releaseFocus","iterateFocusPath","lock","fnWeakMap","locked","cancelLock","WeakMap","container","useMemoizedFunction","fn","cb","apply","arguments","useObservableProperty","ref","useRef","current","v","useAsync","init","autoload","element","loading","elementRef","onError","handler","add","e","error","refresh","promise","then","resolved","disposed","emit","deps","concat","useRefInitCallback","args","WeakSet","useDispose","dispose","callbacks","push","bind","useErrorHandlerRef","dom","_FormContext","FormContextProvider","wrapErrorResult","toString","fields","FormContext","initialData","validateOnChange","errors","eventContainer","vlocks","refs","pending","setValid","disabled","required","isEmpty","data","isValid","autoPersist","context","Proxy","t","p","emitAsync","a","createDataObject","on","fieldsToValidate","validate","useFormContext","form","persist","useFormField","props","defaultValue","name","initialValue","sValue","sError","onValidate","setValue","setError","setValueCallback","onChange","console","warn","includes","String","combineValidators","validators","reduce","prev","next","result","classNames","className","process","j","getClassNames","join","partial","setState","combineRef","toRefCallback","event","restore","promises","arr","shift","forEach","message"],"sourceRoot":""}