{"version":3,"file":"zeta-dom-react.min.js","mappings":"CAAA,SAA2CA,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,EAAQG,QAAQ,SAAUA,QAAQ,aAC1B,mBAAXC,QAAyBA,OAAOC,IAC9CD,OAAO,iBAAkB,CAAC,QAAS,YAAaJ,GACtB,iBAAZC,QACdA,QAAQ,kBAAoBD,EAAQG,QAAQ,SAAUA,QAAQ,aAE9DJ,EAAK,kBAAoBC,EAAQD,EAAY,MAAGA,EAAW,MAR7D,CASGO,MAAM,SAASC,EAAkCC,GACpD,M,kCCVAN,EAAOD,QAAUM,G,QCAjBL,EAAOD,QAAUO,ICCbC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaX,QAGrB,IAAIC,EAASO,EAAyBE,GAAY,CAGjDV,QAAS,IAOV,OAHAa,EAAoBH,GAAUT,EAAQA,EAAOD,QAASS,GAG/CR,EAAOD,QCpBfS,EAAoBK,EAAI,CAACd,EAASe,KACjC,IAAI,IAAIC,KAAOD,EACXN,EAAoBQ,EAAEF,EAAYC,KAASP,EAAoBQ,EAAEjB,EAASgB,IAC5EE,OAAOC,eAAenB,EAASgB,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MCJ3EP,EAAoBQ,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GCClFd,EAAoBkB,EAAK3B,IACH,oBAAX4B,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAenB,EAAS4B,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAenB,EAAS,aAAc,CAAE8B,OAAO,K,s5BCL3B,EAA+3BC,EAAAA,KAAv3BC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,KAAMC,EAApB,EAAoBA,OAAQC,EAA5B,EAA4BA,GAAIC,EAAhC,EAAgCA,kBAAmBC,EAAnD,EAAmDA,QAASC,EAA5D,EAA4DA,WAAwBC,GAApF,EAAwEC,WAAxE,EAAoFD,eAA4BE,GAAhH,EAAmGC,YAAnG,EAAgHD,WAAWE,EAA3H,EAA2HA,OAAQC,EAAnI,EAAmIA,KAAMC,EAAzI,EAAyIA,IAAKC,EAA9I,EAA8IA,KAAMC,EAApJ,EAAoJA,OAAQC,EAA5J,EAA4JA,IAAKC,EAAjK,EAAiKA,OAAQC,EAAzK,EAAyKA,GAAUC,GAAnL,EAA6KC,KAA7K,EAAmLD,MAAME,EAAzL,EAAyLA,QAAoBC,GAA7M,EAAkMC,UAAlM,EAA6MD,QAAQE,EAArN,EAAqNA,UAAsBC,GAA3O,EAAgOC,UAAhO,EAA2OD,QAAeE,GAA1P,EAAmPC,MAAnP,EAA0PD,WAAwBE,GAAlR,EAAqQC,YAArQ,EAAkRD,oBAA8EE,GAAhW,EAAsSC,WAAtS,EAAkTC,eAAlT,EAAkUC,YAAlU,EAA+UC,gBAA/U,EAAgWJ,cAAcK,EAA9W,EAA8WA,iBAAkBC,EAAhY,SAAwYC,EAAxY,EAAwYA,iBAAiCC,GAAza,EAA0ZC,cAA1Z,EAAyaD,iBAAiBE,EAA1b,EAA0bA,KAAchD,GAAxc,EAAgciD,OAAhc,EAAwcjD,gBAA2CtB,GAAnf,EAAwdwE,0BAAxd,EAAmfxE,QAAQyE,EAA3f,EAA2fA,gBAAqGC,GAAhmB,EAA4gBC,kBAA5gB,EAA+hBC,qBAA/hB,EAAqjBC,qBAArjB,EAA2kBC,oBAA3kB,EAAgmBJ,0BAA0BK,EAA1nB,EAA0nBA,MAAsCC,GAAhqB,EAAioBC,UAAjoB,EAA4oBC,UAA5oB,EAAupBC,QAAvpB,EAAgqBH,QAA4BI,GAA5rB,EAAwqBC,WAAxqB,EAAorBC,OAAprB,EAA4rBF,UAAmFG,GAA/wB,EAAssBC,OAAtsB,EAA8sBC,MAA9sB,EAAqtBC,UAArtB,EAAguBC,QAAhuB,EAAyuBC,QAAzuB,EAAkvBC,KAAlvB,EAAwvBC,UAAxvB,EAAmwBC,WAAnwB,EAA+wBR,SAAiBS,GAAhyB,EAAwxBC,OAAxxB,EAAgyBD,QAAQE,EAAxyB,EAAwyBA,WAAuBC,GAA/zB,EAAozBC,UAApzB,EAA+zBD,YAA2CE,GAA12B,EAA20BC,WAA30B,EAAu1BC,kBAAv1B,EAA02BF,OAAOG,EAAj3B,EAAi3BA,UCAj3B,EAA+iB5E,EAAAA,KAA1f6E,GAArD,EAAQC,SAAR,EAAkBC,QAAlB,EAA2BC,UAA3B,EAAsCC,cAAtC,EAAqDJ,iBAAkIK,GAAvL,EAAsEC,UAAtE,EAAiFC,iBAAjF,EAAmGC,WAAnG,EAA+GC,mBAA/G,EAAmIC,YAAnI,EAAgJC,mBAAhJ,EAAoKC,kBAApK,EAAuLP,gBAAgGQ,GAAvR,EAAuMC,kBAAvM,EAA0NC,sBAA1N,EAAiPC,mBAAjP,EAAqQC,iBAArQ,EAAuRJ,MAAvR,EAA6RK,UAA7R,EAAwSC,sBAAxS,EAA+TC,WAA/T,EAA2UC,SAA3U,EAAqVC,SAArV,EAA+VC,gBAA/V,EAAgXC,gBAAhX,EAAiYC,eAAjY,EAAiZC,SAAjZ,EAA2ZC,eAA3Z,EAA2aC,cAA3a,EAA0bC,QAA1b,EAAmcC,SAAnc,EAA6cC,YAA7c,EAA0dC,WAA1d,EAAseC,WAAte,EAAkfC,eAAlf,EAAkgBC,YAAlgB,EAA+gBC,UAA/gB,EAA0hBC,iBCAzf,QAAVlH,EAAAA,IAAwC,OAA8LA,EAAAA,IAAVmH,IAApL,GAAQC,iBAAR,GAA0BC,UAA1B,GAAqCC,eAArC,GAAqDC,WAArD,GAAiEC,YAAjE,GAA8EC,YAA9E,GAA2FC,UAA3F,GAAsGC,QAAtG,GAA+GC,SAA/G,GAAyHC,aAAzH,GAAuIC,YAAvI,GAAoJC,aAApJ,GAAkKC,iBAAlK,GAAoLb,OCE/Q,WCF4B,OAAgFnH,EAAAA,IAA9BiI,IAAlD,GAAQC,KAAR,GAAcC,OAAd,GAAsBC,WAAtB,GAAkCC,eAAlC,GAAkDJ,aAAaK,GAA/D,GAA+DA,aCAvCC,GAAuBvI,EAAAA,eCMrEwI,GAAY,IAAID,GAChBE,GAAa,IAAIC,QACjBC,GAAkBC,OAAOD,gBAExB,SAASE,KACZ,IAAMC,GAAWC,EAAAA,EAAAA,YAAW,GAC5B,OAAOC,EAAAA,EAAAA,cAAY,WACfF,EAAS,MACV,IAGA,SAASG,GAAoBC,GAChC,IAAMC,GAAMC,EAAAA,EAAAA,UAEZ,OADAD,EAAIE,QAAU9I,EAAW2I,IAAajJ,GAC/B+I,EAAAA,EAAAA,cAAY,WACf,OAAOG,EAAIE,QAAQC,MAAMC,KAAMC,aAChC,IAGA,SAASC,GAAsBlK,EAAKN,GACvC,IAAMyK,EAAcb,KACd9I,EAAQR,EAAIN,GACZkK,GAAMC,EAAAA,EAAAA,UAWZ,OAVAD,EAAIE,QAAUtJ,GACd4J,EAAAA,EAAAA,YAAU,WACN,IAAIC,EAAK,SAAUC,GACXA,IAAMV,EAAIE,SACVK,KAIR,OADAE,EAAGrK,EAAIN,IACAkE,EAAM5D,EAAKN,EAAK2K,KACxB,CAACrK,EAAKN,IACFc,EAGJ,SAAS+J,GAASC,EAAMC,EAAMC,GACjC,IAAMC,EAAQC,IAAa,WACvB,IAAIC,EACAC,EACAC,EACJ,MAAO,CACHC,SAAS,EACTxK,WAAOlB,EACP2L,WAAO3L,EACP4L,WAAY,SAAUpB,GAClBe,EAAUf,GAEdqB,GAAI,SAAUC,EAAOC,GACjB,OAAOpC,GAAUqC,IAAIX,EAAOS,EAAOC,IAEvCE,QAAS,SAAUF,GACf,OAAOV,EAAMQ,GAAG,SAAS,SAAUK,GAC/B,OAAOH,EAAQjL,KAAKuK,EAAOa,EAAEP,WAGrCQ,QAAS,SAAUC,GACf,GAAIhB,IAAagB,EAGb,OAFAX,EAAaA,GAAc/F,KAChB2G,QAAQzG,EAAMwF,IAClBK,EAAWvL,IAAMuL,EAAWvL,EAAIuL,EAAWa,MAAK,WAEnD,OADAb,EAAa,KACNJ,EAAMc,SAAQ,OAG7B,IAAII,EAAazC,GAAkB,IAAIA,GAAoB,CAAE0C,MAAOpL,GAChEoK,GACAA,EAAkBgB,QAEtBzK,EAAOsJ,EAAO,CAAEK,SAAS,EAAMC,WAAO3L,IACtC,IAAIyM,EAAS1G,EAAUmF,EAAVnF,CAAgBwG,EAAWG,QACpCC,EAAUpH,EAAOkH,GAAQ,SAAUG,EAAU1L,GAC7C,GAAIsK,IAAsBe,EACtB,GAAIK,EACA7K,EAAOsJ,EAAO,CAAEK,SAAS,EAAOxK,MAAOA,IACvCyI,GAAUkD,KAAK,OAAQxB,EAAO,CAAEyB,KAAM5L,SAGtC,GADAa,EAAOsJ,EAAO,CAAEK,SAAS,EAAOxK,WAAOlB,EAAW2L,MAAOzK,KACpDyI,GAAUkD,KAAK,QAASxB,EAAO,CAAEM,MAAOzK,IACzC,MAAMA,KAOtB,OAFAsK,EAAoBe,EACpBnD,GAAYmC,GAAWwB,GAAAA,KAAUJ,GAC1BF,GAEXD,MAAO,SAAUQ,GACTxB,IACAA,EAAkBgB,MAAMQ,GACxBxB,EAAoB,MAExBH,EAAMK,SAAU,OAGzB,WACCL,EAAMmB,WAiBV,OAfArB,EAAO,EAAU,IAATA,GAAgB8B,OAAOxL,EAAQ0J,IAAS,IAChDD,EAAOd,GAAoBc,IAC3BJ,EAAAA,EAAAA,YAAU,WACFK,EAAK,IAGL3H,EAAiB6H,EAAMc,WAE5BhB,IACH+B,EAAAA,EAAAA,UAAQ,WACA/B,EAAK,KAAOC,IACZC,EAAMK,SAAU,KAErBP,GACHP,GAAsBS,EAAO,WACtB,CAACA,EAAMnK,MAAOmK,GAGlB,SAAS8B,GAAmBjC,GAC/B,IAAMkC,EAAOvL,EAAU8I,WACjB0C,GAAMnD,EAAAA,EAAAA,UAAS,IAAIL,SAAW,GACpC,OAAO,SAAUmB,GACTA,GAAKnI,EAAOwK,EAAKrC,KACjBoC,EAAK,GAAKpC,EACVE,EAAKT,MAAM,KAAM2C,KAKtB,SAASE,KACZ,IAAMC,GAAUrD,EAAAA,EAAAA,WAAS,WACrB,IAAMsD,EAAY,CACd,WACIA,EAAUrL,OAAO,EAAGqL,EAAUC,OAAS,KAG/C,OAAO1L,EAAOgB,EAAUyK,GAAY,CAAEE,KAAMF,EAAUrL,OAAO0E,KAAK2G,GAAY,EAAG,QAClF,GAIH,OAHA1C,EAAAA,EAAAA,YAAU,WACN,OAAOyC,IACR,CAACA,IACGA,EAGJ,SAASI,GAAoBC,GAChC,OAAQhE,GAAWiE,IAAID,GAGpB,SAAStC,GAAanM,EAAS2O,GAClC,IAAMF,GAAS1D,EAAAA,EAAAA,UAAS/K,KAAW,GAanC,OAZA0D,EAAO+G,GAAYgE,IACnB9C,EAAAA,EAAAA,YAAU,WAEN,OADAjI,EAAO+G,GAAYgE,GACZ,WACHhE,GAAU,OAAQgE,GAClBzK,GAAa,WACLwK,GAAoBC,KACnBE,GAAaF,EAAOL,SAAWnM,GAAMN,KAAK8M,SAIxD,CAACA,IACGA,EAGJ,SAASG,KACZ,OAAOC,GAAgBvD,MAAMC,KAAMC,WAAWL,IAG3C,SAAS0D,KACZ,IAAMC,GAAa1D,EAAAA,EAAAA,SAAO,GACpBD,GAAMC,EAAAA,EAAAA,QAAO,MACb6C,EAAOvL,EAAU8I,WACjBoB,GAAU7B,EAAAA,EAAAA,WAAS,WACrB,MAAO,CACHI,IAAK,SAAUiB,GACXjB,EAAIE,QAAUe,EACdL,EAAKK,IAETsB,KAAM,SAAUlB,GACZ,OAAOuC,EAAWvC,IAAUwC,EAAYxC,IAAU7G,KAEtDsJ,MAAO,SAAUC,EAAQhE,GACrB,IAAIiE,EAYJ,OAXKjE,EAKDiE,EAHQ7M,EAAQ4M,GAGJ,SAAU1C,EAAO0C,GACzB,OAAOjM,EAAIiM,GAAQ,SAAUA,GACzB,OAAQ3M,EAAW2M,GAAU9M,EAAKoC,GAAiBgI,EAAO0C,OAJtD3M,EAAW2M,GAAU9M,EAAKoC,EAFtC0G,EAAWgE,EAUR1E,GAAUqC,IAAID,EAASuC,EAAY,QAAU,WAAW,SAAUpC,GACrE,IAAKoC,GAAajN,GAAM6K,EAAEP,MAAO0C,GAC7B,OAAOhE,EAAS6B,EAAEP,eAKnC,GACGwC,GAAchE,EAAAA,EAAAA,cAAY,SAAUwB,GACtC,IAEI,OADAsC,EAAWzD,SAAU,EACduC,GAAAA,KAAS,QAASzC,EAAIE,SAAWuC,GAAAA,KAAU,CAAEpB,MAAAA,IAAS,GAFjE,QAIIsC,EAAWzD,SAAU,KAE1B,IACG0D,GAAa/D,EAAAA,EAAAA,cAAY,SAAUwB,GACrC,OAAOhC,GAAUkD,KAAK,QAASd,EAAS,CAAEJ,MAAAA,KAAYhC,GAAUkD,KAAK,UAAWd,EAAS,CAAEJ,MAAAA,MAC5F,IACGT,EAAOiC,IAAmB,SAAU5B,GACtCwB,GAAAA,GAAOxB,EAAS,SAAS,SAAUW,GAC/B,IAAK+B,EAAWzD,QACZ,OAAO0D,EAAWhC,EAAEP,aAShC,OALAb,EAAAA,EAAAA,YAAU,WACN,OAAO/H,EAAUd,EAAImL,GAAM,SAAUpC,GACjC,OAAOA,EAAEiB,QAAQF,EAAQc,YAE9BO,GACIrB,EClOJ,SAASwC,GAAcC,GAC1B,IAAIC,GAAKvB,EAAAA,EAAAA,UAAQ,WACb,OAAOwB,WAAWF,KACnB,CAACA,IACAnD,GAAQnB,EAAAA,EAAAA,UAASuE,EAAGE,SAMxB,OALA7D,EAAAA,EAAAA,YAAU,WACN,OAAOjE,EAAK4H,EAAI,UAAU,WACtBpD,EAAM,GAAGoD,EAAGE,cAEjB,CAACF,IACGpD,EAAM,GAMV,SAASuD,GAAwBC,GACpC,IAAI/K,EAAS,GASb,OARAQ,EAAMR,GAAQ,GACd9B,EAAK6M,GAAa,SAAUC,EAAG9D,GAC3B,IAAIyD,EAAKC,WAAW1D,GAChB+D,EAAW9K,EAAyBH,EAAQgL,EAAGL,EAAGE,SAAS,GAC/D9H,EAAK4H,EAAI,UAAU,WACfM,EAASN,EAAGE,eAGb,CACHE,YAAavO,OAAOiE,OAAOT,GAC3BkL,cAAe,WACX,IAAInE,EAAcb,KAIlB,OAHAc,EAAAA,EAAAA,YAAU,WACN,OAAOxG,EAAMR,EAAQ+G,KACtB,IACI/G,ICjCnB,IAAMmL,IAA2BC,EAAAA,EAAAA,eAAc,MACzCC,GAAc7O,OAAOiE,OAAO,CAC9B9D,IAAKW,EACLiM,IAAKjM,IAGIgO,GAAoBH,GAAyBI,SAEnD,SAASC,GAAalP,GACzB,IAAImP,GAAWrF,EAAAA,EAAAA,UAASvF,GAAU,GAC9B6K,GAAWC,EAAAA,EAAAA,YAAWR,IACtB5D,EAASmE,GAAYpP,GAAOoP,EAASE,SAASH,EAAUnP,IAAS+O,GAIrE,OAHArE,EAAAA,EAAAA,YAAU,WACN,OAAOO,EAAMkC,SAAWlC,EAAMkC,QAAQ1G,KAAKwE,KAC5C,CAACA,IACGA,ECdX,IAAMsE,GAAI1M,IACJ2M,GAAQC,GAASjP,UACjBkP,GAAU,IAAIpG,GAEpB,SAASqG,GAAQC,EAAGC,GAChB,IAAIC,EAAI1O,EAAkBwO,KAAO,EAC7BG,EAAI3O,EAAkByO,IAAM,EAChC,OAAIC,GAAKC,EACED,EAAIC,EAEE,iBAANH,GAA+B,iBAANC,EACzBG,OAAOJ,GAAGK,cAAcJ,OAAGjQ,EAAW,CAAEsQ,UAAW,UAEvDN,EAAIC,EAGR,SAASJ,GAASU,EAASC,EAAQC,EAAWC,GACjD,IAAIjR,EAAOiL,KACPiG,EAAW,CACXJ,QAASxO,EAAO,GAAIwO,GACpBC,OAAQA,EACRC,UAAWA,GAAcD,GAAU,MACnCI,UAAW,EACXF,cAAuB1Q,IAAb0Q,EAAyBb,GAASa,SAAWA,GAG3D,IAAK,IAAI5B,KADTyB,EAAUxO,EAAO,GAAIwO,GAEjBtM,EAAyBsM,EAASzB,GAEtC,IAAIzD,EAAQsE,GAAElQ,EAAM,CAChB8Q,QAASjQ,OAAOiE,OAAOgM,GACvBI,SAAUA,EACVE,MAAO,KAEPC,EAAY,WACZzF,EAAM0F,OAAS1F,EAAMwF,MAAMpD,YAASzN,EAAY,GAC5C0K,OAASjL,IACT4L,EAAM2F,SAAW3F,EAAM0F,QAE3BjB,GAAQmB,UAAU,aAAcxR,IAEpCsC,EAAO2I,KAAMiG,GACbrM,EAAM7E,EAAMqR,GACZxM,EAAM7E,EAAK8Q,QAASO,GA6EjB,SAASI,GAAYC,EAAYZ,EAASC,EAAQC,EAAWC,GAChE,GAA0B,iBAAfS,EACP,OAAOD,GAAY,aAAcC,EAAYZ,EAASC,EAAQC,GAElE,IAAIW,EAAY9B,GAAa6B,GACzBtG,EAAcb,KACdqH,GAAWnH,EAAAA,EAAAA,WAAS,WACpB,OAAOnI,EAAO,IAAI8N,GAASU,EAASC,EAAQC,EAAWC,GAAWU,EAAU3Q,UAC7E,GAcH,OAbAqK,EAAAA,EAAAA,YAAU,WACN,IAAIO,EAAQsE,GAAE0B,GACd,OAAOtO,EACHsO,EAASxF,GAAG,aAAchB,GAC1BuG,EAAUE,WAAaF,EAAUE,YAAW,SAAUC,GAClDH,EAAU/D,IAAIgE,EAASG,UACvBzP,EAAOsP,EAAUE,GAAYlG,EAAMsF,aAClCvP,GACL,WACIgQ,EAAU/D,IAAIgE,EAASG,eAGhC,CAACH,IACGA,EAhGX9R,EAAOsQ,GAAU,CACba,SAAU,IAGd1M,EAAgB6L,GAAU,CACtB4B,UAAW,EACX5F,GAAI,SAAUC,EAAOC,GACjB,OAAO+D,GAAQ9D,IAAItB,KAAMoB,EAAOC,IAEpC2F,QAAS,SAAUb,EAAOxG,GACtB,IAAI5K,EAAOiL,KACPW,EAAQsE,GAAElQ,GACVmR,EAAYnR,EAAKmR,WAAa,EAC9BF,EAAWjR,EAAKiR,UAAY,EAC5BG,IAAUxF,EAAMwF,QAChBxF,EAAMwF,MAAQA,GAAS,GACvBxF,EAAM2F,SAAW3F,EAAMwF,MAAMpD,YAASzN,EAAY,GAClDqL,EAAM0F,OAAS1F,EAAM2F,UAEzB3G,EAAWA,GAAY,SAAUwG,GAC7B,OAAOpR,EAAKkS,KAAKd,IAErB,IAAIe,EAAgBvG,EAAM0F,SAAW1F,EAAM0F,OAAS1G,EAASvJ,KAAKrB,EAAM4L,EAAM2F,UAAY3F,EAAMwF,MAAOpR,EAAK8Q,QAAS9Q,EAAK+Q,OAAQ/Q,EAAKgR,YAAc,IAKrJ,OAJApF,EAAM2F,SAAWY,EACbf,IACApR,EAAKgS,UAAYG,EAAcnE,QAE5B,CAACmE,EAAcC,MAAMjB,EAAYF,EAAUA,GAAYE,EAAY,GAAKF,OAAW1Q,GAAY4R,EAAcnE,SAExHkE,KAAM,SAAUd,EAAOxG,GAGnB,GADAwG,EAAQhP,EAAUgP,IACbnP,EAAW2I,GAAW,CACvB,IAAI1J,EAAO0J,GAHJK,KAGqB8F,OAC5B,IAAK7P,EACD,OAAOkQ,EAEXxG,EAAW,SAAUyH,GACjB,OAAOA,EAAKnR,IAGpB,IAAIoR,EAAyB,SAXlBrH,KAWI+F,WAAwB,EAAI,EACvC3M,EAAS,IAAIkO,IAIjB,OAHAhQ,EAAK6O,GAAO,SAAU/B,EAAG9D,GACrBlH,EAAOuJ,IAAIrC,EAAGX,EAASW,OAEpB6F,EAAMc,MAAK,SAAU3B,EAAGC,GAC3B,IAAIC,EAAIpM,EAAOrD,IAAIuP,GACfG,EAAIrM,EAAOrD,IAAIwP,GACnB,OAAO8B,GAAOtQ,EAAQyO,GAAK7N,EAAO6N,GAAG,SAAUlF,EAAG8D,GAC9C,OAAOiB,GAAQ/E,EAAGmF,EAAErB,OACnBiB,GAAQG,EAAGC,QAGxBqB,OAAQ,WACJ,IAAI/R,EAAOiL,KACX,OAAO3I,EAAOQ,EAAK9C,EAAMoE,EAAK8L,GAAElQ,GAAMkR,WAAY,CAC9CJ,QAASxO,EAAO,GAAItC,EAAK8Q,SACzBkB,UAAWhS,EAAKgS,aAGxBQ,MAAO,WACHlQ,EAAO2I,KAAMiF,GAAEjF,MAAMiG,aAI7B1M,EAAyB2L,GAAO,UAChC3L,EAAyB2L,GAAO,aAChC3L,EAAyB2L,GAAO,aAChC3L,EAAyB2L,GAAO,YAChC3L,EAAyB2L,GAAO,UAAW,IAAI,SAAU2B,GACrD,OAAOxP,EAAO4N,GAAEjF,MAAM6F,QAASgB,MCvHnC,IAAMW,GAAc,IAAIC,QAEjB,SAASC,GAAYtG,EAAOC,GAC/B,IAAIsG,EAEJ,OADAtG,EAAUpK,EAAcmK,IAAUxJ,EAAGwJ,EAAOC,GACrC,SAAUR,GACb,GAAIA,EAAS,CACT,GAAI8G,EACA,MAAM,IAAIC,MAAM,4DAGFtS,KADlBqS,EAAM3P,EAAOwP,GAAa3G,EAASgH,QAC3BC,QACJH,EAAIG,MAAQ,GAEhBzG,EAAU/J,EAAK+J,GAAS,SAAU+C,EAAG9D,GACjC,IAAIwH,EAAQH,EAAIG,QACXH,EAAIG,IACLzF,GAAAA,GAAOxB,EAASuD,GAAG,WACf,OAAOuD,EAAIG,GAAO/H,MAAMC,KAAMC,cAGtC0H,EAAIG,GAAS9O,EAAiBsH,WAGlCqH,EAAIG,MAAQ,GAKjB,SAASC,KACZ,IAAIC,EAAY,GAmBhB,OAlBA,SAAUC,EAAQvF,GACdpL,EAAKoL,GAAM,SAAUwF,EAAG5H,GACpB,GAAIA,EACA,GAAiB,iBAANA,EACP0H,EAAUhF,KAAK1C,QACZ,GAA+B,mBAApBA,EAAE6H,cAChBF,EAAQ9Q,EAAUmJ,EAAE6H,uBAEpB,IAAK,IAAI/D,KAAK9D,EAAG,CACb,IAAI9J,EAAQ8J,EAAE8D,GACV5N,GACAwR,EAAUhF,MAAe,IAAVxM,EAAiB4N,EAAIA,EAAI,IAAM5N,OAXtE,CAiBGW,EAAU8I,YACN+H,EAAUI,KAAK,KAGnB,SAASC,GAAgBC,GAC5B,OAAOrR,EAAcqR,GAAQ,CAAEC,wBAAyBD,GAAS,CAAEE,SAAUF,GAG1E,SAASG,GAAQlJ,EAAU7J,GAC9B,IAAIgT,EAAK,SAAUhT,EAAKc,GACpB+I,GAAS,SAAUe,GAIf,MAHmB,iBAAR5K,IACPA,EAAMkC,EAAGlC,EAAKsB,EAAWR,GAASA,EAAM8J,EAAE5K,GAAM4K,GAAK9J,IAElDa,EAAO,GAAIiJ,EAAG5K,OAG7B,OAAOA,EAAMgT,EAAGvM,KAAK,EAAGzG,GAAOgT,EAG5B,SAASC,KACZ,OAAOtQ,EAAUlB,EAAU8I,WAAW1I,IAAIqR,KAGvC,SAASA,GAAchJ,GAC1B,OAAIA,IAAQ5I,EAAW4I,GACZ,SAAUU,GACb,OAAOV,EAAIE,QAAUQ,GAGtBV,GAAOlJ,EAGX,SAASmS,GAAapU,EAASqU,GAClCA,EAAWA,GAAYC,EAAAA,SACnB/R,EAAW8R,KACXA,GAAWE,EAAAA,EAAAA,eAAcF,IAE7B,IAAMG,GAAYC,EAAAA,EAAAA,MAAKzU,GACvB,OAAO,SAAU0U,GACb,OAAOH,EAAAA,EAAAA,eAAcI,EAAAA,SAAU,CAAEN,SAAAA,IAAYE,EAAAA,EAAAA,eAAcC,EAAWE,K,yOCzF/D,SAASE,MAExB,SAASC,GAAqBnD,GAC1B,OAAO3D,EAAAA,EAAAA,UAAQ,WACX,OAAQ2D,GAAS,IAAI5O,KAAI,SAAU+I,GAC/B,MAAoB,WAAb,GAAOA,GAAiBA,EAAI,CAAEiJ,MAAO7D,OAAOpF,GAAI9J,MAAO8J,QAEnE,CAAC6F,IAGRtR,EAAOwU,GAAa,CAChBG,eAAgBF,KAGpBhQ,EAAgB+P,GAAa,CACzBI,aAAc,GACdC,SAAU,SAAU/I,EAAOwI,GACvB,IAAIhD,EAAQmD,GAAqBH,EAAMhD,OACnCwD,EAAgBxD,EAAMyD,WAAU,SAAUtJ,GAC1C,OAAOA,EAAE9J,QAAUmK,EAAMnK,SAQ7B,OANA4J,EAAAA,EAAAA,YAAU,WACFuJ,EAAgB,IAChBA,EAAgBR,EAAMU,gBAAkB1D,EAAM,IAAM,EAAI,EACxDxF,EAAM0D,SAASsF,EAAgB,EAAI,GAAKxD,EAAM,GAAG3P,WAGlDa,EAAOsJ,EAAO,CACjBwF,MAAOA,EACPwD,cAAeA,EACfG,aAAc3D,EAAMwD,QC7BhC,IAAMI,GAAK,yBACLC,GAAsC,KAAjC,IAAIC,MAAOC,oBAGhBC,GAAQ,CACV1E,EAAG,CAAC,cAAe,eACnB2E,EAAG,CAAC,WAAY,YAChB5U,EAAG,CAAC,UAAW,YAanB,SAAS6U,GAAcC,GACnB,GAAoB,iBAATA,EAAmB,CAC1B,GAAIP,GAAGQ,KAAKD,GACR,OAAOL,KAAKO,MAAMF,EAAO,UAE7BA,EAAmB,MAAZA,EAAK,IAA0B,MAAZA,EAAK,GAdvC,SAA2BG,GACvB,IAAIH,EAAOI,GAAaT,KAAKU,OACzBtD,EAAiB,MAAXoD,EAAI,IAAc,EAAI,EAIhC,OAHAA,EAAIG,cAAcC,QAAQ,yBAAyB,SAAUvK,EAAGgF,EAAGC,EAAGuF,GAClER,EAAKH,GAAMW,GAAG,IAAIR,EAAKH,GAAMW,GAAG,MAASvF,GAAW,MAAND,GAAa,EAAU,MAANA,EAAY,EAAI+B,IAAc,MAANyD,EAAY,EAAI,OAEpGR,EAQyCS,CAAkBT,GAAQL,KAAKO,MAAMF,GAErF,OAAOA,GAAQA,EAAON,IAAM,MAGhC,SAASgB,GAAWV,EAAMW,EAAKC,GAC3B,IAAIC,EAAKtU,EAAGyT,EAAML,OAASI,GAAcC,GACzC,OAAOa,EAAKF,EAAMA,EAAME,EAAKD,EAAMA,EAAMZ,EAG7C,SAASI,GAAaD,GAClB,IAAIU,EAAKd,GAAcI,GACvB,OAAOW,MAAMD,GAAM,KAAO,IAAIlB,KAAKkB,GAGvC,SAASE,GAAaf,GAClB,IAAKc,MAAMd,GAAO,CAEd,IAAIG,EAAM,IAAIR,KAAKK,EAAON,IAAIsB,cAC9B,OAAOb,EAAItD,MAAM,EAAGsD,EAAIc,QAAQ,IAAK,KAEzC,MAAO,GAGI,SAASC,MChDT,SAASC,MCFT,SAASC,MCDT,SAASC,MCAT,SAASC,MJWxBzB,GAAM0B,EAAI1B,GAAM3U,EA0ChBX,EAAO2W,GAAW,CACdH,aAAcA,GACdX,aAAcA,KAGlBpR,EAAgBkS,GAAW,CACvB/B,aAAc,GACdqC,eAAgB,SAAUtV,GACtB,OAAO6U,GAAahB,GAAc7T,KAEtCkT,SAAU,SAAU/I,EAAOwI,GACvB,IAAI9E,EAAW1D,EAAM0D,SACjB7N,EAAQmK,EAAMnK,MACdyU,EAAMZ,GAAclB,EAAM8B,KAC1BC,EAAMb,GAAclB,EAAM+B,KAC1Ba,GAAcvJ,EAAAA,EAAAA,UAAQ,WACtB,OAAOhM,GAAS2S,EAAM6C,cAAgB7C,EAAM6C,cAActB,GAAalU,IAAUA,IAClF,CAACA,IAOJ,OANA4J,EAAAA,EAAAA,YAAU,WACN,IAAI6L,EAAUzV,GAASwU,GAAWxU,EAAOyU,EAAKC,GAC1Ce,IAAYzV,GACZ6N,EAAS4H,KAEd,CAACzV,EAAOyU,EAAKC,IACT7T,EAAOsJ,EAAO,CACjBsK,IAAKI,GAAaJ,GAClBC,IAAKG,GAAaH,GAClBa,YAAaA,EACb1H,SAAU3E,IAAoB,SAAUY,IACpCA,EAAItJ,EAAWsJ,GAAKA,EAAEK,EAAMnK,OAAS8J,GAG1B,QAAQiK,KAAKjK,IAAM,UAAUiK,KAAKjK,KACzCA,EAAIoK,GAAapK,GACZ8K,MAAM9K,IACP+D,EAAS2G,GAAW1K,EAAG2K,EAAKC,KAJhC7G,EAAS,YC/E7B/K,EAAgBmS,GAAkB,CAE9BhC,aAAc5P,EAAO,IACrBiS,eAAgB,SAAUjF,GACtB,OAAO9P,EAAQ8P,IAAa1P,EAAU0P,IAE1C6C,SAAU,SAAU/I,EAAOwI,GACvB,IAAI+C,EAAoB/C,EAAM+C,oBAAsB/C,EAAMhD,MACtDA,EAAQkD,GAAYG,eAAeL,EAAMhD,OACzCgG,EAAY,SAAU3V,GACtB,OAAQ2P,EAAMiG,MAAK,SAAU9L,GACzB,OAAOA,EAAE9J,QAAUA,MAGvB6V,EAAc3M,IAAoB,SAAUlJ,EAAO8V,IAC/CJ,GAAsBC,EAAU3V,IAChCmK,EAAM0D,UAAS,SAAUsD,GACrB,IAAIG,EAAQH,EAAI4D,QAAQ/U,GASxB,OARIM,EAAkBwV,IAAa1V,EAAOkR,GAAS,EAAGwE,MAClD3E,EAAMxQ,EAAUwQ,GACZG,EAAQ,EACRH,EAAI3E,KAAKxM,GAETmR,EAAIlQ,OAAOqQ,EAAO,IAGnBH,QAanB,OATAvH,EAAAA,EAAAA,YAAU,WACN,IAAK8L,EAAmB,CACpB,IAAIK,EAAMpV,EAAUwJ,EAAMnK,OAChBiB,EAAO8U,EAAKJ,GACdpJ,QACJpC,EAAM0D,SAASkI,OAIpBlV,EAAOsJ,EAAO,CACjBwF,MAAOA,EACPkG,YAAaA,OC3CzB/S,EAAgBoS,GAAc,CAC1BI,eAAgB,SAAUjF,GAEtB,OADAA,GAAYA,EACLuE,MAAMvE,QAAYvR,EAAYuR,GAEzC6C,SAAU,SAAU/I,EAAOwI,GACvB,IAAI3S,EAAQmK,EAAMnK,MACdyU,EAAM9B,EAAM8B,IACZC,EAAM/B,EAAM+B,IACZsB,EAAOrD,EAAMqD,KACbC,EAAatD,EAAMsD,WAYvB,OAXArM,EAAAA,EAAAA,YAAU,WACN,IAAIsM,EAAUF,EAAO,EAAIG,KAAKC,MAAMpW,EAAQgW,GAAQA,EAAOhW,EACvDkW,EAAUzB,GAAQG,MAAMsB,KAAaD,EACrCC,EAAUzB,GAAO,EACVyB,EAAUxB,IACjBwB,EAAUxB,GAEVwB,IAAYlW,GACZmK,EAAM0D,SAASqI,KAEpB,CAAClW,EAAOyU,EAAKC,EAAKsB,EAAMC,IACpB9L,KCvBfrH,EAAgBqS,GAAW,CACvBlC,aAAc,GACdC,SAAU,SAAU/I,EAAOwI,GACvB,IAAI0D,EAAOlM,EAAMkM,KACbC,EAAajV,EAAKsR,EAAO,CAAC,OAAQ,WAAY,eAAgB,YAAa,YAAa,cAAe,iBAM3G,MALmB,aAAfA,EAAM4D,MAAwBD,EAAWE,eACzCF,EAAWE,aAAe,oBAE9BF,EAAWC,KAAOD,EAAWC,MAAQ,OACrCD,EAAWG,aAAeH,EAAWG,cAAiBJ,GAAQA,EAAKI,aAC5D5V,EAAOsJ,EAAO,CACjBmM,WAAYA,OCXxBxT,EAAgBsS,GAAa,CACzBnC,cAAc,EACdyD,cAAe,UACfpB,eAAgB,SAAUtV,GACtB,QAASA,GAEb2W,QAAS,SAAU3W,GACf,OAAQA,GAEZkT,SAAU,SAAU/I,GAChB,OAAOA,KCJf,IAAMsE,GAAI1M,IACJ6M,GAAU,IAAIpG,GACdoO,GAAU,IAAI3F,QACd4F,GAAY,IAAI5F,QAChB6F,GAAe,IAAIhG,IACnBiG,GAAa,CACfjF,KAAMqD,GACN6B,OAAQ5B,GACR6B,OAAQpE,IAINqE,IAAoBlJ,EAAAA,EAAAA,eAAc,MAClCmJ,GAAqBD,GAAkB/I,SAEtC,SAASiJ,GAAgBC,EAAMC,EAASpL,GAC3C1C,KAAK6N,KAAOA,EACZ7N,KAAK0C,KAAOA,EACZ1C,KAAK8N,QAAUA,EAGnB,SAASX,GAAQ3W,GACb,OAAOM,EAAkBN,IAAoB,KAAVA,GAAiBO,EAAQP,KAAWA,EAAMuM,OAGjF,SAASgL,GAAiBC,GACtB,OAAOA,EAAM7E,MAAM8E,WAAaD,EAAM7E,MAAMgE,SAAWa,EAAME,OAAOf,SAAWA,IAASa,EAAMxX,OAGlG,SAAS2X,GAAW3X,GAChB,OAAOyO,GAAEzO,GAASa,GAAO,EAAMN,EAAQP,GAAS,GAAK,GAAIA,GAASA,EAGtE,SAAS4X,GAAO5X,GACZ,OAAQyO,GAAEzO,IAAU,IAAIqO,SAG5B,SAASwJ,GAAgBxB,EAAMyB,GAI3B,IAHA,IAAI3G,EAAM5Q,EAAQuX,IAASA,EAAKC,MAAM,KAClC/X,EAAQqW,EAAKzK,KACboM,EAAShY,EACJ4N,EAAI,EAAGqK,EAAM9G,EAAI5E,OAAQqB,EAAIqK,EAAKrK,IAAK,CAC5C,IAAKjO,EAAeK,EAAOmR,EAAIvD,IAC3B,MAAO,CACHsK,KAAM/G,EAAI8G,EAAM,GAChBD,OAAQpK,IAAMqK,EAAM,EAAIjY,EAAQ,MAGxCgY,EAAShY,EACTA,EAAQA,EAAMmR,EAAIvD,IAEtB,MAAO,CACHuK,QAAQ,EACRD,KAAM/G,EAAI8G,EAAM,GAChBjY,MAAOA,EACPgY,OAAQA,GAIhB,SAASI,GAAS/B,EAAMyB,GACpB,IAAIrY,EAAOoY,GAAgBxB,EAAMyB,GAC7B5Y,EAAM0Y,GAAOnY,EAAKuY,QACtB,OAAO9Y,GAAOuP,GAAE4H,GAAMgC,OAAOnZ,EAAM,IAAMO,EAAKyY,MAGlD,SAASI,GAAQjC,EAAM7W,EAAK0Y,GACxB,GAAI1Y,IAAQ6W,EAAKzK,KACb,OAAOsM,EAIX,IAFA,IAAIK,EAAQ9J,GAAE4H,GAAMkC,MAChBT,EAAO,CAACI,GACHhZ,EAAM0Y,GAAOpY,GAAMN,EAAMqZ,EAAMrZ,GAAMA,EAAMA,EAAIyR,MAAM,EAAG,GAC7DmH,EAAKU,QAAQtZ,EAAIyR,MAAM,IAE3B,OAAOkH,GAAgBxB,EAAMyB,GAAME,SAAWxY,EAAMsY,EAAKlG,KAAK,KAAO,GAGzE,SAAS6G,KACL3X,EAAKgW,IAAc,SAAUT,GACzB,IAAIlM,EAAQsE,GAAE4H,GACV1D,EAAQjR,EAAUoV,GAAcT,GACpC,IAAK,IAAIzI,KAAK+E,EACV,KAAO/E,EAAIA,EAAEyG,QAAQ,eAAgB,KACjC1B,EAAM/E,IAAK,EAGnB,IAAIvD,EAAUF,EAAMf,KAAOyC,GAAAA,KACvB6M,EAAgB1X,EAAKmJ,EAAMkO,QAAQ,SAAUvO,GAC7C,OAAO6I,EAAM7I,EAAEgO,SAMnB,GAJAlJ,GAAQjD,KAAK,aAAc0K,EAAM1T,EAAKgQ,IACtCgG,GAAetC,EAAMrV,EAAK0X,GAAe,SAAU5O,GAC/C,OAAQA,EAAE6I,MAAMiG,iBAAmB,GAAKvC,EAAKuC,iBAAmB,GAAK,MAErEvC,EAAK9N,eAAiB4B,EAAM0O,QAAUH,EAAc,IAAsC,WAAhC7M,GAAAA,eAAmBxB,GAAuB,CACpG,IAAIoB,EAAU,IAAIqN,SAAQ,SAAUlV,GAChCuG,EAAM0O,OAAS,WACX1O,EAAM0O,OAAS,KACfjV,QAGR2E,GAAa8B,EAASoB,GAAS,WAC3B,OAAOmD,GAAQjD,KAAK,cAAe0K,IAASzS,WAM5D,SAASmV,GAAiB5P,GACtB,IAAI6P,EACAjY,EAAMgY,GAAiB/Z,IAAM+Z,GAAiB/Z,EAAIga,EAAQ,IAAIC,KAClE,IACI9P,IADJ,QAGQpI,IAAQiY,IACRlY,EAAKkY,GAAO,SAAUpL,EAAG9D,GACrBA,EAAEoP,SAASpP,EAAE9J,UAEjB+Y,GAAiB/Z,EAAI,OAMjC,SAASma,GAAiBC,EAASC,GAC/B,IAAIlP,EAAQsE,GAAE2K,GACV1M,EAASnM,EAAQ8Y,GAAe,GAAK,GACrChL,EAAW5K,IACXyV,EAAW,SAAUI,EAAG9B,GACxB,IAAIM,EAAOQ,GAAQc,EAASG,EAAOD,GACnC,GAAIxB,EAAM,CACN,GAAIN,EAAO,CAEP,GADAA,EAAMxX,MAAQ0M,EAAO4M,GACjB9B,EAAMxX,QAAU0M,EAAO4M,GAEvB,YADAzL,EAASyL,EAAG9B,EAAMxX,OAGtB+Y,GAAiB/Z,EAAE8L,IAAI0M,GAG3B,IAAK,IAAItY,EAAMmP,EAAUnP,EAAMiL,EAAMoO,MAAMrZ,GAAMA,EAAMA,EAAIyR,MAAM,EAAG,GAC5DxG,EAAMkO,OAAOnZ,IACb6Z,GAAiB/Z,EAAE8L,IAAIX,EAAMkO,OAAOnZ,IAK5C,OAFAsC,EAAOsV,GAAcsC,EAASha,QAAQ0Y,IAAQ,EAC9CxV,EAAiBmW,KACV,IAGX5K,EAAW,SAAUyL,EAAGxP,GAUxB,OATIrJ,EAAcqJ,IAAMvJ,EAAQuJ,OAGvB2E,GAAE3E,IAAM,IAAIsP,UAAYA,IACzBtP,EAAIqP,GAAiBC,EAAStP,IAElCK,EAAMoO,MAAMX,GAAO9N,IAAMuE,EAAW,IAAMiL,GAE9C5M,EAAO4M,GAAKxP,EACLA,GAEP0P,EAAc,SAAUF,UACjB5M,EAAO4M,IAEdC,EAAQ,IAAIE,MAAM/M,EAAQ,CAC1BP,IAAK,SAAUuN,EAAGJ,EAAGxP,GAmCjB,MAlCiB,iBAANwP,GAAmBI,EAAEJ,KAAOxP,GAAOwP,KAAKI,GAC/CX,IAAiB,WACb,IAAIY,EAAOD,EAAEJ,GACb,GAAI/Y,EAAQmZ,IACR,GAAU,WAANJ,EAAgB,CAEhB,IAAK,IAAIhI,EAAQqI,EAAO,EAAGrI,GAASxH,EAAGwH,IACnC4H,EAAS5H,GAGb,OADAoI,EAAEJ,GAAKxP,GACA,OAER,CAMH,GALI2E,GAAE3E,IACFvH,EAAO,qCAIPhC,EAAQuJ,IAAMvJ,EAAQoZ,GAEtB,OADAA,EAAK1Y,OAAOsI,MAAMoQ,EAAM,CAAC,EAAGA,EAAKpN,QAAQR,OAAOjC,KACzC,EAEX,GAAIrJ,EAAcqJ,IAAM2E,GAAEkL,GAAO,CAC7B,IAAK,IAAI/L,KAAKrM,EAAQoY,EAAM7P,UACjB6P,EAAK/L,GAGhB,OADA/M,EAAO8Y,EAAM7P,IACN,GAGf+D,EAASyL,EAAGxP,GACZoP,EAASI,EAAGnP,EAAMkO,OAAOhK,EAAW,IAAMiL,QAG3C,GAEXM,eAAgB,SAAUF,EAAGJ,GAOzB,MANiB,iBAANA,GAAkBA,KAAKI,GAC9BX,IAAiB,WACbS,EAAYF,GACZJ,EAASI,OAGV,KAYf,OATA7K,GAAE8K,EAAO,CACLH,QAAAA,EACA/K,SAAAA,EACAlC,IAAK0B,EACLgM,OAAQL,IAEZ1Y,EAAKuY,GAAa,SAAUzL,EAAG9D,GAC3B+D,EAASD,EAAG9D,MAETyP,EAGX,SAASO,GAAiBC,GACtB,IAAIvC,EAAQ,CACRuC,aAAcA,EACd/Z,MAAO+Z,EACPtP,MAAO,GACPiN,OAAQ,GACRwB,SAAU,SAAUpP,GACZ0N,EAAM7E,MAAMuG,UACZ1B,EAAM7E,MAAMuG,SAASvB,GAAW7N,KAGxC+D,SAAU,SAAU/D,GAChBA,EAAItJ,EAAWsJ,GAAKA,EAAE0N,EAAMxX,OAAS8J,EAChC0N,EAAMwC,WAEAlQ,IAAM0N,EAAMxX,OACnBwX,EAAM0B,SAASpP,GAFf0N,EAAMxX,MAAQ8J,GAKtBmQ,SAAU,SAAUnQ,GAChB0N,EAAM/M,MAAQjK,EAAWsJ,GAAKA,EAAE0N,EAAM/M,OAASX,GAC9C0N,EAAMnB,MAAQ,IAAI6D,QAAU,MAEjCxP,WAAY,SAAUZ,GAClB0N,EAAMnN,QAAUP,IA+BxB,OA5BA1G,EAAMoU,GAAO,GACbzU,EAAyByU,EAAO,QAASuC,GAAc,SAAU1J,EAAU8J,GAEvE,OADA9J,GAAYmH,EAAME,OAAOpC,gBAAkBnV,GAAMkQ,EAAUmH,EAAM7E,UAChDwH,GAAY1L,GAAE0L,IAC3B3C,EAAM4C,KAAK5C,EAAMU,MAAQ7H,EAClB8J,GAEJ9J,KAEXtN,EAAyByU,EAAO,QAAS,IAAI,SAAU1N,GACnD,OAAOtJ,EAAWsJ,IAAMzJ,EAAGyJ,EAAGsN,IAsGtC,SAAyBI,EAAO/M,GAC5B,MAAO,CACH4P,SAAU,WACN,OAAIha,EAAGoK,EAAO2M,IACHjW,EAAO,CAACqW,EAAM7E,MAAO6E,EAAMnB,MAAQ,GAAIiE,KAAc,SAAUxQ,GAClE,OAAQA,EAAEyQ,aAAera,GAAMN,KAAKkK,EAAGW,EAAO+M,EAAMM,MAAQ,KAAMN,EAAM7E,MAAO6E,EAAMnB,UACnF5L,EAAM6M,QAET7M,EAAM+M,EAAM7E,OAAS,MA9GiB6H,CAAgBhD,EAAO1N,GAAKA,GAAK,MAEtF1G,EAAMoU,EAAO,SAAS,SAAU1N,GACxB0N,EAAMtY,IACNsY,EAAM4C,KAAK5C,EAAMU,MAAQpO,EACjB0N,EAAMwC,YACdxC,EAAM0B,SAASpP,MAGvB1G,EAAMoU,EAAO,SAAS,SAAU1N,GACxB0N,EAAMtY,KACN0P,GAAQjD,KAAK,mBAAoB6L,EAAMnB,KAAM,CACzC6B,KAAMV,EAAMM,KACZoC,SAAUpQ,EACVwN,QAASpI,OAAOpF,QAIrB0N,EAGX,SAASiD,GAAqBpE,EAAMlM,EAAOqN,EAAOE,EAAQ/E,EAAOqH,EAAYI,EAAMlb,GAC/E,IAAIwb,EAAe,UAAW/H,EAC1BgI,EAAUnD,EAAMtY,KAAOA,EAC3B2B,EAAO2W,EAAO,CAAEnB,KAAAA,EAAM1D,MAAAA,EAAO+E,OAAAA,EAAQsC,WAAAA,EAAYI,KAAAA,EAAMlb,IAAAA,IACnDmX,GAAQnX,IACRsY,EAAMU,KAAOhZ,EAAIyR,MAAM,GACvB6G,EAAMM,KAAOQ,GAAQjC,EAAM+D,EAAM5C,EAAMU,MACnCyC,IAAYzb,IACZsY,EAAMoD,MAAQ,GACTF,IACDlD,EAAM/M,MAAQ,KAGtBN,EAAMkO,OAAOnZ,GAAOsY,GAEpBkD,IACAlD,EAAM/M,MAAQkI,EAAMlI,QAExBb,EAAAA,EAAAA,YAAU,WAIN,OAHIyM,GAAQnX,IACRiL,EAAMkO,OAAOnZ,GAAOsY,GAEjB,WACCrN,GAASA,EAAMkO,OAAOnZ,KAASsY,WACxBrN,EAAMkO,OAAOnZ,GAChBsY,EAAM7E,MAAMkI,kBACZpM,GAAE2L,GAAF,OAAelb,EAAIyR,MAAM,IAE7BxG,EAAM2Q,eAGf,CAAC3Q,EAAOqN,EAAOtY,KAClB0K,EAAAA,EAAAA,YAAU,WACFO,GACAA,EAAM2Q,aAEX,CAAC3Q,EAAOqN,EAAM/M,MAAOkI,EAAMoI,SAAUpI,EAAM8E,WAGlD,SAASkB,GAAetC,EAAMgC,GAC1B,IAAIlO,EAAQsE,GAAE4H,GACV2E,EAAgBja,EAAIsX,EAAQd,IAC5B0D,EAAW,SAAUzD,GACrB,IAAIU,EAAOV,EAAMM,KACb9X,EAAQwX,EAAMxX,MAClB,OAAO4O,GAAQjD,KAAK,WAAY0K,EAAM,CAAE6B,KAAAA,EAAMlY,MAAAA,OAAcwX,EAAM7E,OAAS,IAAIuI,YAAchb,GAAMF,EAAOkY,EAAM7B,IAEhH8E,EAAW9C,EAAOtX,KAAI,SAAU+I,GAChC,IAAI8Q,EAAQ9Q,EAAE8Q,QAAU9Q,EAAE8Q,MAAQ,IAC9BjB,EAAOiB,EAAM,GACjB,OAAIjB,EAEOiB,EAAM,KAAOA,EAAM,GAAKvW,EAAOuW,EAAM,IAAI,WAC5C,IAAIQ,EAAOH,EAASnR,GAQpB,OAPAzF,EAAO+W,GAAM,WAGLR,EAAM,KAAOjB,GACbiB,EAAMS,WAGPD,OAGfR,EAAM,GAAKhX,EAAQqX,EAASnR,IACrB8Q,EAAM,OAEjB,OAAOrW,EAAW4W,GAAU/P,MAAK,SAAUG,GAUvC,OATA8M,EAAOiD,SAAQ,SAAUxR,EAAG8D,GAEpB9D,EAAE8Q,MAAM,KAAOO,EAASvN,KACxB9D,EAAE8Q,MAAMS,QACRvR,EAAEW,MAAQc,EAAOqC,IAErBrC,EAAOqC,GAAKrC,EAAOqC,IAAMoN,EAAcpN,MAE3CzD,EAAM2Q,YACE5Z,EAAIqK,MA8Bb,SAAS+O,GAAYjB,EAAakC,EAASrL,GAC9C,IAAI3R,EAAOiL,KACP6O,EAAS,GACTlO,EAAQsE,GAAElQ,EAAM,CAChB8Z,OAAQA,EACRnI,UAAWA,EACXqI,MAAO,GACPc,YAAaA,EACbyB,SAAU/X,EAAyByG,KAAM,WAAW,GAAM,WACtD,OAAQtI,EAAImX,GAAQ,SAAUvO,GAC1B,OAAQA,EAAE6I,MAAMoI,WAAajR,EAAEW,OAAS8M,GAAiBzN,YAIrEjJ,EAAOtC,EA3BX,SAA0Bgd,GAMtB,MALuB,kBAAZA,IACPA,EAAU,CACN3C,iBAAkB2C,IAGnB1a,EAAO,CACV2a,aAAa,EACbjT,cAAc,EACdqQ,kBAAkB,GACnB2C,GAiBUE,CAAiBF,IAC9Bhd,EAAK6K,IAAM,SAAUiB,GACjBF,EAAMf,IAAMiB,EACRA,GACAwM,GAAU1K,IAAI9B,EAAS9L,IAG/BA,EAAK2b,SAAU,EACf3b,EAAKqN,KAAOuN,GAAiB5a,EAAM2R,EAAU3Q,OAAS4K,EAAMkP,aAuHzD,SAASqC,GAAezL,EAAYoJ,EAAakC,GACpD,GAA0B,iBAAftL,EACP,OAAOyL,GAAe,GAAIzL,EAAYoJ,GAE1C,IAAMnJ,EAAY9B,GAAa6B,GACzBoG,GAAOrN,EAAAA,EAAAA,WAAS,WAClB,OAAO,IAAIsR,GAAYjB,EAAakC,EAASrL,MAC9C,GACGvG,EAAcb,KAepB,OAdAY,GAAsB2M,EAAM,YAC5BzM,EAAAA,EAAAA,YAAU,WACN,OAAO/H,EACHwU,EAAK1L,GAAG,aAAchB,GACtB0M,EAAK1L,GAAG,QAAShB,IACjB,YACK8E,GAAE4H,GAAMwC,QAAU3Y,KACfmW,EAAKmF,cACLnF,EAAKsF,UACLtF,EAAKmF,aAAc,QAIhC,CAACnF,IACGA,EAGJ,SAASuF,GAAarF,EAAM5D,EAAOM,EAAcxT,GAChC,iBAAT8W,IACPA,EAAOQ,GAAWR,IAEjB/V,EAAW+V,KACZ9W,EAAOwT,EACPA,EAAeN,EACfA,EAAQ4D,EACRA,EAAO,IAEX,IAAMmB,EAASnB,EAAO/U,EAAOoV,GAASL,EAAMA,GAAQ,GACpD9W,EAAOA,GAAQiY,EAAOhB,eAAiB,QAEvC,IAAM0D,GAAO7L,EAAAA,EAAAA,YAAW2I,IAClBb,EAAO+D,GAAQ3L,GAAE2L,GAAMhB,QACvBjP,EAAQkM,GAAQ5H,GAAE4H,GAClB6B,EAAOvF,EAAMuF,MAAQ,GACrBhZ,EAAMmX,GAAQ6B,GAASN,GAAOwC,GAAQ,IAAMlC,EAC5C8B,EAAava,KAAQkT,EAErB6E,GAAQxO,EAAAA,EAAAA,WAAS,WAEnB,OAAO8Q,GADYE,EAAarH,EAAMlT,IAASiY,EAAOpC,gBAAkBnV,QAAuBrB,IAAjBmU,EAA6BA,EAAeyE,EAAOzE,kBAElI,GACHwH,GAAqBpE,EAAMlM,EAAOqN,EAAOE,EAAQ/E,EAAOqH,EAAYI,EAAMlb,GACtE8a,IACAxC,EAAMxX,MAAQ2S,EAAMlT,IAEpB4W,GAAQnX,IACFgZ,KAAQkC,EAEFJ,IACRxC,EAAMxX,MAAQoa,EAAKlC,IAFnBV,EAAMxX,MAAQyO,GAAE2L,GAAMjO,IAAI+L,EAAMV,EAAMuC,eAK9C,IAAM8B,GAAUnE,EAAOxE,UAAY/S,GAAM,CACrCkW,KAAMA,EACNnX,IAAKA,EACL4Y,KAAMN,EAAMM,KACZ9X,MAAOwX,EAAMxX,MACbyK,MAAOyE,OAAOsI,EAAM/M,OACpBoD,SAAU2J,EAAM3J,SAChBoM,SAAUzC,EAAMyC,SAChBvP,WAAY8M,EAAM9M,YACnBiI,GAGH,OAFAkJ,EAAO7b,MAAQ0J,GAAsB8N,EAAO,SAC5CqE,EAAOpR,MAAQyE,OAAOxF,GAAsB8N,EAAO,UAC5CqE,EAGJ,SAASC,KACZ,IAAIC,EAAa/a,EAAKL,EAAU8I,WAAYjJ,GAC5C,OAAO,SAAUR,EAAOkY,GACpB,OAAO6D,EAAWC,QAAO,SAAUrC,EAAMyB,GACrC,OAAOzB,EAAKvO,MAAK,SAAUG,GACvB,OAAOA,GAAU6P,EAAKpb,EAAOkY,QAElCtU,MAIJ,SAASqY,GAAkB1F,EAAMgF,GAChC/a,EAAW+a,KACXA,EAAU,CACNrI,SAAUqI,IAGlBxE,GAAWR,GAAQ,WACf,OAAOgF,GAvffxC,GAAiB/Z,EAAI,KAqSrBX,EAAOic,GAAa,CAChB4B,YAAa,EACbC,YAAa,EACb5c,IAAK,SAAU8K,GACX,OAAOlJ,EAAOgE,EAAekF,GAAUwM,GAAUtX,IAAIoG,KAAKkR,MAAe,QAIjF/T,EAAgBwX,GAAa,CACzBjQ,QAAS,SAAUnL,GACf,OAAOA,GAAOkZ,GAAS5O,KAAMtK,IAAQ,IAAImL,QAAUoE,GAAEjF,MAAMJ,KAE/DhC,MAAO,SAAUlI,GACb,IAAImL,EAQJ,SANIA,EADe,iBAARnL,EACG6B,EAAI0N,GAAEjF,MAAM6O,QAAQ,SAAUvO,GACpC,OAAQA,EAAEW,OAAgB,EAANvL,GAAcyX,GAAQ7M,EAAE9J,QAAiB,EAANd,EAAY4K,EAAEO,QAAU,QAChFoG,KAAK3L,GAAiB,GAEf0E,KAAKa,QAAQnL,KAEPkI,GAAMiD,IAE9BM,GAAI,SAAUC,EAAOC,GACjB,OAAO+D,GAAQ9D,IAAItB,KAAMoB,EAAOC,IAEpC8Q,QAAS,WACL,IAAIpd,EAAOiL,KACXiF,GAAElQ,GAAM2R,UAAU/D,IAAI5N,EAAK+R,UAC3B/R,EAAKid,aAAc,GAEvBY,QAAS,WACL,IACIxQ,EAAO6C,GADAjF,MACQ0G,UAAU3Q,MAI7B,OAHIqM,GAFOpC,KAGFuH,MAAMnF,KAENA,GAEbyQ,MAAO,WACH7S,KAAKuH,MAAM,KAEfA,MAAO,SAAUnF,GACb,IAAIrN,EAAOiL,KACPW,EAAQsE,GAAElQ,GACV6b,EAAO3L,GAAElQ,EAAKqN,MAClB,IAAK,IAAIgC,KAAKrP,EAAKqN,KACfwO,EAAI,OAAQxM,GAEhB9M,EAAK8K,GAAQzB,EAAMkP,aAAa,SAAUzL,EAAG9D,GACzCsQ,EAAKjO,IAAIyB,EAAG9D,MAEhBhJ,EAAKqJ,EAAMkO,QAAQ,SAAUzK,EAAG9D,GAC5B,IAAIrK,EAAOoY,GAAgBtZ,EAAMuL,EAAEgO,MAC/BhO,EAAEkQ,WACFlQ,EAAEoP,SAASzZ,EAAK0Y,OAAS1Y,EAAKO,MAAQ8J,EAAEiQ,cACjCta,EAAK0Y,SACZrO,EAAE9J,MAAQP,EAAKO,OAEnB8J,EAAEW,MAAQ,QAEdN,EAAM2Q,YACL3Q,EAAM0O,QAAU3Y,KACjB0O,GAAQjD,KAAK,QAASpN,IAE1B+d,SAAU,SAAUpd,GAChB,OAAOyY,GAAWE,GAAgBrO,KAAMtK,GAAKc,QAEjD6N,SAAU,SAAU3O,EAAKc,GACrB,IAAIP,EAAOoY,GAAgBrO,KAAMtK,GAC7BO,EAAKuY,SACLvY,EAAKuY,OAAOvY,EAAKyY,MAAQP,GAAW3X,KAG5Cuc,UAAW,WACP,IAAIC,EAAcxb,EAAKyN,GAAEjF,MAAM6O,QAAQ,SAAUvO,GAC7C,OAAOA,EAAEW,SAEb,OAAO+R,EAAY,GAAKpd,OAAOqd,YAAYD,EAAYzb,KAAI,SAAU+I,GACjE,MAAO,CAACA,EAAEgO,KAAM5I,OAAOpF,EAAEW,YACvB,MAEViS,SAAU,SAAUxd,GAChB,OAAOgQ,QAAQkJ,GAAS5O,KAAMtK,IAAQ,IAAIuL,OAAS,KAEvDwP,SAAU,SAAU/a,EAAKuL,IACpB2N,GAAS5O,KAAMtK,IAAQ,IAAIuL,MAAQA,GAExCwQ,SAAU,WACN,IAAI1c,EAAOiL,KACP6O,EAAS5J,GAAElQ,GAAM8Z,OACjBsE,EAAShc,EAAU8I,WACvB,OAAKkT,EAAO,GAKLhE,GAAepa,EAAMyC,EAAKqX,GAAQ,SAAUvO,GAC/C,OAAO5I,EAAIyb,GAAQ,SAAUtH,GACzB,IAAI4C,EAAM5C,EAAE9I,OACZ,OAAOzC,EAAEgO,KAAKnH,MAAM,EAAGsH,KAAS5C,KAAOvL,EAAEgO,KAAKG,IAAwB,MAAhBnO,EAAEgO,KAAKG,WAP1DU,GAAepa,EAAMyC,EAAKqX,GAAQ,SAAUvO,GAC/C,OAAQA,EAAE6I,MAAMoI,cAU5BzK,OAAQ,WACJ,OAAOzP,GAAO,EAAM,GAAI2I,KAAKoC,SAIrC7I,EAAyBuX,GAAY5a,UAAW,gBAAgB,GAAO,SAAUM,GAI7E,OAHKA,IACAyO,GAAEjF,MAAMqP,QAAU3Y,OAEdF,KAqGN,IAAM4c,IAAOC,EAAAA,EAAAA,aAAW,SAAUlK,EAAOvJ,GAC5C,IAAMiN,EAAO1D,EAAMyG,QAanB,OADAvY,EAAOwV,EAAMhV,EAAKsR,EAAO,CAAC,eAAgB,eAAgB,kBACnDH,EAAAA,EAAAA,eAAc2E,GAAoB,CAAEnX,MAAOqW,EAAKzK,OACnD4G,EAAAA,EAAAA,eAAc,OAAQ3R,EAAOU,EAAQoR,EAAO,CAAC,UAAW,eAAgB,eAAgB,gBAAiB,CAAEvJ,IAAK+I,GAAW/I,EAAKiN,EAAKjN,KAAM0T,SAb9H,SAAU9R,GAClB2H,EAAMoK,QACP/R,EAAEgS,kBAELrK,EAAMmK,UAAY5c,GAAMN,KAAK4J,KAAMwB,IASiHiS,QAPzI,SAAUjS,GACtBA,EAAEgS,iBACF3G,EAAKtF,SACJ4B,EAAMsK,SAAW/c,GAAMN,KAAK4J,KAAMwB,WAOpC,SAASkS,GAAoBvK,GAChC,OAAOH,EAAAA,EAAAA,eAAc2E,GAAoB,CAAEnX,MAAO2S,EAAM3S,MAAM4L,MAAQ+G,EAAMX,UAGzE,SAASmL,GAAUxK,GACtB,OAAOyK,GAAWvc,EAAO,GAAI8R,EAAO,CAAEM,aAAc,MAGjD,SAASmK,GAAWzK,GACvB,IAAIyH,GAAO7L,EAAAA,EAAAA,YAAW2I,IACjBzI,GAAE2L,IACH7X,EAAO,wBAEX,IAAI8a,GAAWhU,EAAAA,EAAAA,UACXgN,EAAO5H,GAAE2L,GAAMhB,QACfjP,EAAQsE,GAAE4H,GACV6B,EAAOvF,EAAMuF,KACblY,EAAQ2S,EAAM3S,MACdkY,GACAlY,EAAQS,EAAc2Z,EAAKlC,KAAU3X,EAAQ6Z,EAAKlC,KAAUvF,EAAMM,cAAgB,GAClFjT,EAAQyO,GAAE2L,GAAMjO,IAAI+L,EAAMlY,KACjByO,GAAEzO,IAAU,IAAIoZ,SACzB7W,EAAO,wCAIX,IAAIrD,EAAMiL,EAAMoO,MAAMX,GAAO5X,IAC7B,GAAoD,kBAAxCmK,EAAMkO,OAAOnZ,IAAQ,IAAI8a,WAA0B,CAC3D,IAAIxC,EAAQ6F,EAAS/T,UAAY+T,EAAS/T,QAAUwQ,GAAiB9Z,IACrEya,GAAqBpE,EAAMlM,EAAOqN,EAAO,GAAI7E,EAAO,EAAGyH,EAAMlb,GAC7DsY,EAAMxX,MAAQA,OAEd4J,EAAAA,EAAAA,WAAU1J,EAAM,CAAC,QACjB0J,EAAAA,EAAAA,WAAU1J,EAAM,CAAC,OAErB,IAAI8R,EAAWW,EAAMX,SAIrB,OAHIxR,EAAWwR,KACXA,EAAWA,EAAShS,KAEjBwS,EAAAA,EAAAA,eAAc2E,GAAoB,CAAEnX,MAAAA,GAASgS,GAGxD3T,EAAO+e,GAAY,CAAExF,OAAAA,KC3rBoC,MCCzD,KDDmD3X,ECInDA,MAAaqd,G","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./tmp/zeta-dom/domUtil.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./tmp/zeta-dom/domLock.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/css.js","webpack://zeta-dom-react/./src/viewState.js","webpack://zeta-dom-react/./src/dataView.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/fields/ChoiceField.js","webpack://zeta-dom-react/./src/fields/DateField.js","webpack://zeta-dom-react/./src/fields/MultiChoiceField.js","webpack://zeta-dom-react/./src/fields/NumericField.js","webpack://zeta-dom-react/./src/fields/TextField.js","webpack://zeta-dom-react/./src/fields/ToggleField.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./tmp/zeta-dom/index.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throws, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, retryable, deferrable, catchAsync, setPromiseTimeout, delay, makeAsync } = zeta.util; export { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throws, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, retryable, deferrable, catchAsync, setPromiseTimeout, delay, makeAsync };","import zeta from \"zeta-dom\";const { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint } = zeta.util; export { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint };","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, insertText, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, insertText, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import zeta from \"zeta-dom\";const { lock, locked, cancelLock, subscribeAsync, notifyAsync, preventLeave } = zeta.dom; export { lock, locked, cancelLock, subscribeAsync, notifyAsync, preventLeave };","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\nimport { notifyAsync } from \"./include/zeta-dom/domLock.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { always, any, combineFn, deferrable, delay, extend, is, isArray, isErrorWithCode, isFunction, makeArray, makeAsync, map, noop, pipe, resolve, setAdd, setImmediate, setImmediateOnce, watch } from \"./include/zeta-dom/util.js\";\r\n\r\nconst container = new ZetaEventContainer();\r\nconst singletons = new WeakSet();\r\nconst AbortController = window.AbortController;\r\n\r\nexport function useUpdateTrigger() {\r\n    const setState = useState()[1];\r\n    return useCallback(function () {\r\n        setState({});\r\n    }, []);\r\n}\r\n\r\nexport function useMemoizedFunction(callback) {\r\n    const ref = useRef();\r\n    ref.current = isFunction(callback) || noop;\r\n    return useCallback(function () {\r\n        return ref.current.apply(this, arguments);\r\n    }, []);\r\n}\r\n\r\nexport function useObservableProperty(obj, key) {\r\n    const forceUpdate = useUpdateTrigger();\r\n    const value = obj[key];\r\n    const ref = useRef();\r\n    ref.current = value;\r\n    useEffect(function () {\r\n        var cb = function (v) {\r\n            if (v !== ref.current) {\r\n                forceUpdate();\r\n            }\r\n        };\r\n        cb(obj[key]);\r\n        return watch(obj, key, cb);\r\n    }, [obj, key]);\r\n    return value;\r\n}\r\n\r\nexport function useAsync(init, deps, debounce) {\r\n    const state = useSingleton(function () {\r\n        var element;\r\n        var currentController;\r\n        var nextResult;\r\n        return {\r\n            loading: false,\r\n            value: undefined,\r\n            error: undefined,\r\n            elementRef: function (current) {\r\n                element = current;\r\n            },\r\n            on: function (event, handler) {\r\n                return container.add(state, event, handler);\r\n            },\r\n            onError: function (handler) {\r\n                return state.on('error', function (e) {\r\n                    return handler.call(state, e.error);\r\n                });\r\n            },\r\n            refresh: function (force) {\r\n                if (debounce && !force) {\r\n                    nextResult = nextResult || deferrable();\r\n                    nextResult.waitFor(delay(debounce));\r\n                    return nextResult.d || (nextResult.d = nextResult.then(function () {\r\n                        nextResult = null;\r\n                        return state.refresh(true);\r\n                    }));\r\n                }\r\n                var controller = AbortController ? new AbortController() : { abort: noop };\r\n                if (currentController) {\r\n                    currentController.abort();\r\n                }\r\n                extend(state, { loading: true, error: undefined });\r\n                var result = makeAsync(init)(controller.signal);\r\n                var promise = always(result, function (resolved, value) {\r\n                    if (currentController === controller) {\r\n                        if (resolved) {\r\n                            extend(state, { loading: false, value: value });\r\n                            container.emit('load', state, { data: value });\r\n                        } else {\r\n                            extend(state, { loading: false, value: undefined, error: value });\r\n                            if (!container.emit('error', state, { error: value })) {\r\n                                throw value;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                currentController = controller;\r\n                notifyAsync(element || dom.root, promise);\r\n                return result;\r\n            },\r\n            abort: function (reason) {\r\n                if (currentController) {\r\n                    currentController.abort(reason);\r\n                    currentController = null;\r\n                }\r\n                state.loading = false;\r\n            }\r\n        };\r\n    }, function () {\r\n        state.abort();\r\n    });\r\n    deps = [deps !== false].concat(isArray(deps) || []);\r\n    init = useMemoizedFunction(init);\r\n    useEffect(function () {\r\n        if (deps[0]) {\r\n            // keep call to refresh in useEffect to avoid double invocation\r\n            // in strict mode in development environment\r\n            setImmediateOnce(state.refresh);\r\n        }\r\n    }, deps);\r\n    useMemo(function () {\r\n        if (deps[0] && !debounce) {\r\n            state.loading = true;\r\n        }\r\n    }, deps);\r\n    useObservableProperty(state, 'loading');\r\n    return [state.value, state];\r\n}\r\n\r\nexport function useRefInitCallback(init) {\r\n    const args = makeArray(arguments);\r\n    const set = useState(new WeakSet())[0];\r\n    return function (v) {\r\n        if (v && setAdd(set, v)) {\r\n            args[0] = v;\r\n            init.apply(null, args);\r\n        }\r\n    };\r\n}\r\n\r\nexport function useDispose() {\r\n    const dispose = useState(function () {\r\n        const callbacks = [\r\n            function () {\r\n                callbacks.splice(0, callbacks.length - 1);\r\n            }\r\n        ];\r\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\r\n    })[0];\r\n    useEffect(function () {\r\n        return dispose;\r\n    }, [dispose]);\r\n    return dispose;\r\n}\r\n\r\nexport function isSingletonDisposed(target) {\r\n    return !singletons.has(target);\r\n}\r\n\r\nexport function useSingleton(factory, onDispose) {\r\n    const target = useState(factory())[0];\r\n    setAdd(singletons, target);\r\n    useEffect(function () {\r\n        setAdd(singletons, target);\r\n        return function () {\r\n            singletons.delete(target);\r\n            setImmediate(function () {\r\n                if (isSingletonDisposed(target)) {\r\n                    (onDispose || target.dispose || noop).call(target);\r\n                }\r\n            });\r\n        };\r\n    }, [target]);\r\n    return target;\r\n}\r\n\r\nexport function useErrorHandlerRef() {\r\n    return useErrorHandler.apply(this, arguments).ref;\r\n}\r\n\r\nexport function useErrorHandler() {\r\n    const reemitting = useRef(false);\r\n    const ref = useRef(null);\r\n    const args = makeArray(arguments);\r\n    const handler = useState(function () {\r\n        return {\r\n            ref: function (element) {\r\n                ref.current = element;\r\n                init(element);\r\n            },\r\n            emit: function (error) {\r\n                return catchError(error) || reemitError(error) || resolve();\r\n            },\r\n            catch: function (filter, callback) {\r\n                var isErrorOf;\r\n                if (!callback) {\r\n                    callback = filter;\r\n                } else if (!isArray(filter)) {\r\n                    isErrorOf = isFunction(filter) ? is : isErrorWithCode;\r\n                } else {\r\n                    isErrorOf = function (error, filter) {\r\n                        return any(filter, function (filter) {\r\n                            return (isFunction(filter) ? is : isErrorWithCode)(error, filter);\r\n                        });\r\n                    };\r\n                }\r\n                return container.add(handler, isErrorOf ? 'error' : 'default', function (e) {\r\n                    if ((isErrorOf || pipe)(e.error, filter)) {\r\n                        return callback(e.error);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    })[0];\r\n    const reemitError = useCallback(function (error) {\r\n        try {\r\n            reemitting.current = true;\r\n            return dom.emit('error', ref.current || dom.root, { error }, true);\r\n        } finally {\r\n            reemitting.current = false;\r\n        }\r\n    }, []);\r\n    const catchError = useCallback(function (error) {\r\n        return container.emit('error', handler, { error }) || container.emit('default', handler, { error });\r\n    }, []);\r\n    const init = useRefInitCallback(function (element) {\r\n        dom.on(element, 'error', function (e) {\r\n            if (!reemitting.current) {\r\n                return catchError(e.error);\r\n            }\r\n        });\r\n    });\r\n    useEffect(function () {\r\n        return combineFn(map(args, function (v) {\r\n            return v.onError(handler.emit);\r\n        }));\r\n    }, args);\r\n    return handler;\r\n}\r\n","import { useEffect, useMemo, useState } from \"react\";\r\nimport { defineObservableProperty, each, watch } from \"./include/zeta-dom/util.js\";\r\nimport { bind } from \"./include/zeta-dom/domUtil.js\";\r\nimport { useDispose, useUpdateTrigger } from \"./hooks.js\";\r\n\r\nexport function useMediaQuery(query) {\r\n    var mq = useMemo(function () {\r\n        return matchMedia(query);\r\n    }, [query]);\r\n    var state = useState(mq.matches);\r\n    useEffect(function () {\r\n        return bind(mq, 'change', function () {\r\n            state[1](mq.matches);\r\n        });\r\n    }, [mq]);\r\n    return state[0];\r\n}\r\n\r\n/**\r\n * @param {Zeta.Dictionary<string>} breakpoints\r\n */\r\nexport function createBreakpointContext(breakpoints) {\r\n    var values = {};\r\n    watch(values, true);\r\n    each(breakpoints, function (i, v) {\r\n        var mq = matchMedia(v);\r\n        var setValue = defineObservableProperty(values, i, mq.matches, true);\r\n        bind(mq, 'change', function () {\r\n            setValue(mq.matches);\r\n        });\r\n    });\r\n    return {\r\n        breakpoints: Object.freeze(values),\r\n        useBreakpoint: function () {\r\n            var forceUpdate = useUpdateTrigger();\r\n            useEffect(function () {\r\n                return watch(values, forceUpdate);\r\n            }, []);\r\n            return values;\r\n        }\r\n    };\r\n}\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { noop, randomId } from \"./include/zeta-dom/util.js\";\r\n\r\n/** @type {React.Context<import(\"./viewState\").ViewStateProvider | null>} */\r\n// @ts-ignore: type inference issue\r\nconst ViewStateProviderContext = createContext(null);\r\nconst noopStorage = Object.freeze({\r\n    get: noop,\r\n    set: noop\r\n});\r\n\r\nexport const ViewStateProvider = ViewStateProviderContext.Provider;\r\n\r\nexport function useViewState(key) {\r\n    var uniqueId = useState(randomId)[0];\r\n    var provider = useContext(ViewStateProviderContext);\r\n    var state = (provider && key && provider.getState(uniqueId, key)) || noopStorage;\r\n    useEffect(function () {\r\n        return state.dispose && state.dispose.bind(state);\r\n    }, [state]);\r\n    return state;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, each, extend, isArray, isFunction, isUndefinedOrNull, keys, makeArray, noop, pick, pipe, single, watch } from \"./include/zeta-dom/util.js\";\r\nimport { useUpdateTrigger } from \"./hooks.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst proto = DataView.prototype;\r\nconst emitter = new ZetaEventContainer();\r\n\r\nfunction compare(a, b) {\r\n    var x = isUndefinedOrNull(a) && -1;\r\n    var y = isUndefinedOrNull(b) && 1;\r\n    if (x || y) {\r\n        return x + y;\r\n    }\r\n    if (typeof a === 'string' || typeof b === 'string') {\r\n        return String(a).localeCompare(b, undefined, { caseFirst: 'upper' });\r\n    }\r\n    return a - b;\r\n}\r\n\r\nexport function DataView(filters, sortBy, sortOrder, pageSize) {\r\n    var self = this;\r\n    var defaults = {\r\n        filters: extend({}, filters),\r\n        sortBy: sortBy,\r\n        sortOrder: sortOrder || (sortBy && 'asc'),\r\n        pageIndex: 0,\r\n        pageSize: pageSize === undefined ? DataView.pageSize : pageSize\r\n    }\r\n    filters = extend({}, filters);\r\n    for (let i in filters) {\r\n        defineObservableProperty(filters, i);\r\n    }\r\n    var state = _(self, {\r\n        filters: Object.freeze(filters),\r\n        defaults: defaults,\r\n        items: [],\r\n    });\r\n    var onUpdated = function () {\r\n        state.sorted = state.items.length ? undefined : [];\r\n        if (this !== self) {\r\n            state.filtered = state.sorted;\r\n        }\r\n        emitter.emitAsync('viewChange', self);\r\n    };\r\n    extend(this, defaults);\r\n    watch(self, onUpdated);\r\n    watch(self.filters, onUpdated);\r\n}\r\n\r\ndefine(DataView, {\r\n    pageSize: 0\r\n});\r\n\r\ndefinePrototype(DataView, {\r\n    itemCount: 0,\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    getView: function (items, callback) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var pageIndex = self.pageIndex || 0;\r\n        var pageSize = self.pageSize || 0;\r\n        if (items !== state.items) {\r\n            state.items = items || [];\r\n            state.filtered = state.items.length ? undefined : [];\r\n            state.sorted = state.filtered;\r\n        }\r\n        callback = callback || function (items) {\r\n            return self.sort(items);\r\n        };\r\n        var filteredItems = state.sorted || (state.sorted = callback.call(self, state.filtered || state.items, self.filters, self.sortBy, self.sortOrder) || []);\r\n        state.filtered = filteredItems;\r\n        if (items) {\r\n            self.itemCount = filteredItems.length;\r\n        }\r\n        return [filteredItems.slice(pageIndex * pageSize, pageSize ? (pageIndex + 1) * pageSize : undefined), filteredItems.length];\r\n    },\r\n    sort: function (items, callback) {\r\n        var self = this;\r\n        items = makeArray(items);\r\n        if (!isFunction(callback)) {\r\n            var prop = callback || self.sortBy;\r\n            if (!prop) {\r\n                return items;\r\n            }\r\n            callback = function (item) {\r\n                return item[prop];\r\n            };\r\n        }\r\n        var dir = self.sortOrder === 'desc' ? -1 : 1;\r\n        var values = new Map();\r\n        each(items, function (i, v) {\r\n            values.set(v, callback(v));\r\n        });\r\n        return items.sort(function (a, b) {\r\n            var x = values.get(a);\r\n            var y = values.get(b);\r\n            return dir * (isArray(x) ? single(x, function (v, i) {\r\n                return compare(v, y[i]);\r\n            }) : compare(x, y));\r\n        });\r\n    },\r\n    toJSON: function () {\r\n        var self = this;\r\n        return extend(pick(self, keys(_(self).defaults)), {\r\n            filters: extend({}, self.filters),\r\n            itemCount: self.itemCount\r\n        });\r\n    },\r\n    reset: function () {\r\n        extend(this, _(this).defaults);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(proto, 'sortBy');\r\ndefineObservableProperty(proto, 'sortOrder');\r\ndefineObservableProperty(proto, 'pageIndex');\r\ndefineObservableProperty(proto, 'pageSize');\r\ndefineObservableProperty(proto, 'filters', {}, function (newValue) {\r\n    return extend(_(this).filters, newValue);\r\n});\r\n\r\nexport function useDataView(persistKey, filters, sortBy, sortOrder, pageSize) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useDataView('__dataView', persistKey, filters, sortBy, sortOrder);\r\n    }\r\n    var viewState = useViewState(persistKey);\r\n    var forceUpdate = useUpdateTrigger();\r\n    var dataView = useState(function () {\r\n        return extend(new DataView(filters, sortBy, sortOrder, pageSize), viewState.get());\r\n    })[0];\r\n    useEffect(function () {\r\n        var state = _(dataView);\r\n        return combineFn(\r\n            dataView.on('viewChange', forceUpdate),\r\n            viewState.onPopState ? viewState.onPopState(function (newValue) {\r\n                viewState.set(dataView.toJSON());\r\n                extend(dataView, newValue || state.defaults);\r\n            }) : noop,\r\n            function () {\r\n                viewState.set(dataView.toJSON());\r\n            }\r\n        );\r\n    }, [dataView]);\r\n    return dataView;\r\n}\r\n","import { createElement, Fragment, lazy, Suspense } from \"react\";\r\nimport { combineFn, each, extend, isFunction, isPlainObject, kv, makeArray, mapGet, noop, setImmediate, throwNotFunction } from \"./include/zeta-dom/util.js\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\n\r\nconst boundEvents = new WeakMap();\r\n\r\nexport function domEventRef(event, handler) {\r\n    var arr;\r\n    handler = isPlainObject(event) || kv(event, handler);\r\n    return function (element) {\r\n        if (element) {\r\n            if (arr) {\r\n                throw new Error('Callback can only be passed to single React element');\r\n            }\r\n            arr = mapGet(boundEvents, element, Array);\r\n            if (arr.index === undefined) {\r\n                arr.index = 0;\r\n            }\r\n            handler = each(handler, function (i, v) {\r\n                var index = arr.index++;\r\n                if (!arr[index]) {\r\n                    dom.on(element, i, function () {\r\n                        return arr[index].apply(this, arguments);\r\n                    });\r\n                }\r\n                arr[index] = throwNotFunction(v);\r\n            });\r\n        } else {\r\n            arr.index = 0;\r\n        }\r\n    };\r\n}\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function innerTextOrHTML(text) {\r\n    return isPlainObject(text) ? { dangerouslySetInnerHTML: text } : { children: text };\r\n}\r\n\r\nexport function partial(setState, key) {\r\n    var fn = function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n    return key ? fn.bind(0, key) : fn;\r\n}\r\n\r\nexport function combineRef() {\r\n    return combineFn(makeArray(arguments).map(toRefCallback));\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n\r\nexport function withSuspense(factory, fallback) {\r\n    fallback = fallback || Fragment;\r\n    if (isFunction(fallback)) {\r\n        fallback = createElement(fallback);\r\n    }\r\n    const Component = lazy(factory);\r\n    return function (props) {\r\n        return createElement(Suspense, { fallback }, createElement(Component, props));\r\n    };\r\n}\r\n","import { useEffect, useMemo } from \"react\";\r\nimport { define, definePrototype, extend } from \"../include/zeta-dom/util.js\";\r\n\r\nexport default function ChoiceField() { }\r\n\r\nfunction normalizeChoiceItems(items) {\r\n    return useMemo(function () {\r\n        return (items || []).map(function (v) {\r\n            return typeof v === 'object' ? v : { label: String(v), value: v };\r\n        });\r\n    }, [items]);\r\n}\r\n\r\ndefine(ChoiceField, {\r\n    normalizeItems: normalizeChoiceItems\r\n});\r\n\r\ndefinePrototype(ChoiceField, {\r\n    defaultValue: '',\r\n    postHook: function (state, props) {\r\n        var items = normalizeChoiceItems(props.items);\r\n        var selectedIndex = items.findIndex(function (v) {\r\n            return v.value === state.value;\r\n        });\r\n        useEffect(() => {\r\n            if (selectedIndex < 0) {\r\n                selectedIndex = props.allowUnselect || !items[0] ? -1 : 0;\r\n                state.setValue(selectedIndex < 0 ? '' : items[0].value);\r\n            }\r\n        });\r\n        return extend(state, {\r\n            items: items,\r\n            selectedIndex: selectedIndex,\r\n            selectedItem: items[selectedIndex]\r\n        });\r\n    }\r\n});\r\n","import { useMemo, useEffect } from \"react\";\r\nimport { define, definePrototype, extend, is, isFunction } from \"../include/zeta-dom/util.js\";\r\nimport { useMemoizedFunction } from \"../hooks.js\";\r\n\r\nconst re = /^-?\\d{4,}-\\d{2}-\\d{2}$/;\r\nconst tz = new Date().getTimezoneOffset() * 60000;\r\n\r\n// method mapping for relative date units\r\nconst units = {\r\n    y: ['getFullYear', 'setFullYear'],\r\n    m: ['getMonth', 'setMonth'],\r\n    d: ['getDate', 'setDate']\r\n};\r\nunits.w = units.d;\r\n\r\nfunction parseRelativeDate(str) {\r\n    var date = toDateObject(Date.now());\r\n    var dir = str[0] === '-' ? -1 : 1;\r\n    str.toLowerCase().replace(/([+-]?)(\\d+)([dwmy])/g, function (v, a, b, c) {\r\n        date[units[c][1]](date[units[c][0]]() + (b * (a === '-' ? -1 : a === '+' ? 1 : dir) * (c === 'w' ? 7 : 1)));\r\n    });\r\n    return date;\r\n}\r\n\r\nfunction normalizeDate(date) {\r\n    if (typeof date === 'string') {\r\n        if (re.test(date)) {\r\n            return Date.parse(date + ' 00:00');\r\n        }\r\n        date = date[0] === '+' || date[0] === '-' ? parseRelativeDate(date) : Date.parse(date);\r\n    }\r\n    return date - (date - tz) % 86400000;\r\n}\r\n\r\nfunction clampValue(date, min, max) {\r\n    var ts = is(date, Date) || normalizeDate(date);\r\n    return ts < min ? min : ts > max ? max : date;\r\n}\r\n\r\nfunction toDateObject(str) {\r\n    var ts = normalizeDate(str);\r\n    return isNaN(ts) ? null : new Date(ts);\r\n}\r\n\r\nfunction toDateString(date) {\r\n    if (!isNaN(date)) {\r\n        // counter UTC conversion due to toISOString\r\n        var str = new Date(date - tz).toISOString();\r\n        return str.slice(0, str.indexOf('T', 10));\r\n    }\r\n    return '';\r\n}\r\n\r\nexport default function DateField() { }\r\n\r\ndefine(DateField, {\r\n    toDateString: toDateString,\r\n    toDateObject: toDateObject\r\n});\r\n\r\ndefinePrototype(DateField, {\r\n    defaultValue: '',\r\n    normalizeValue: function (value) {\r\n        return toDateString(normalizeDate(value));\r\n    },\r\n    postHook: function (state, props) {\r\n        var setValue = state.setValue;\r\n        var value = state.value;\r\n        var min = normalizeDate(props.min);\r\n        var max = normalizeDate(props.max);\r\n        var displayText = useMemo(function () {\r\n            return value && props.formatDisplay ? props.formatDisplay(toDateObject(value)) : value;\r\n        }, [value]);\r\n        useEffect(function () {\r\n            var clamped = value && clampValue(value, min, max);\r\n            if (clamped !== value) {\r\n                setValue(clamped);\r\n            }\r\n        }, [value, min, max]);\r\n        return extend(state, {\r\n            min: toDateString(min),\r\n            max: toDateString(max),\r\n            displayText: displayText,\r\n            setValue: useMemoizedFunction(function (v) {\r\n                v = isFunction(v) ? v(state.value) : v;\r\n                if (!v) {\r\n                    setValue('');\r\n                } else if (/\\d{4}/.test(v) && /[^\\s\\d]/.test(v)) {\r\n                    v = toDateObject(v);\r\n                    if (!isNaN(v)) {\r\n                        setValue(clampValue(v, min, max));\r\n                    }\r\n                }\r\n            })\r\n        });\r\n    }\r\n});\r\n","import { useEffect } from \"react\";\r\nimport { useMemoizedFunction } from \"../hooks.js\";\r\nimport { definePrototype, either, extend, freeze, isArray, isUndefinedOrNull, makeArray, splice } from \"../include/zeta-dom/util.js\";\r\nimport ChoiceField from \"./ChoiceField.js\";\r\n\r\nexport default function MultiChoiceField() { }\r\n\r\ndefinePrototype(MultiChoiceField, {\r\n    /** @type {any} */\r\n    defaultValue: freeze([]),\r\n    normalizeValue: function (newValue) {\r\n        return isArray(newValue) || makeArray(newValue);\r\n    },\r\n    postHook: function (state, props) {\r\n        var allowCustomValues = props.allowCustomValues || !props.items;\r\n        var items = ChoiceField.normalizeItems(props.items);\r\n        var isUnknown = function (value) {\r\n            return !items.some(function (v) {\r\n                return v.value === value;\r\n            });\r\n        };\r\n        var toggleValue = useMemoizedFunction(function (value, selected) {\r\n            if (allowCustomValues || !isUnknown(value)) {\r\n                state.setValue(function (arr) {\r\n                    var index = arr.indexOf(value);\r\n                    if (isUndefinedOrNull(selected) || either(index >= 0, selected)) {\r\n                        arr = makeArray(arr);\r\n                        if (index < 0) {\r\n                            arr.push(value);\r\n                        } else {\r\n                            arr.splice(index, 1);\r\n                        }\r\n                    }\r\n                    return arr;\r\n                });\r\n            }\r\n        });\r\n        useEffect(() => {\r\n            if (!allowCustomValues) {\r\n                var cur = makeArray(state.value);\r\n                var arr = splice(cur, isUnknown);\r\n                if (arr.length) {\r\n                    state.setValue(cur);\r\n                }\r\n            }\r\n        });\r\n        return extend(state, {\r\n            items: items,\r\n            toggleValue: toggleValue\r\n        });\r\n    }\r\n});\r\n","import { useEffect } from \"react\";\r\nimport { definePrototype } from \"../include/zeta-dom/util.js\";\r\n\r\nexport default function NumericField() { }\r\n\r\ndefinePrototype(NumericField, {\r\n    normalizeValue: function (newValue) {\r\n        newValue = +newValue;\r\n        return isNaN(newValue) ? undefined : newValue;\r\n    },\r\n    postHook: function (state, props) {\r\n        var value = state.value;\r\n        var min = props.min;\r\n        var max = props.max;\r\n        var step = props.step;\r\n        var allowEmpty = props.allowEmpty;\r\n        useEffect(function () {\r\n            var rounded = step > 0 ? Math.round(value / step) * step : value;\r\n            if (rounded < min || (isNaN(rounded) && !allowEmpty)) {\r\n                rounded = min || 0;\r\n            } else if (rounded > max) {\r\n                rounded = max;\r\n            }\r\n            if (rounded !== value) {\r\n                state.setValue(rounded);\r\n            }\r\n        }, [value, min, max, step, allowEmpty]);\r\n        return state;\r\n    }\r\n});\r\n","import { definePrototype, extend, pick } from \"../include/zeta-dom/util.js\";\r\n\r\nexport default function TextField() { }\r\n\r\ndefinePrototype(TextField, {\r\n    defaultValue: '',\r\n    postHook: function (state, props) {\r\n        var form = state.form;\r\n        var inputProps = pick(props, ['type', 'disabled', 'autoComplete', 'maxLength', 'inputMode', 'placeholder', 'enterKeyHint']);\r\n        if (props.type === 'password' && !inputProps.autoComplete) {\r\n            inputProps.autoComplete = 'current-password';\r\n        }\r\n        inputProps.type = inputProps.type || 'text';\r\n        inputProps.enterKeyHint = inputProps.enterKeyHint || (form && form.enterKeyHint);\r\n        return extend(state, {\r\n            inputProps: inputProps\r\n        });\r\n    }\r\n});\r\n","import { definePrototype } from \"../include/zeta-dom/util.js\";\r\n\r\nexport default function ToggleField() { }\r\n\r\ndefinePrototype(ToggleField, {\r\n    defaultValue: false,\r\n    valueProperty: 'checked',\r\n    normalizeValue: function (value) {\r\n        return !!value;\r\n    },\r\n    isEmpty: function (value) {\r\n        return !value;\r\n    },\r\n    postHook: function (state) {\r\n        return state;\r\n    }\r\n});\r\n","import { createContext, createElement, forwardRef, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { always, any, combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, each, exclude, extend, grep, hasOwnProperty, is, isArray, isFunction, isPlainObject, isUndefinedOrNull, keys, makeArray, map, mapGet, mapRemove, noop, pick, pipe, randomId, resolve, resolveAll, setImmediateOnce, single, throws, watch } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport dom, { focus } from \"./include/zeta-dom/dom.js\";\r\nimport { preventLeave } from \"./include/zeta-dom/domLock.js\";\r\nimport { comparePosition, parentsAndSelf } from \"./include/zeta-dom/domUtil.js\";\r\nimport { useObservableProperty, useUpdateTrigger } from \"./hooks.js\";\r\nimport { combineRef } from \"./util.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst emitter = new ZetaEventContainer();\r\nconst presets = new WeakMap();\r\nconst instances = new WeakMap();\r\nconst changedProps = new Map();\r\nconst fieldTypes = {\r\n    text: TextField,\r\n    toggle: ToggleField,\r\n    choice: ChoiceField\r\n};\r\n\r\n/** @type {React.Context<any>} */\r\nconst FormObjectContext = createContext(null);\r\nconst FormObjectProvider = FormObjectContext.Provider;\r\n\r\nexport function ValidationError(kind, message, args) {\r\n    this.kind = kind;\r\n    this.args = args;\r\n    this.message = message;\r\n}\r\n\r\nfunction isEmpty(value) {\r\n    return isUndefinedOrNull(value) || value === '' || (isArray(value) && !value.length);\r\n}\r\n\r\nfunction hasImplicitError(field) {\r\n    return field.props.required && (field.props.isEmpty || field.preset.isEmpty || isEmpty)(field.value);\r\n}\r\n\r\nfunction cloneValue(value) {\r\n    return _(value) ? extend(true, isArray(value) ? [] : {}, value) : value;\r\n}\r\n\r\nfunction keyFor(value) {\r\n    return (_(value) || '').uniqueId;\r\n}\r\n\r\nfunction resolvePathInfo(form, path) {\r\n    var arr = isArray(path) || path.split('.');\r\n    var value = form.data;\r\n    var parent = value;\r\n    for (var i = 0, len = arr.length; i < len; i++) {\r\n        if (!hasOwnProperty(value, arr[i])) {\r\n            return {\r\n                name: arr[len - 1],\r\n                parent: i === len - 1 ? value : null\r\n            };\r\n        }\r\n        parent = value;\r\n        value = value[arr[i]];\r\n    }\r\n    return {\r\n        exists: true,\r\n        name: arr[len - 1],\r\n        value: value,\r\n        parent: parent\r\n    };\r\n}\r\n\r\nfunction getField(form, path) {\r\n    var prop = resolvePathInfo(form, path);\r\n    var key = keyFor(prop.parent);\r\n    return key && _(form).fields[key + '.' + prop.name];\r\n}\r\n\r\nfunction getPath(form, obj, name) {\r\n    if (obj === form.data) {\r\n        return name;\r\n    }\r\n    var paths = _(form).paths;\r\n    var path = [name];\r\n    for (var key = keyFor(obj); key = paths[key]; key = key.slice(0, 8)) {\r\n        path.unshift(key.slice(9));\r\n    }\r\n    return resolvePathInfo(form, path).parent === obj ? path.join('.') : '';\r\n}\r\n\r\nfunction emitDataChangeEvent() {\r\n    each(changedProps, function (form) {\r\n        var state = _(form);\r\n        var props = mapRemove(changedProps, form);\r\n        for (var i in props) {\r\n            while (i = i.replace(/(^|\\.)[^.]+$/, '')) {\r\n                props[i] = true;\r\n            }\r\n        }\r\n        var element = state.ref || dom.root;\r\n        var updatedFields = grep(state.fields, function (v) {\r\n            return props[v.path];\r\n        });\r\n        emitter.emit('dataChange', form, keys(props));\r\n        validateFields(form, grep(updatedFields, function (v) {\r\n            return (v.props.validateOnChange + 1 || form.validateOnChange + 1) > 1;\r\n        }));\r\n        if (form.preventLeave && !state.unlock && updatedFields[0] && dom.getEventSource(element) !== 'script') {\r\n            var promise = new Promise(function (resolve) {\r\n                state.unlock = function () {\r\n                    state.unlock = null;\r\n                    resolve();\r\n                };\r\n            });\r\n            preventLeave(element, promise, function () {\r\n                return emitter.emit('beforeLeave', form) || resolve();\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction handleDataChange(callback) {\r\n    var local;\r\n    var map = handleDataChange.d || (handleDataChange.d = local = new Set());\r\n    try {\r\n        callback();\r\n    } finally {\r\n        if (map === local) {\r\n            each(local, function (i, v) {\r\n                v.onChange(v.value);\r\n            });\r\n            handleDataChange.d = null;\r\n        }\r\n    }\r\n}\r\nhandleDataChange.d = null;\r\n\r\nfunction createDataObject(context, initialData) {\r\n    var state = _(context);\r\n    var target = isArray(initialData) ? [] : {};\r\n    var uniqueId = randomId();\r\n    var onChange = function (p, field) {\r\n        var path = getPath(context, proxy, p);\r\n        if (path) {\r\n            if (field) {\r\n                field.value = target[p];\r\n                if (field.value !== target[p]) {\r\n                    setValue(p, field.value);\r\n                    return;\r\n                }\r\n                handleDataChange.d.add(field);\r\n            }\r\n            // ensure field associated with parent data object got notified\r\n            for (var key = uniqueId; key = state.paths[key]; key = key.slice(0, 8)) {\r\n                if (state.fields[key]) {\r\n                    handleDataChange.d.add(state.fields[key]);\r\n                }\r\n            }\r\n            mapGet(changedProps, context, Object)[path] = true;\r\n            setImmediateOnce(emitDataChangeEvent);\r\n            return true;\r\n        }\r\n    };\r\n    var setValue = function (p, v) {\r\n        if (isPlainObject(v) || isArray(v)) {\r\n            // ensure changes to nested data objects\r\n            // emits data change event to correct form context\r\n            if ((_(v) || '').context !== context) {\r\n                v = createDataObject(context, v);\r\n            }\r\n            state.paths[keyFor(v)] = uniqueId + '.' + p;\r\n        }\r\n        target[p] = v;\r\n        return v;\r\n    };\r\n    var deleteValue = function (p) {\r\n        delete target[p];\r\n    };\r\n    var proxy = new Proxy(target, {\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && (t[p] !== v || !(p in t))) {\r\n                handleDataChange(function () {\r\n                    var prev = t[p];\r\n                    if (isArray(t)) {\r\n                        if (p === 'length') {\r\n                            // check for truncated indexes that would be deleted without calling the trap\r\n                            for (var index = prev - 1; index >= v; index--) {\r\n                                onChange(index);\r\n                            }\r\n                            t[p] = v;\r\n                            return true;\r\n                        }\r\n                    } else {\r\n                        if (_(v)) {\r\n                            throws(\"Cannot assign proxied data object\");\r\n                        }\r\n                        // apply changes to existing object or array when assigning new object or array\r\n                        // so that fields of the same path can have consistent key and state\r\n                        if (isArray(v) && isArray(prev)) {\r\n                            prev.splice.apply(prev, [0, prev.length].concat(v));\r\n                            return true;\r\n                        }\r\n                        if (isPlainObject(v) && _(prev)) {\r\n                            for (var i in exclude(prev, v)) {\r\n                                delete prev[i];\r\n                            }\r\n                            extend(prev, v);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    setValue(p, v);\r\n                    onChange(p, state.fields[uniqueId + '.' + p]);\r\n                });\r\n            }\r\n            return true;\r\n        },\r\n        deleteProperty: function (t, p) {\r\n            if (typeof p === 'string' && p in t) {\r\n                handleDataChange(function () {\r\n                    deleteValue(p);\r\n                    onChange(p);\r\n                });\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n    _(proxy, {\r\n        context,\r\n        uniqueId,\r\n        set: setValue,\r\n        delete: deleteValue\r\n    });\r\n    each(initialData, function (i, v) {\r\n        setValue(i, v);\r\n    });\r\n    return proxy;\r\n}\r\n\r\nfunction createFieldState(initialValue) {\r\n    var field = {\r\n        initialValue: initialValue,\r\n        value: initialValue,\r\n        error: '',\r\n        preset: {},\r\n        onChange: function (v) {\r\n            if (field.props.onChange) {\r\n                field.props.onChange(cloneValue(v));\r\n            }\r\n        },\r\n        setValue: function (v) {\r\n            v = isFunction(v) ? v(field.value) : v;\r\n            if (!field.controlled) {\r\n                field.value = v;\r\n            } else if (v !== field.value) {\r\n                field.onChange(v);\r\n            }\r\n        },\r\n        setError: function (v) {\r\n            field.error = isFunction(v) ? v(field.error) : v;\r\n            (field.form || {}).isValid = null;\r\n        },\r\n        elementRef: function (v) {\r\n            field.element = v;\r\n        }\r\n    };\r\n    watch(field, true);\r\n    defineObservableProperty(field, 'value', initialValue, function (newValue, oldValue) {\r\n        newValue = (field.preset.normalizeValue || pipe)(newValue, field.props);\r\n        if (newValue !== oldValue && _(oldValue)) {\r\n            field.dict[field.name] = newValue;\r\n            return oldValue;\r\n        }\r\n        return newValue;\r\n    });\r\n    defineObservableProperty(field, 'error', '', function (v) {\r\n        return isFunction(v) || is(v, ValidationError) ? wrapErrorResult(field, v) : v || '';\r\n    });\r\n    watch(field, 'value', function (v) {\r\n        if (field.key) {\r\n            field.dict[field.name] = v;\r\n        } else if (!field.controlled) {\r\n            field.onChange(v);\r\n        }\r\n    });\r\n    watch(field, 'error', function (v) {\r\n        if (field.key) {\r\n            emitter.emit('validationChange', field.form, {\r\n                name: field.path,\r\n                isValid: !v,\r\n                message: String(v)\r\n            });\r\n        }\r\n    });\r\n    return field;\r\n}\r\n\r\nfunction useFormFieldInternal(form, state, field, preset, props, controlled, dict, key) {\r\n    var hasErrorProp = 'error' in props;\r\n    var prevKey = field.key || key;\r\n    extend(field, { form, props, preset, controlled, dict, key });\r\n    if (form && key) {\r\n        field.name = key.slice(9);\r\n        field.path = getPath(form, dict, field.name);\r\n        if (prevKey !== key) {\r\n            field.locks = [];\r\n            if (!hasErrorProp) {\r\n                field.error = '';\r\n            }\r\n        }\r\n        state.fields[key] = field;\r\n    }\r\n    if (hasErrorProp) {\r\n        field.error = props.error;\r\n    }\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            state.fields[key] = field;\r\n        }\r\n        return function () {\r\n            if (state && state.fields[key] === field) {\r\n                delete state.fields[key];\r\n                if (field.props.clearWhenUnmount) {\r\n                    _(dict).delete(key.slice(9));\r\n                }\r\n                state.setValid();\r\n            }\r\n        };\r\n    }, [state, field, key]);\r\n    useEffect(function () {\r\n        if (state) {\r\n            state.setValid();\r\n        }\r\n    }, [state, field.error, props.disabled, props.required]);\r\n}\r\n\r\nfunction validateFields(form, fields) {\r\n    var state = _(form);\r\n    var imlicitErrors = map(fields, hasImplicitError);\r\n    var validate = function (field) {\r\n        var name = field.path;\r\n        var value = field.value;\r\n        return emitter.emit('validate', form, { name, value }) || ((field.props || '').onValidate || noop)(value, name, form);\r\n    };\r\n    var promises = fields.map(function (v) {\r\n        var locks = v.locks || (v.locks = []);\r\n        var prev = locks[0];\r\n        if (prev) {\r\n            // debounce async validation\r\n            return locks[1] || (locks[1] = always(locks[0], function () {\r\n                var next = validate(v);\r\n                always(next, function () {\r\n                    // dismiss effects of previous validation if later one resolves earlier\r\n                    // so that validity always reflects on latest data\r\n                    if (locks[0] === prev) {\r\n                        locks.shift();\r\n                    }\r\n                });\r\n                return next;\r\n            }));\r\n        }\r\n        locks[0] = resolve(validate(v));\r\n        return locks[0];\r\n    });\r\n    return resolveAll(promises).then(function (result) {\r\n        fields.forEach(function (v, i) {\r\n            // checks if current validation is of the latest\r\n            if (v.locks[0] === promises[i]) {\r\n                v.locks.shift();\r\n                v.error = result[i];\r\n            }\r\n            result[i] = result[i] || imlicitErrors[i];\r\n        });\r\n        state.setValid();\r\n        return !any(result);\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(field, error) {\r\n    return {\r\n        toString: function () {\r\n            if (is(error, ValidationError)) {\r\n                return single([field.props, field.form || '', FormContext], function (v) {\r\n                    return (v.formatError || noop).call(v, error, field.path || null, field.props, field.form);\r\n                }) || error.message;\r\n            }\r\n            return error(field.props || {});\r\n        }\r\n    };\r\n}\r\n\r\nfunction normalizeOptions(options) {\r\n    if (typeof options === 'boolean') {\r\n        options = {\r\n            validateOnChange: options\r\n        };\r\n    }\r\n    return extend({\r\n        autoPersist: true,\r\n        preventLeave: false,\r\n        validateOnChange: true\r\n    }, options);\r\n}\r\n\r\nexport function FormContext(initialData, options, viewState) {\r\n    var self = this;\r\n    var fields = {};\r\n    var state = _(self, {\r\n        fields: fields,\r\n        viewState: viewState,\r\n        paths: {},\r\n        initialData: initialData,\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v) {\r\n                return !v.props.disabled && (v.error || hasImplicitError(v));\r\n            });\r\n        })\r\n    });\r\n    extend(self, normalizeOptions(options));\r\n    self.ref = function (element) {\r\n        state.ref = element;\r\n        if (element) {\r\n            instances.set(element, self);\r\n        }\r\n    };\r\n    self.isValid = true;\r\n    self.data = createDataObject(self, viewState.get() || state.initialData);\r\n}\r\n\r\ndefine(FormContext, {\r\n    ERROR_FIELD: 1,\r\n    EMPTY_FIELD: 2,\r\n    get: function (element) {\r\n        return single(parentsAndSelf(element), instances.get.bind(instances)) || null;\r\n    }\r\n});\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        return key ? (getField(this, key) || '').element : _(this).ref;\r\n    },\r\n    focus: function (key) {\r\n        var element;\r\n        if (typeof key === 'number') {\r\n            element = map(_(this).fields, function (v) {\r\n                return (v.error && (key & 1)) || (isEmpty(v.value) && (key & 2)) ? v.element : null;\r\n            }).sort(comparePosition)[0];\r\n        } else {\r\n            element = this.element(key);\r\n        }\r\n        return !!element && focus(element);\r\n    },\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    persist: function () {\r\n        var self = this;\r\n        _(self).viewState.set(self.toJSON());\r\n        self.autoPersist = false;\r\n    },\r\n    restore: function () {\r\n        var self = this;\r\n        var data = _(self).viewState.get();\r\n        if (data) {\r\n            self.reset(data);\r\n        }\r\n        return !!data;\r\n    },\r\n    clear: function () {\r\n        this.reset({});\r\n    },\r\n    reset: function (data) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var dict = _(self.data);\r\n        for (var i in self.data) {\r\n            dict.delete(i);\r\n        }\r\n        each(data || state.initialData, function (i, v) {\r\n            dict.set(i, v);\r\n        });\r\n        each(state.fields, function (i, v) {\r\n            var prop = resolvePathInfo(self, v.path);\r\n            if (v.controlled) {\r\n                v.onChange(prop.exists ? prop.value : v.initialValue);\r\n            } else if (prop.exists) {\r\n                v.value = prop.value;\r\n            }\r\n            v.error = null;\r\n        });\r\n        state.setValid();\r\n        (state.unlock || noop)();\r\n        emitter.emit('reset', self);\r\n    },\r\n    getValue: function (key) {\r\n        return cloneValue(resolvePathInfo(this, key).value);\r\n    },\r\n    setValue: function (key, value) {\r\n        var prop = resolvePathInfo(this, key);\r\n        if (prop.parent) {\r\n            prop.parent[prop.name] = cloneValue(value);\r\n        }\r\n    },\r\n    getErrors: function () {\r\n        var errorFields = grep(_(this).fields, function (v) {\r\n            return v.error;\r\n        });\r\n        return errorFields[0] ? Object.fromEntries(errorFields.map(function (v) {\r\n            return [v.path, String(v.error)];\r\n        })) : null;\r\n    },\r\n    getError: function (key) {\r\n        return String((getField(this, key) || '').error || '');\r\n    },\r\n    setError: function (key, error) {\r\n        (getField(this, key) || {}).error = error;\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var fields = _(self).fields;\r\n        var prefix = makeArray(arguments);\r\n        if (!prefix[0]) {\r\n            return validateFields(self, grep(fields, function (v) {\r\n                return !v.props.disabled;\r\n            }));\r\n        }\r\n        return validateFields(self, grep(fields, function (v) {\r\n            return any(prefix, function (w) {\r\n                var len = w.length;\r\n                return v.path.slice(0, len) === w && (!v.path[len] || v.path[len] === '.');\r\n            });\r\n        }));\r\n    },\r\n    toJSON: function () {\r\n        return extend(true, {}, this.data);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(FormContext.prototype, 'preventLeave', false, function (value) {\r\n    if (!value) {\r\n        (_(this).unlock || noop)();\r\n    }\r\n    return !!value;\r\n});\r\n\r\nexport function useFormContext(persistKey, initialData, options) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useFormContext('', persistKey, initialData);\r\n    }\r\n    const viewState = useViewState(persistKey);\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, options, viewState);\r\n    })[0];\r\n    const forceUpdate = useUpdateTrigger();\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return combineFn(\r\n            form.on('dataChange', forceUpdate),\r\n            form.on('reset', forceUpdate),\r\n            function () {\r\n                (_(form).unlock || noop)();\r\n                if (form.autoPersist) {\r\n                    form.persist();\r\n                    form.autoPersist = true;\r\n                }\r\n            }\r\n        );\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(type, props, defaultValue, prop) {\r\n    if (typeof type === 'string') {\r\n        type = fieldTypes[type];\r\n    }\r\n    if (!isFunction(type)) {\r\n        prop = defaultValue;\r\n        defaultValue = props;\r\n        props = type;\r\n        type = '';\r\n    }\r\n    const preset = type ? mapGet(presets, type, type) : {};\r\n    prop = prop || preset.valueProperty || 'value';\r\n\r\n    const dict = useContext(FormObjectContext);\r\n    const form = dict && _(dict).context;\r\n    const state = form && _(form);\r\n    const name = props.name || '';\r\n    const key = form && name && (keyFor(dict) + '.' + name);\r\n    const controlled = prop in props;\r\n\r\n    const field = useState(function () {\r\n        var initialValue = controlled ? props[prop] : (preset.normalizeValue || pipe)(defaultValue !== undefined ? defaultValue : preset.defaultValue);\r\n        return createFieldState(initialValue);\r\n    })[0];\r\n    useFormFieldInternal(form, state, field, preset, props, controlled, dict, key);\r\n    if (controlled) {\r\n        field.value = props[prop];\r\n    }\r\n    if (form && key) {\r\n        if (!(name in dict)) {\r\n            field.value = _(dict).set(name, field.initialValue);\r\n        } else if (!controlled) {\r\n            field.value = dict[name];\r\n        }\r\n    }\r\n    const state1 = (preset.postHook || pipe)({\r\n        form: form,\r\n        key: key,\r\n        path: field.path,\r\n        value: field.value,\r\n        error: String(field.error),\r\n        setValue: field.setValue,\r\n        setError: field.setError,\r\n        elementRef: field.elementRef\r\n    }, props);\r\n    state1.value = useObservableProperty(field, 'value');\r\n    state1.error = String(useObservableProperty(field, 'error'));\r\n    return state1;\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n\r\nexport function registerFieldType(type, options) {\r\n    if (isFunction(options)) {\r\n        options = {\r\n            postHook: options\r\n        };\r\n    }\r\n    fieldTypes[type] = function () {\r\n        return options;\r\n    };\r\n}\r\n\r\nexport const Form = forwardRef(function (props, ref) {\r\n    const form = props.context;\r\n    const onSubmit = function (e) {\r\n        if (!props.action) {\r\n            e.preventDefault();\r\n        }\r\n        (props.onSubmit || noop).call(this, e);\r\n    };\r\n    const onReset = function (e) {\r\n        e.preventDefault();\r\n        form.reset();\r\n        (props.onReset || noop).call(this, e);\r\n    };\r\n    extend(form, pick(props, ['enterKeyHint', 'preventLeave', 'formatError']));\r\n    return createElement(FormObjectProvider, { value: form.data },\r\n        createElement('form', extend(exclude(props, ['context', 'enterKeyHint', 'preventLeave', 'formatError']), { ref: combineRef(ref, form.ref), onSubmit, onReset })));\r\n});\r\n\r\nexport function FormContextProvider(props) {\r\n    return createElement(FormObjectProvider, { value: props.value.data }, props.children);\r\n}\r\n\r\nexport function FormArray(props) {\r\n    return FormObject(extend({}, props, { defaultValue: [] }));\r\n}\r\n\r\nexport function FormObject(props) {\r\n    var dict = useContext(FormObjectContext);\r\n    if (!_(dict)) {\r\n        throws('Missing form context');\r\n    }\r\n    var fieldRef = useRef();\r\n    var form = _(dict).context;\r\n    var state = _(form);\r\n    var name = props.name;\r\n    var value = props.value;\r\n    if (name) {\r\n        value = isPlainObject(dict[name]) || isArray(dict[name]) || props.defaultValue || {};\r\n        value = _(dict).set(name, value);\r\n    } else if (!(_(value) || '').context) {\r\n        throws('Value must be a data object or array');\r\n    }\r\n    // field state registered by useFormField has a higher priority\r\n    // create own field state only when needed\r\n    var key = state.paths[keyFor(value)];\r\n    if (typeof (state.fields[key] || '').controlled !== 'boolean') {\r\n        var field = fieldRef.current || (fieldRef.current = createFieldState(value));\r\n        useFormFieldInternal(form, state, field, {}, props, 0, dict, key);\r\n        field.value = value;\r\n    } else {\r\n        useEffect(noop, [null]);\r\n        useEffect(noop, [null]);\r\n    }\r\n    var children = props.children;\r\n    if (isFunction(children)) {\r\n        children = children(value);\r\n    }\r\n    return createElement(FormObjectProvider, { value }, children);\r\n}\r\n\r\ndefine(FormObject, { keyFor });\r\n\r\nimport ChoiceField from \"./fields/ChoiceField.js\";\r\nimport DateField from \"./fields/DateField.js\";\r\nimport MultiChoiceField from \"./fields/MultiChoiceField.js\";\r\nimport NumericField from \"./fields/NumericField.js\";\r\nimport TextField from \"./fields/TextField.js\";\r\nimport ToggleField from \"./fields/ToggleField.js\";\r\n\r\nexport {\r\n    ChoiceField,\r\n    DateField,\r\n    MultiChoiceField,\r\n    NumericField,\r\n    TextField,\r\n    ToggleField\r\n}\r\n","import zeta from \"zeta-dom\";const _defaultExport = zeta; export default _defaultExport;","import * as all from \"./index.js\";\r\nexport default all;\r\n\r\nimport zeta from \"./include/zeta-dom/index.js\";\r\nzeta.react = all;\r\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__359__","__WEBPACK_EXTERNAL_MODULE__654__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","zeta","noop","pipe","either","is","isUndefinedOrNull","isArray","isFunction","isPlainObject","isThenable","makeArray","isArrayLike","extend","each","map","grep","splice","any","single","kv","pick","fill","exclude","mapGet","mapObject","mapRemove","setAdd","arrRemove","combineFn","equal","createPrivateStore","executeOnce","setImmediate","setTimeout","setTimeoutOnce","setInterval","setIntervalSafe","setImmediateOnce","throws","throwNotFunction","isErrorWithCode","errorWithCode","keys","values","getOwnPropertyDescriptors","definePrototype","defineObservableProperty","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","watch","freeze","watchOnce","watchable","inherit","randomId","deepFreeze","iequal","resolve","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","always","reject","resolveAll","deferrable","retryable","delay","catchAsync","setPromiseTimeout","makeAsync","comparePosition","domReady","tagName","isVisible","matchSelector","parentsAndSelf","connected","containsOrEquals","acceptNode","combineNodeFilters","iterateNode","iterateNodeToArray","getCommonAncestor","bind","selectIncludeSelf","selectClosestRelative","createNodeIterator","createTreeWalker","bindUntil","dispatchDOMMouseEvent","removeNode","getClass","setClass","getScrollOffset","getScrollParent","getContentRect","scrollBy","scrollIntoView","makeSelection","getRect","getRects","toPlainRect","rectEquals","rectCovers","rectIntersects","pointInRect","mergeRect","elementFromPoint","focus","textInputAllowed","beginDrag","beginPinchZoom","insertText","getShortcut","setShortcut","focusable","focused","setModal","releaseModal","retainFocus","releaseFocus","iterateFocusPath","notifyAsync","lock","locked","cancelLock","subscribeAsync","preventLeave","ZetaEventContainer","container","singletons","WeakSet","AbortController","window","useUpdateTrigger","setState","useState","useCallback","useMemoizedFunction","callback","ref","useRef","current","apply","this","arguments","useObservableProperty","forceUpdate","useEffect","cb","v","useAsync","init","deps","debounce","state","useSingleton","element","currentController","nextResult","loading","error","elementRef","on","event","handler","add","onError","e","refresh","force","waitFor","then","controller","abort","result","signal","promise","resolved","emit","data","dom","reason","concat","useMemo","useRefInitCallback","args","set","useDispose","dispose","callbacks","length","push","isSingletonDisposed","target","has","onDispose","useErrorHandlerRef","useErrorHandler","reemitting","catchError","reemitError","catch","filter","isErrorOf","useMediaQuery","query","mq","matchMedia","matches","createBreakpointContext","breakpoints","i","setValue","useBreakpoint","ViewStateProviderContext","createContext","noopStorage","ViewStateProvider","Provider","useViewState","uniqueId","provider","useContext","getState","_","proto","DataView","emitter","compare","a","b","x","y","String","localeCompare","caseFirst","filters","sortBy","sortOrder","pageSize","defaults","pageIndex","items","onUpdated","sorted","filtered","emitAsync","useDataView","persistKey","viewState","dataView","onPopState","newValue","toJSON","itemCount","getView","sort","filteredItems","slice","item","dir","Map","reset","boundEvents","WeakMap","domEventRef","arr","Error","Array","index","classNames","className","process","j","getClassNames","join","innerTextOrHTML","text","dangerouslySetInnerHTML","children","partial","fn","combineRef","toRefCallback","withSuspense","fallback","Fragment","createElement","Component","lazy","props","Suspense","ChoiceField","normalizeChoiceItems","label","normalizeItems","defaultValue","postHook","selectedIndex","findIndex","allowUnselect","selectedItem","re","tz","Date","getTimezoneOffset","units","m","normalizeDate","date","test","parse","str","toDateObject","now","toLowerCase","replace","c","parseRelativeDate","clampValue","min","max","ts","isNaN","toDateString","toISOString","indexOf","DateField","MultiChoiceField","NumericField","TextField","ToggleField","w","normalizeValue","displayText","formatDisplay","clamped","allowCustomValues","isUnknown","some","toggleValue","selected","cur","step","allowEmpty","rounded","Math","round","form","inputProps","type","autoComplete","enterKeyHint","valueProperty","isEmpty","presets","instances","changedProps","fieldTypes","toggle","choice","FormObjectContext","FormObjectProvider","ValidationError","kind","message","hasImplicitError","field","required","preset","cloneValue","keyFor","resolvePathInfo","path","split","parent","len","name","exists","getField","fields","getPath","paths","unshift","emitDataChangeEvent","updatedFields","validateFields","validateOnChange","unlock","Promise","handleDataChange","local","Set","onChange","createDataObject","context","initialData","p","proxy","deleteValue","Proxy","t","prev","deleteProperty","delete","createFieldState","initialValue","controlled","setError","isValid","oldValue","dict","toString","FormContext","formatError","wrapErrorResult","useFormFieldInternal","hasErrorProp","prevKey","locks","clearWhenUnmount","setValid","disabled","imlicitErrors","validate","onValidate","promises","next","shift","forEach","options","autoPersist","normalizeOptions","useFormContext","persist","useFormField","state1","combineValidators","validators","reduce","registerFieldType","ERROR_FIELD","EMPTY_FIELD","restore","clear","getValue","getErrors","errorFields","fromEntries","getError","prefix","Form","forwardRef","onSubmit","action","preventDefault","onReset","FormContextProvider","FormArray","FormObject","fieldRef","all"],"sourceRoot":""}