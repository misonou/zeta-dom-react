{"version":3,"file":"zeta-dom-react.min.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./tmp/zeta-dom/domLock.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout } = zeta.util; export { noop, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throwNotFunction, errorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout };","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus };","import zeta from \"zeta-dom\";const { lock, locked, cancelLock } = zeta.dom; export { lock, locked, cancelLock };","import { useEffect, useState } from \"react\";\r\nimport { lock } from \"./include/zeta-dom/domLock.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { always, catchAsync, combineFn, extend, isArray, makeArray, resolve, setAdd, watch } from \"./include/zeta-dom/util.js\";\r\n\r\nconst fnWeakMap = new WeakMap();\r\nconst container = new ZetaEventContainer();\r\n\r\nexport function useMemoizedFunction(callback) {\r\n    const fn = useState(function () {\r\n        return function fn() {\r\n            const cb = fnWeakMap.get(fn);\r\n            return cb && cb.apply(this, arguments);\r\n        };\r\n    })[0];\r\n    fnWeakMap.set(fn, callback);\r\n    return fn;\r\n}\r\n\r\nexport function useObservableProperty(obj, key) {\r\n    const sValue = useState(obj[key]);\r\n    const value = sValue[0], setValue = sValue[1];\r\n    useEffect(function () {\r\n        setValue(obj[key]);\r\n        return watch(obj, key, function (v) {\r\n            setValue(function () {\r\n                return v;\r\n            });\r\n        });\r\n    }, [obj, key]);\r\n    return value;\r\n}\r\n\r\nexport function useAsync(init, autoload) {\r\n    const state = useState(function () {\r\n        var element;\r\n        var emitErrorEvent = function (error) {\r\n            return container.emit('error', state, { error }, true);\r\n        };\r\n        return {\r\n            loading: true,\r\n            elementRef: function (current) {\r\n                element = current;\r\n            },\r\n            onError: function (handler) {\r\n                return container.add(state, 'error', handler);\r\n            },\r\n            refresh: function () {\r\n                var promise;\r\n                var shouldNotify = function () {\r\n                    return !state.disposed && state.promise === promise;\r\n                };\r\n                promise = always(resolve().then(init), function (resolved, value) {\r\n                    if (shouldNotify()) {\r\n                        if (resolved) {\r\n                            extend(state, { loading: false, value: value });\r\n                        } else {\r\n                            extend(state, { loading: false, value: undefined, error: value });\r\n                            if (!emitErrorEvent(value)) {\r\n                                throw value;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                extend(state, { promise: promise, loading: true, error: undefined });\r\n                if (element) {\r\n                    catchAsync(lock(element, promise));\r\n                }\r\n            }\r\n        };\r\n    })[0];\r\n    const deps = isArray(autoload);\r\n    init = useMemoizedFunction(init);\r\n    autoload = autoload !== false;\r\n\r\n    useObservableProperty(state, 'loading');\r\n    useEffect(function () {\r\n        return function () {\r\n            state.disposed = true;\r\n        };\r\n    }, [state]);\r\n    useEffect(function () {\r\n        if (autoload) {\r\n            state.refresh();\r\n        }\r\n    }, [state, autoload].concat(deps));\r\n    return [state.value, state];\r\n}\r\n\r\nexport function useRefInitCallback(init) {\r\n    const args = makeArray(arguments);\r\n    const set = useState(new WeakSet())[0];\r\n    return function (v) {\r\n        if (v && setAdd(set, v)) {\r\n            args[0] = v;\r\n            init.apply(null, args);\r\n        }\r\n    };\r\n}\r\n\r\nexport function useDispose() {\r\n    const dispose = useState(function () {\r\n        const callbacks = [\r\n            function () {\r\n                callbacks.splice(0, callbacks.length - 1);\r\n            }\r\n        ];\r\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\r\n    })[0];\r\n    useEffect(function () {\r\n        return dispose;\r\n    }, [dispose]);\r\n    return dispose;\r\n}\r\n","import { createContext, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { any, combineFn, createPrivateStore, defineObservableProperty, definePrototype, each, extend, grep, isFunction, keys, makeArray, resolve, resolveAll } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { focus } from \"./include/zeta-dom/dom.js\";\r\nimport { useMemoizedFunction, useObservableProperty } from \"./hooks.js\";\r\n\r\nconst _ = createPrivateStore();\r\n\r\n/** @type {React.Context<import (\"./form\").FormContext>} */\r\n// @ts-ignore: type inference issue\r\nconst _FormContext = createContext(null);\r\n\r\nexport const FormContextProvider = _FormContext.Provider;\r\n\r\nfunction createDataObject(context, eventContainer, initialData) {\r\n    return new Proxy(extend({}, initialData), {\r\n        get: function (t, p) {\r\n            if (typeof p === 'string') {\r\n                return t[p];\r\n            }\r\n        },\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && t[p] !== v) {\r\n                if (p in t) {\r\n                    eventContainer.emitAsync('dataChange', context, [p], {}, function (v, a) {\r\n                        return v.concat(a);\r\n                    });\r\n                }\r\n                t[p] = v;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(state, key, error) {\r\n    return {\r\n        toString: function () {\r\n            return error(extend({}, state.fields[key]));\r\n        }\r\n    };\r\n}\r\n\r\nexport function FormContext(initialData, validateOnChange) {\r\n    var self = this;\r\n    var fields = {};\r\n    var errors = {};\r\n    var eventContainer = new ZetaEventContainer();\r\n    var state = _(self, {\r\n        fields: fields,\r\n        errors: errors,\r\n        eventContainer: eventContainer,\r\n        refs: {},\r\n        initialData: initialData || {},\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v, i) {\r\n                return !v.disabled && (errors[i] || (v.required && (v.isEmpty ? v.isEmpty(self.data[i]) : !self.data[i])));\r\n            });\r\n        })\r\n    });\r\n    self.isValid = true;\r\n    self.validateOnChange = validateOnChange !== false;\r\n    self.data = createDataObject(self, eventContainer, initialData);\r\n    self.on('dataChange', function (e) {\r\n        if (self.validateOnChange) {\r\n            var fieldsToValidate = grep(e.data, function (v) {\r\n                return fields[v].validateOnChange !== false;\r\n            });\r\n            if (fieldsToValidate[0]) {\r\n                self.validate.apply(self, fieldsToValidate);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        var ref = _(this).refs[key];\r\n        return ref && ref.current;\r\n    },\r\n    focus: function (key) {\r\n        var element = this.element(key);\r\n        if (element) {\r\n            focus(element);\r\n        }\r\n    },\r\n    on: function (event, handler) {\r\n        var state = _(this);\r\n        return state.eventContainer.add(this, event, handler);\r\n    },\r\n    reset: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        for (var i in self.data) {\r\n            delete self.data[i];\r\n        }\r\n        extend(self.data, state.initialData);\r\n        self.isValid = true;\r\n        state.eventContainer.emit('reset', self);\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        var errors = state.errors;\r\n        var eventContainer = state.eventContainer;\r\n        var props = makeArray(arguments);\r\n        if (!props.length) {\r\n            props = keys(state.fields);\r\n        }\r\n        var prev = extend({}, errors);\r\n        var promise = resolveAll(props.map(function (v) {\r\n            return eventContainer.emit('validate', self, {\r\n                name: v,\r\n                value: self.data[v]\r\n            });\r\n        }));\r\n        return promise.then(function (result) {\r\n            props.forEach(function (v, i) {\r\n                if (isFunction(result[i])) {\r\n                    result[i] = wrapErrorResult(state, v, result[i]);\r\n                }\r\n                errors[v] = result[i];\r\n                if ((result[i] || '') !== (prev[v] || '')) {\r\n                    eventContainer.emit('validationChange', self, {\r\n                        name: v,\r\n                        isValid: !result[i],\r\n                        message: String(result[i] || '')\r\n                    });\r\n                }\r\n            });\r\n            state.setValid();\r\n            return !any(result, function (v) {\r\n                return v;\r\n            });\r\n        });\r\n    }\r\n});\r\n\r\nexport function useFormContext(initialData, validateOnChange) {\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, validateOnChange);\r\n    })[0];\r\n    const forceUpdate = useState(0)[1];\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return form.on('dataChange', function () {\r\n            forceUpdate(function (v) {\r\n                return ++v;\r\n            });\r\n        });\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(props, defaultValue, prop) {\r\n    const form = useContext(_FormContext);\r\n    const ref = useRef();\r\n    const key = props.name || '';\r\n    const initialValue = useState(function () {\r\n        return (form && form.data[key]) || defaultValue;\r\n    })[0];\r\n    const sValue = useState(initialValue);\r\n    const sError = useState('');\r\n    const onValidate = useMemoizedFunction(props.onValidate);\r\n    const value = sValue[0], setValue = sValue[1];\r\n    const error = sError[0], setError = sError[1];\r\n\r\n    var setValueCallback = useMemoizedFunction(function (v) {\r\n        if (!props.onChange) {\r\n            console.warn('onChange not supplied');\r\n        } else {\r\n            props.onChange(typeof v === 'function' ? v(props[prop]) : v);\r\n        }\r\n    });\r\n\r\n    // put internal states on props for un-controlled mode\r\n    prop = prop || 'value';\r\n    if (!(prop in props)) {\r\n        setValueCallback = setValue;\r\n        props = extend({}, props);\r\n        props[prop] = value;\r\n    }\r\n    if (form && key) {\r\n        _(form).fields[key] = props;\r\n    }\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            var state = _(form);\r\n            state.refs[key] = ref;\r\n            if (key in form.data) {\r\n                setValue(form.data[key]);\r\n            }\r\n            return combineFn(\r\n                function () {\r\n                    delete state.fields[key];\r\n                    delete state.refs[key];\r\n                    state.setValid();\r\n                },\r\n                form.on('dataChange', function (e) {\r\n                    if (e.data.includes(key)) {\r\n                        setValue(form.data[key]);\r\n                    }\r\n                }),\r\n                form.on('validationChange', function (e) {\r\n                    if (e.name === key) {\r\n                        setError(state.errors[key]);\r\n                    }\r\n                }),\r\n                form.on('validate', function (e) {\r\n                    if (e.name === key) {\r\n                        return onValidate(e.value, e.name, form);\r\n                    }\r\n                }),\r\n                form.on('reset', function () {\r\n                    setValue(initialValue);\r\n                    setError('');\r\n                })\r\n            );\r\n        }\r\n    }, [form, key, initialValue, onValidate]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            form.data[key] = value;\r\n        }\r\n    }, [form, key, value]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            _(form).setValid();\r\n        }\r\n    }, [form, key, props.validateOnChange, props.disabled, props.required]);\r\n\r\n    return {\r\n        value: props[prop],\r\n        error: String(props.error || error || ''),\r\n        setValue: setValueCallback,\r\n        setError: setError,\r\n        elementRef: function (v) {\r\n            ref.current = v;\r\n        }\r\n    };\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n","import { combineFn, each, extend, isFunction, kv, makeArray, noop } from \"./include/zeta-dom/util.js\";\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function partial(setState) {\r\n    return function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n}\r\n\r\nexport function combineRef() {\r\n    return combineFn(makeArray(arguments).map(toRefCallback));\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n","import * as all from \"./index.js\";\r\nexport default all;\r\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__359__","__WEBPACK_EXTERNAL_MODULE__654__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","zeta","noop","isArray","either","is","isUndefinedOrNull","isFunction","makeArray","isThenable","isPlainObject","isArrayLike","extend","each","grep","map","any","splice","kv","single","setAdd","pick","exclude","mapGet","mapRemove","arrRemove","combineFn","equal","createPrivateStore","executeOnce","keys","setTimeout","setTimeoutOnce","setInterval","setIntervalSafe","setImmediate","setImmediateOnce","throwNotFunction","errorWithCode","definePrototype","values","getOwnPropertyDescriptors","defineObservableProperty","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","watch","resolve","watchOnce","watchable","inherit","deepFreeze","iequal","randomId","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","always","reject","resolveAll","catchAsync","ZetaEventContainer","setPromiseTimeout","focus","textInputAllowed","beginDrag","beginPinchZoom","getShortcut","setShortcut","focusable","focused","setModal","releaseModal","retainFocus","releaseFocus","iterateFocusPath","lock","fnWeakMap","locked","cancelLock","WeakMap","container","useMemoizedFunction","callback","fn","useState","cb","apply","this","arguments","set","useObservableProperty","sValue","setValue","useEffect","v","useAsync","init","autoload","state","element","loading","elementRef","current","onError","handler","add","refresh","promise","then","resolved","disposed","error","emit","deps","concat","useRefInitCallback","args","WeakSet","useDispose","dispose","callbacks","length","push","bind","_","_FormContext","createContext","FormContextProvider","Provider","wrapErrorResult","toString","fields","FormContext","initialData","validateOnChange","errors","eventContainer","refs","setValid","i","disabled","required","isEmpty","data","isValid","context","Proxy","t","p","emitAsync","a","createDataObject","on","e","fieldsToValidate","validate","useFormContext","form","forceUpdate","useFormField","props","defaultValue","useContext","ref","useRef","name","initialValue","sError","onValidate","setError","setValueCallback","onChange","console","warn","includes","String","combineValidators","validators","reduce","prev","next","result","classNames","className","process","j","getClassNames","join","partial","setState","combineRef","toRefCallback","event","reset","forEach","message"],"sourceRoot":""}