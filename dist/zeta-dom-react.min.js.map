{"version":3,"file":"zeta-dom-react.min.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./tmp/zeta-dom/domUtil.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./tmp/zeta-dom/domLock.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/css.js","webpack://zeta-dom-react/./src/viewState.js","webpack://zeta-dom-react/./src/dataView.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./tmp/zeta-dom/index.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throws, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, retryable, deferrable, catchAsync, setPromiseTimeout, delay, makeAsync } = zeta.util; export { noop, pipe, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, fill, pick, exclude, mapObject, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeout, setTimeoutOnce, setInterval, setIntervalSafe, setImmediate, setImmediateOnce, throws, throwNotFunction, errorWithCode, isErrorWithCode, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, freeze, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, retryable, deferrable, catchAsync, setPromiseTimeout, delay, makeAsync };","import zeta from \"zeta-dom\";const { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint } = zeta.util; export { domReady, tagName, isVisible, matchSelector, comparePosition, connected, containsOrEquals, acceptNode, combineNodeFilters, iterateNode, iterateNodeToArray, getCommonAncestor, parentsAndSelf, selectIncludeSelf, selectClosestRelative, createNodeIterator, createTreeWalker, bind, bindUntil, dispatchDOMMouseEvent, removeNode, getClass, setClass, getScrollOffset, getScrollParent, getContentRect, scrollBy, scrollIntoView, makeSelection, getRect, getRects, toPlainRect, rectEquals, rectCovers, rectIntersects, pointInRect, mergeRect, elementFromPoint };","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, releaseModal, retainFocus, releaseFocus, iterateFocusPath, focus };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import zeta from \"zeta-dom\";const { lock, locked, cancelLock, subscribeAsync, notifyAsync, preventLeave } = zeta.dom; export { lock, locked, cancelLock, subscribeAsync, notifyAsync, preventLeave };","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\nimport { notifyAsync } from \"./include/zeta-dom/domLock.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { always, combineFn, deferrable, delay, extend, is, isArray, isErrorWithCode, isFunction, makeArray, makeAsync, map, pipe, resolve, setAdd, watch } from \"./include/zeta-dom/util.js\";\r\n\r\nconst fnWeakMap = new WeakMap();\r\nconst container = new ZetaEventContainer();\r\n\r\nexport function useUpdateTrigger() {\r\n    const setState = useState()[1];\r\n    return useCallback(function () {\r\n        setState({});\r\n    }, []);\r\n}\r\n\r\nexport function useMemoizedFunction(callback) {\r\n    const fn = useCallback(function fn() {\r\n        const cb = fnWeakMap.get(fn);\r\n        return cb && cb.apply(this, arguments);\r\n    }, []);\r\n    fnWeakMap.set(fn, callback);\r\n    return fn;\r\n}\r\n\r\nexport function useObservableProperty(obj, key) {\r\n    const forceUpdate = useUpdateTrigger();\r\n    const value = obj[key];\r\n    const ref = useRef();\r\n    ref.current = value;\r\n    useEffect(function () {\r\n        var cb = function (v) {\r\n            if (v !== ref.current) {\r\n                forceUpdate();\r\n            }\r\n        };\r\n        cb(obj[key]);\r\n        return watch(obj, key, cb);\r\n    }, [obj, key]);\r\n    return value;\r\n}\r\n\r\nexport function useAsync(init, deps, debounce) {\r\n    const state = useState(function () {\r\n        var element;\r\n        var currentPromise;\r\n        var nextResult;\r\n        return {\r\n            loading: false,\r\n            value: undefined,\r\n            error: undefined,\r\n            elementRef: function (current) {\r\n                element = current;\r\n            },\r\n            on: function (event, handler) {\r\n                return container.add(state, event, handler);\r\n            },\r\n            onError: function (handler) {\r\n                return state.on('error', function (e) {\r\n                    return handler.call(state, e.error);\r\n                });\r\n            },\r\n            refresh: function (force) {\r\n                if (debounce && !force) {\r\n                    nextResult = nextResult || deferrable();\r\n                    nextResult.waitFor(delay(debounce));\r\n                    return nextResult.d || (nextResult.d = nextResult.then(function () {\r\n                        nextResult = null;\r\n                        return state.refresh(true);\r\n                    }));\r\n                }\r\n                extend(state, { loading: true, error: undefined });\r\n                var result = makeAsync(init)();\r\n                var promise = always(result, function (resolved, value) {\r\n                    if (!state.disposed && currentPromise === promise) {\r\n                        if (resolved) {\r\n                            extend(state, { loading: false, value: value });\r\n                            container.emit('load', state, { data: value });\r\n                        } else {\r\n                            extend(state, { loading: false, value: undefined, error: value });\r\n                            if (!container.emit('error', state, { error: value })) {\r\n                                throw value;\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n                currentPromise = promise;\r\n                notifyAsync(element || dom.root, promise);\r\n                return result;\r\n            }\r\n        };\r\n    })[0];\r\n    deps = [deps !== false].concat(isArray(deps) || []);\r\n    init = useMemoizedFunction(init);\r\n    useEffect(function () {\r\n        state.disposed = false;\r\n        return function () {\r\n            state.disposed = true;\r\n        };\r\n    }, [state]);\r\n    useEffect(function () {\r\n        if (deps[0]) {\r\n            // keep call to refresh in useEffect to avoid double invocation\r\n            // in strict mode in development environment\r\n            state.refresh();\r\n        }\r\n    }, deps);\r\n    useMemo(function () {\r\n        if (deps[0] && !debounce) {\r\n            state.loading = true;\r\n        }\r\n    }, deps);\r\n    useObservableProperty(state, 'loading');\r\n    return [state.value, state];\r\n}\r\n\r\nexport function useRefInitCallback(init) {\r\n    const args = makeArray(arguments);\r\n    const set = useState(new WeakSet())[0];\r\n    return function (v) {\r\n        if (v && setAdd(set, v)) {\r\n            args[0] = v;\r\n            init.apply(null, args);\r\n        }\r\n    };\r\n}\r\n\r\nexport function useDispose() {\r\n    const dispose = useState(function () {\r\n        const callbacks = [\r\n            function () {\r\n                callbacks.splice(0, callbacks.length - 1);\r\n            }\r\n        ];\r\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\r\n    })[0];\r\n    useEffect(function () {\r\n        return dispose;\r\n    }, [dispose]);\r\n    return dispose;\r\n}\r\n\r\nexport function useErrorHandlerRef() {\r\n    return useErrorHandler.apply(this, arguments).ref;\r\n}\r\n\r\nexport function useErrorHandler() {\r\n    const reemitting = useRef(false);\r\n    const ref = useRef(null);\r\n    const args = makeArray(arguments);\r\n    const handler = useState(function () {\r\n        return {\r\n            ref: function (element) {\r\n                ref.current = element;\r\n                init(element);\r\n            },\r\n            catch: function (filter, callback) {\r\n                var isErrorOf;\r\n                if (callback) {\r\n                    isErrorOf = isFunction(filter) ? is : isErrorWithCode;\r\n                } else {\r\n                    callback = filter;\r\n                }\r\n                return container.add(handler, isErrorOf ? 'error' : 'default', function (e) {\r\n                    if ((isErrorOf || pipe)(e.error, filter)) {\r\n                        return callback(e.error);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n    })[0];\r\n    const reemitError = useCallback(function (error) {\r\n        try {\r\n            reemitting.current = true;\r\n            return dom.emit('error', ref.current || dom.root, { error }, true);\r\n        } finally {\r\n            reemitting.current = false;\r\n        }\r\n    }, []);\r\n    const catchError = useCallback(function (error) {\r\n        return container.emit('error', handler, { error }) || container.emit('default', handler, { error });\r\n    }, []);\r\n    const init = useRefInitCallback(function (element) {\r\n        dom.on(element, 'error', function (e) {\r\n            if (!reemitting.current) {\r\n                return catchError(e.error);\r\n            }\r\n        });\r\n    });\r\n    useEffect(function () {\r\n        return combineFn(map(args, function (v) {\r\n            return v.onError(function (error) {\r\n                return catchError(error) || reemitError(error) || resolve();\r\n            });\r\n        }));\r\n    }, args);\r\n    return handler;\r\n}\r\n","import { useEffect, useMemo, useState } from \"react\";\r\nimport { defineObservableProperty, each, watch } from \"./include/zeta-dom/util.js\";\r\nimport { bind } from \"./include/zeta-dom/domUtil.js\";\r\nimport { useDispose, useUpdateTrigger } from \"./hooks.js\";\r\n\r\nexport function useMediaQuery(query) {\r\n    var mq = useMemo(function () {\r\n        return matchMedia(query);\r\n    }, [query]);\r\n    var state = useState(mq.matches);\r\n    useEffect(function () {\r\n        return bind(mq, 'change', function () {\r\n            state[1](mq.matches);\r\n        });\r\n    }, [mq]);\r\n    return state[0];\r\n}\r\n\r\n/**\r\n * @param {Zeta.Dictionary<string>} breakpoints\r\n */\r\nexport function createBreakpointContext(breakpoints) {\r\n    var values = {};\r\n    watch(values, true);\r\n    each(breakpoints, function (i, v) {\r\n        var mq = matchMedia(v);\r\n        var setValue = defineObservableProperty(values, i, mq.matches, true);\r\n        bind(mq, 'change', function () {\r\n            setValue(mq.matches);\r\n        });\r\n    });\r\n    return {\r\n        breakpoints: Object.freeze(values),\r\n        useBreakpoint: function () {\r\n            var forceUpdate = useUpdateTrigger();\r\n            useEffect(function () {\r\n                return watch(values, forceUpdate);\r\n            }, []);\r\n            return values;\r\n        }\r\n    };\r\n}\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { noop, randomId } from \"./include/zeta-dom/util.js\";\r\n\r\n/** @type {React.Context<import(\"./viewState\").ViewStateProvider | null>} */\r\n// @ts-ignore: type inference issue\r\nconst ViewStateProviderContext = createContext(null);\r\nconst noopStorage = Object.freeze({\r\n    get: noop,\r\n    set: noop\r\n});\r\n\r\nexport const ViewStateProvider = ViewStateProviderContext.Provider;\r\n\r\nexport function useViewState(key) {\r\n    var uniqueId = useState(randomId)[0];\r\n    var provider = useContext(ViewStateProviderContext);\r\n    var state = (provider && key && provider.getState(uniqueId, key)) || noopStorage;\r\n    useEffect(function () {\r\n        return state.dispose && state.dispose.bind(state);\r\n    }, [state]);\r\n    return state;\r\n}\r\n","import { useEffect, useState } from \"react\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport { combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, each, extend, isArray, isFunction, isUndefinedOrNull, keys, makeArray, noop, pick, pipe, single, watch } from \"./include/zeta-dom/util.js\";\r\nimport { useUpdateTrigger } from \"./hooks.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst proto = DataView.prototype;\r\nconst emitter = new ZetaEventContainer();\r\n\r\nfunction compare(a, b) {\r\n    var x = isUndefinedOrNull(a) && -1;\r\n    var y = isUndefinedOrNull(b) && 1;\r\n    if (x || y) {\r\n        return x + y;\r\n    }\r\n    if (typeof a === 'string' || typeof b === 'string') {\r\n        return String(a).localeCompare(b, undefined, { caseFirst: 'upper' });\r\n    }\r\n    return a - b;\r\n}\r\n\r\nexport function DataView(filters, sortBy, sortOrder, pageSize) {\r\n    var self = this;\r\n    var defaults = {\r\n        filters: extend({}, filters),\r\n        sortBy: sortBy,\r\n        sortOrder: sortOrder || (sortBy && 'asc'),\r\n        pageIndex: 0,\r\n        pageSize: pageSize === undefined ? DataView.pageSize : pageSize\r\n    }\r\n    filters = extend({}, filters);\r\n    for (let i in filters) {\r\n        defineObservableProperty(filters, i);\r\n    }\r\n    var state = _(self, {\r\n        filters: Object.freeze(filters),\r\n        defaults: defaults,\r\n        items: [],\r\n    });\r\n    var onUpdated = function () {\r\n        state.sorted = state.items.length ? undefined : [];\r\n        if (this !== self) {\r\n            state.filtered = state.sorted;\r\n        }\r\n        emitter.emitAsync('viewChange', self);\r\n    };\r\n    extend(this, defaults);\r\n    watch(self, onUpdated);\r\n    watch(self.filters, onUpdated);\r\n}\r\n\r\ndefine(DataView, {\r\n    pageSize: 0\r\n});\r\n\r\ndefinePrototype(DataView, {\r\n    itemCount: 0,\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    getView: function (items, callback) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var pageIndex = self.pageIndex || 0;\r\n        var pageSize = self.pageSize || 0;\r\n        if (items !== state.items) {\r\n            state.items = items || [];\r\n            state.filtered = state.items.length ? undefined : [];\r\n            state.sorted = state.filtered;\r\n        }\r\n        callback = callback || function (items) {\r\n            return self.sort(items);\r\n        };\r\n        var filteredItems = state.sorted || (state.sorted = callback.call(self, state.filtered || state.items, self.filters, self.sortBy, self.sortOrder) || []);\r\n        state.filtered = filteredItems;\r\n        if (items) {\r\n            self.itemCount = filteredItems.length;\r\n        }\r\n        return [filteredItems.slice(pageIndex * pageSize, pageSize ? (pageIndex + 1) * pageSize : undefined), filteredItems.length];\r\n    },\r\n    sort: function (items, callback) {\r\n        var self = this;\r\n        items = makeArray(items);\r\n        if (!isFunction(callback)) {\r\n            var prop = callback || self.sortBy;\r\n            if (!prop) {\r\n                return items;\r\n            }\r\n            callback = function (item) {\r\n                return item[prop];\r\n            };\r\n        }\r\n        var dir = self.sortOrder === 'desc' ? -1 : 1;\r\n        var values = new Map();\r\n        each(items, function (i, v) {\r\n            values.set(v, callback(v));\r\n        });\r\n        return items.sort(function (a, b) {\r\n            var x = values.get(a);\r\n            var y = values.get(b);\r\n            return dir * (isArray(x) ? single(x, function (v, i) {\r\n                return compare(v, y[i]);\r\n            }) : compare(x, y));\r\n        });\r\n    },\r\n    toJSON: function () {\r\n        var self = this;\r\n        return extend(pick(self, keys(_(self).defaults)), {\r\n            filters: extend({}, self.filters),\r\n            itemCount: self.itemCount\r\n        });\r\n    },\r\n    reset: function () {\r\n        extend(this, _(this).defaults);\r\n    }\r\n});\r\n\r\ndefineObservableProperty(proto, 'sortBy');\r\ndefineObservableProperty(proto, 'sortOrder');\r\ndefineObservableProperty(proto, 'pageIndex');\r\ndefineObservableProperty(proto, 'pageSize');\r\ndefineObservableProperty(proto, 'filters', {}, function (newValue) {\r\n    return extend(_(this).filters, newValue);\r\n});\r\n\r\nexport function useDataView(persistKey, filters, sortBy, sortOrder, pageSize) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useDataView('__dataView', persistKey, filters, sortBy, sortOrder);\r\n    }\r\n    var viewState = useViewState(persistKey);\r\n    var forceUpdate = useUpdateTrigger();\r\n    var dataView = useState(function () {\r\n        return extend(new DataView(filters, sortBy, sortOrder, pageSize), viewState.get());\r\n    })[0];\r\n    useEffect(function () {\r\n        var state = _(dataView);\r\n        return combineFn(\r\n            dataView.on('viewChange', forceUpdate),\r\n            viewState.onPopState ? viewState.onPopState(function (newValue) {\r\n                viewState.set(dataView.toJSON());\r\n                extend(dataView, newValue || state.defaults);\r\n            }) : noop,\r\n            function () {\r\n                viewState.set(dataView.toJSON());\r\n            }\r\n        );\r\n    }, [dataView]);\r\n    return dataView;\r\n}\r\n","import { createElement, Fragment, lazy, Suspense } from \"react\";\r\nimport { combineFn, each, extend, isFunction, isPlainObject, kv, makeArray, noop } from \"./include/zeta-dom/util.js\";\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function innerTextOrHTML(text) {\r\n    return isPlainObject(text) ? { dangerouslySetInnerHTML: text } : { children: text };\r\n}\r\n\r\nexport function partial(setState, key) {\r\n    var fn = function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n    return key ? fn.bind(0, key) : fn;\r\n}\r\n\r\nexport function combineRef() {\r\n    return combineFn(makeArray(arguments).map(toRefCallback));\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n\r\nexport function withSuspense(factory, fallback) {\r\n    fallback = fallback || Fragment;\r\n    if (isFunction(fallback)) {\r\n        fallback = createElement(fallback);\r\n    }\r\n    const Component = lazy(factory);\r\n    return function (props) {\r\n        return createElement(Suspense, { fallback }, createElement(Component, props));\r\n    };\r\n}\r\n","import { createContext, createElement, forwardRef, useContext, useEffect, useMemo, useRef, useState } from \"react\";\r\nimport { always, any, combineFn, createPrivateStore, define, defineObservableProperty, definePrototype, each, either, exclude, extend, grep, hasOwnProperty, is, isArray, isFunction, isPlainObject, isUndefinedOrNull, keys, makeArray, map, mapGet, mapRemove, noop, pick, pipe, randomId, reject, resolve, resolveAll, setImmediateOnce, single, splice, throws, watch } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport dom, { focus } from \"./include/zeta-dom/dom.js\";\r\nimport { preventLeave } from \"./include/zeta-dom/domLock.js\";\r\nimport { parentsAndSelf } from \"./include/zeta-dom/domUtil.js\";\r\nimport { useMemoizedFunction, useObservableProperty, useUpdateTrigger } from \"./hooks.js\";\r\nimport { combineRef } from \"./util.js\";\r\nimport { useViewState } from \"./viewState.js\";\r\n\r\nconst _ = createPrivateStore();\r\nconst emitter = new ZetaEventContainer();\r\nconst presets = new WeakMap();\r\nconst instances = new WeakMap();\r\nconst changedProps = new Map();\r\nconst fieldTypes = {\r\n    text: TextField,\r\n    toggle: ToggleField,\r\n    choice: ChoiceField\r\n};\r\n\r\n/** @type {React.Context<any>} */\r\nconst FormObjectContext = createContext(null);\r\nconst FormObjectProvider = FormObjectContext.Provider;\r\n\r\nexport function ValidationError(kind, message, args) {\r\n    this.kind = kind;\r\n    this.args = args;\r\n    this.message = message;\r\n}\r\n\r\nfunction isEmpty(value) {\r\n    return isUndefinedOrNull(value) || value === '' || (isArray(value) && !value.length);\r\n}\r\n\r\nfunction hasImplicitError(field) {\r\n    return field.props.required && (field.props.isEmpty || field.preset.isEmpty || isEmpty)(field.value);\r\n}\r\n\r\nfunction cloneValue(value) {\r\n    return _(value) ? extend(true, isArray(value) ? [] : {}, value) : value;\r\n}\r\n\r\nfunction keyFor(value) {\r\n    return (_(value) || '').uniqueId;\r\n}\r\n\r\nfunction resolvePathInfo(form, path) {\r\n    var arr = isArray(path) || path.split('.');\r\n    var value = form.data;\r\n    var parent = value;\r\n    for (var i = 0, len = arr.length; i < len; i++) {\r\n        if (!hasOwnProperty(value, arr[i])) {\r\n            return {\r\n                name: arr[len - 1],\r\n                parent: i === len - 1 ? value : null\r\n            };\r\n        }\r\n        parent = value;\r\n        value = value[arr[i]];\r\n    }\r\n    return {\r\n        exists: true,\r\n        name: arr[len - 1],\r\n        value: value,\r\n        parent: parent\r\n    };\r\n}\r\n\r\nfunction getField(form, path) {\r\n    var prop = resolvePathInfo(form, path);\r\n    var key = keyFor(prop.parent);\r\n    return key && _(form).fields[key + '.' + prop.name];\r\n}\r\n\r\nfunction getPath(form, obj, name) {\r\n    if (obj === form.data) {\r\n        return name;\r\n    }\r\n    var paths = _(form).paths;\r\n    var path = [name];\r\n    for (var key = keyFor(obj); key = paths[key]; key = key.slice(0, 8)) {\r\n        path.unshift(key.slice(9));\r\n    }\r\n    return resolvePathInfo(form, path).parent === obj ? path.join('.') : '';\r\n}\r\n\r\nfunction emitDataChangeEvent() {\r\n    each(changedProps, function (form) {\r\n        var state = _(form);\r\n        var props = mapRemove(changedProps, form);\r\n        for (var i in props) {\r\n            while (i = i.replace(/(^|\\.)[^.]+$/, '')) {\r\n                props[i] = true;\r\n            }\r\n        }\r\n        emitter.emit('dataChange', form, keys(props));\r\n        if (form.validateOnChange) {\r\n            validateFields(form, grep(state.fields, function (v) {\r\n                return props[v.path] && v.props.validateOnChange !== false;\r\n            }));\r\n        }\r\n        if (form.preventLeave && !state.unlock) {\r\n            var promise = new Promise(function (resolve) {\r\n                state.unlock = function () {\r\n                    state.unlock = null;\r\n                    resolve();\r\n                };\r\n            });\r\n            preventLeave(state.ref || dom.root, promise, function () {\r\n                return emitter.emit('beforeLeave', form) || reject();\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nfunction handleDataChange(callback) {\r\n    var local;\r\n    var map = handleDataChange.d || (handleDataChange.d = local = new Set());\r\n    try {\r\n        callback();\r\n    } finally {\r\n        if (map === local) {\r\n            each(local, function (i, v) {\r\n                v.onChange(v.value);\r\n            });\r\n            handleDataChange.d = null;\r\n        }\r\n    }\r\n}\r\nhandleDataChange.d = null;\r\n\r\nfunction createDataObject(context, initialData) {\r\n    var state = _(context);\r\n    var target = isArray(initialData) ? [] : {};\r\n    var uniqueId = randomId();\r\n    var onChange = function (p) {\r\n        var path = getPath(context, proxy, p);\r\n        if (path) {\r\n            // ensure field associated with parent data object got notified\r\n            for (var key = uniqueId; key = state.paths[key]; key = key.slice(0, 8)) {\r\n                if (state.fields[key]) {\r\n                    handleDataChange.d.add(state.fields[key]);\r\n                }\r\n            }\r\n            mapGet(changedProps, context, Object)[path] = true;\r\n            setImmediateOnce(emitDataChangeEvent);\r\n            return true;\r\n        }\r\n    };\r\n    var setValue = function (p, v) {\r\n        if (isPlainObject(v) || isArray(v)) {\r\n            // ensure changes to nested data objects\r\n            // emits data change event to correct form context\r\n            if ((_(v) || '').context !== context) {\r\n                v = createDataObject(context, v);\r\n            }\r\n            state.paths[keyFor(v)] = uniqueId + '.' + p;\r\n        }\r\n        target[p] = v;\r\n        return v;\r\n    };\r\n    var deleteValue = function (p) {\r\n        delete target[p];\r\n    };\r\n    var proxy = new Proxy(target, {\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && (t[p] !== v || !(p in t))) {\r\n                handleDataChange(function () {\r\n                    var field = state.fields[uniqueId + '.' + p];\r\n                    var prev = t[p];\r\n                    if (isArray(t)) {\r\n                        if (p === 'length') {\r\n                            // check for truncated indexes that would be deleted without calling the trap\r\n                            for (var index = prev - 1; index >= v; index--) {\r\n                                onChange(index);\r\n                            }\r\n                            t[p] = v;\r\n                            return true;\r\n                        }\r\n                    } else {\r\n                        if (_(v)) {\r\n                            throws(\"Cannot assign proxied data object\");\r\n                        }\r\n                        // apply changes to existing object or array when assigning new object or array\r\n                        // so that fields of the same path can have consistent key and state\r\n                        if (isArray(v) && isArray(prev)) {\r\n                            prev.splice.apply(prev, [0, prev.length].concat(v));\r\n                            return true;\r\n                        }\r\n                        if (isPlainObject(v) && _(prev)) {\r\n                            for (var i in exclude(prev, v)) {\r\n                                delete prev[i];\r\n                            }\r\n                            extend(prev, v);\r\n                            return true;\r\n                        }\r\n                    }\r\n                    v = setValue(p, v);\r\n                    if (onChange(p) && field) {\r\n                        field.value = v;\r\n                        handleDataChange.d.add(field);\r\n                    }\r\n                });\r\n            }\r\n            return true;\r\n        },\r\n        deleteProperty: function (t, p) {\r\n            if (typeof p === 'string' && p in t) {\r\n                handleDataChange(function () {\r\n                    deleteValue(p);\r\n                    onChange(p);\r\n                });\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n    _(proxy, {\r\n        context,\r\n        uniqueId,\r\n        set: setValue,\r\n        delete: deleteValue\r\n    });\r\n    each(initialData, function (i, v) {\r\n        setValue(i, v);\r\n    });\r\n    return proxy;\r\n}\r\n\r\nfunction createFieldState(initialValue) {\r\n    var field = {\r\n        initialValue: initialValue,\r\n        value: initialValue,\r\n        error: '',\r\n        preset: {},\r\n        onChange: function (v) {\r\n            if (field.props.onChange) {\r\n                field.props.onChange(cloneValue(v));\r\n            }\r\n        },\r\n        setValue: function (v) {\r\n            v = isFunction(v) ? v(field.value) : v;\r\n            if (field.controlled) {\r\n                field.onChange(v);\r\n            } else {\r\n                field.value = v;\r\n            }\r\n        },\r\n        setError: function (v) {\r\n            field.error = isFunction(v) ? v(field.error) : v;\r\n            (field.form || {}).isValid = null;\r\n        },\r\n        elementRef: function (v) {\r\n            field.element = v;\r\n        }\r\n    };\r\n    watch(field, true);\r\n    defineObservableProperty(field, 'value', initialValue, function (newValue, oldValue) {\r\n        newValue = (field.preset.normalizeValue || pipe)(newValue, field.props);\r\n        if (newValue !== oldValue && _(oldValue)) {\r\n            field.dict[field.name] = newValue;\r\n            return oldValue;\r\n        }\r\n        return newValue;\r\n    });\r\n    defineObservableProperty(field, 'error', '', function (v) {\r\n        return isFunction(v) || is(v, ValidationError) ? wrapErrorResult(field, v) : v || '';\r\n    });\r\n    watch(field, 'value', function (v) {\r\n        if (field.dict) {\r\n            field.dict[field.name] = v;\r\n        } else if (!field.controlled) {\r\n            field.onChange(v);\r\n        }\r\n    });\r\n    watch(field, 'error', function (v) {\r\n        if (field.key) {\r\n            emitter.emit('validationChange', field.form, {\r\n                name: field.path,\r\n                isValid: !v,\r\n                message: String(v)\r\n            });\r\n        }\r\n    });\r\n    return field;\r\n}\r\n\r\nfunction useFormFieldInternal(form, state, field, preset, props, controlled, dict, key) {\r\n    var hasErrorProp = 'error' in props;\r\n    var prevKey = field.key || key;\r\n    extend(field, { form, props, preset, controlled, dict, key });\r\n    if (form && key) {\r\n        field.name = key.slice(9);\r\n        field.path = getPath(form, dict, field.name);\r\n        if (prevKey !== key) {\r\n            field.locks = [];\r\n            if (!hasErrorProp) {\r\n                field.error = '';\r\n            }\r\n        }\r\n        state.fields[key] = field;\r\n    }\r\n    if (hasErrorProp) {\r\n        field.error = props.error;\r\n    }\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            state.fields[key] = field;\r\n        }\r\n        return function () {\r\n            if (state && state.fields[key] === field) {\r\n                delete state.fields[key];\r\n                if (field.props.clearWhenUnmount) {\r\n                    _(dict).delete(key.slice(9));\r\n                }\r\n                state.setValid();\r\n            }\r\n        };\r\n    }, [state, field, key]);\r\n    useEffect(function () {\r\n        if (state) {\r\n            state.setValid();\r\n        }\r\n    }, [state, field.error, props.disabled, props.required]);\r\n}\r\n\r\nfunction validateFields(form, fields) {\r\n    var state = _(form);\r\n    var imlicitErrors = map(fields, hasImplicitError);\r\n    var validate = function (field) {\r\n        var name = field.path;\r\n        var value = field.value;\r\n        return emitter.emit('validate', form, { name, value }) || ((field.props || '').onValidate || noop)(value, name, form);\r\n    };\r\n    var promises = fields.map(function (v) {\r\n        var locks = v.locks || (v.locks = []);\r\n        var prev = locks[0];\r\n        if (prev) {\r\n            // debounce async validation\r\n            return locks[1] || (locks[1] = always(locks[0], function () {\r\n                var next = validate(v);\r\n                always(next, function () {\r\n                    // dismiss effects of previous validation if later one resolves earlier\r\n                    // so that validity always reflects on latest data\r\n                    if (locks[0] === prev) {\r\n                        locks.shift();\r\n                    }\r\n                });\r\n                return next;\r\n            }));\r\n        }\r\n        locks[0] = resolve(validate(v));\r\n        return locks[0];\r\n    });\r\n    return resolveAll(promises).then(function (result) {\r\n        fields.forEach(function (v, i) {\r\n            // checks if current validation is of the latest\r\n            if (v.locks[0] === promises[i]) {\r\n                v.locks.shift();\r\n                v.error = result[i];\r\n            }\r\n            result[i] = result[i] || imlicitErrors[i];\r\n        });\r\n        state.setValid();\r\n        return !any(result);\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(field, error) {\r\n    return {\r\n        toString: function () {\r\n            if (is(error, ValidationError)) {\r\n                return single([field.props, field.form || '', FormContext], function (v) {\r\n                    return (v.formatError || noop).call(v, error, field.path || null, field.props, field.form);\r\n                }) || error.message;\r\n            }\r\n            return error(field.props || {});\r\n        }\r\n    };\r\n}\r\n\r\nfunction normalizeOptions(options) {\r\n    if (typeof options === 'boolean') {\r\n        options = {\r\n            validateOnChange: options\r\n        };\r\n    }\r\n    return extend({\r\n        autoPersist: true,\r\n        preventLeave: false,\r\n        validateOnChange: true\r\n    }, options);\r\n}\r\n\r\nexport function FormContext(initialData, options, viewState) {\r\n    var self = this;\r\n    var fields = {};\r\n    var state = _(self, {\r\n        fields: fields,\r\n        viewState: viewState,\r\n        paths: {},\r\n        initialData: initialData,\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v) {\r\n                return !v.props.disabled && (v.error || hasImplicitError(v));\r\n            });\r\n        })\r\n    });\r\n    extend(self, normalizeOptions(options));\r\n    self.ref = function (element) {\r\n        state.ref = element;\r\n        if (element) {\r\n            instances.set(element, self);\r\n        }\r\n    };\r\n    self.isValid = true;\r\n    self.data = createDataObject(self, viewState.get() || state.initialData);\r\n}\r\n\r\ndefine(FormContext, {\r\n    get: function (element) {\r\n        return single(parentsAndSelf(element), instances.get.bind(instances)) || null;\r\n    }\r\n});\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        return key ? (getField(this, key) || '').element : _(this).ref;\r\n    },\r\n    focus: function (key) {\r\n        var element = this.element(key);\r\n        return !!element && focus(element);\r\n    },\r\n    on: function (event, handler) {\r\n        return emitter.add(this, event, handler);\r\n    },\r\n    persist: function () {\r\n        var self = this;\r\n        _(self).viewState.set(self.toJSON());\r\n        self.autoPersist = false;\r\n    },\r\n    restore: function () {\r\n        var self = this;\r\n        var data = _(self).viewState.get();\r\n        if (data) {\r\n            self.reset(data);\r\n        }\r\n        return !!data;\r\n    },\r\n    reset: function (data) {\r\n        var self = this;\r\n        var state = _(self);\r\n        var dict = _(self.data);\r\n        for (var i in self.data) {\r\n            dict.delete(i);\r\n        }\r\n        each(data || state.initialData, function (i, v) {\r\n            dict.set(i, v);\r\n        });\r\n        each(state.fields, function (i, v) {\r\n            var prop = resolvePathInfo(self, v.path);\r\n            if (v.controlled) {\r\n                v.onChange(prop.exists ? prop.value : v.initialValue);\r\n            } else if (prop.exists) {\r\n                v.value = prop.value;\r\n            }\r\n            v.error = null;\r\n        });\r\n        state.setValid();\r\n        (state.unlock || noop)();\r\n        emitter.emit('reset', self);\r\n    },\r\n    getValue: function (key) {\r\n        return cloneValue(resolvePathInfo(this, key).value);\r\n    },\r\n    setValue: function (key, value) {\r\n        var prop = resolvePathInfo(this, key);\r\n        if (prop.parent) {\r\n            prop.parent[prop.name] = cloneValue(value);\r\n        }\r\n    },\r\n    getError: function (key) {\r\n        return String((getField(this, key) || '').error || '');\r\n    },\r\n    setError: function (key, error) {\r\n        (getField(this, key) || {}).error = error;\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var fields = _(self).fields;\r\n        var prefix = makeArray(arguments);\r\n        if (!prefix[0]) {\r\n            return validateFields(self, grep(fields, function (v) {\r\n                return !v.props.disabled;\r\n            }));\r\n        }\r\n        return validateFields(self, grep(fields, function (v) {\r\n            return any(prefix, function (w) {\r\n                var len = w.length;\r\n                return v.path.slice(0, len) === w && (!v.path[len] || v.path[len] === '.');\r\n            });\r\n        }));\r\n    },\r\n    toJSON: function () {\r\n        return extend(true, {}, this.data);\r\n    }\r\n});\r\n\r\nexport function useFormContext(persistKey, initialData, options) {\r\n    if (typeof persistKey !== 'string') {\r\n        return useFormContext('', persistKey, initialData);\r\n    }\r\n    const viewState = useViewState(persistKey);\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, options, viewState);\r\n    })[0];\r\n    const forceUpdate = useUpdateTrigger();\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return combineFn(\r\n            form.on('dataChange', forceUpdate),\r\n            form.on('reset', forceUpdate),\r\n            function () {\r\n                (_(form).unlock || noop)();\r\n                if (form.autoPersist) {\r\n                    form.persist();\r\n                }\r\n            }\r\n        );\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(type, props, defaultValue, prop) {\r\n    if (typeof type === 'string') {\r\n        type = fieldTypes[type];\r\n    }\r\n    if (!isFunction(type)) {\r\n        prop = defaultValue;\r\n        defaultValue = props;\r\n        props = type;\r\n        type = '';\r\n    }\r\n    const preset = type ? mapGet(presets, type, type) : {};\r\n    prop = prop || preset.valueProperty || 'value';\r\n\r\n    const dict = useContext(FormObjectContext);\r\n    const form = dict && _(dict).context;\r\n    const state = form && _(form);\r\n    const name = props.name || '';\r\n    const key = form && name && (keyFor(dict) + '.' + name);\r\n    const controlled = prop in props;\r\n\r\n    const field = useState(function () {\r\n        var initialValue = controlled ? props[prop] : (preset.normalizeValue || pipe)(form && name in dict ? dict[name] : defaultValue !== undefined ? defaultValue : preset.defaultValue);\r\n        return createFieldState(initialValue);\r\n    })[0];\r\n    useFormFieldInternal(form, state, field, preset, props, controlled, dict, key);\r\n    if (controlled) {\r\n        field.value = props[prop];\r\n    }\r\n    if (form && key) {\r\n        if (!(name in dict)) {\r\n            field.value = _(dict).set(name, field.initialValue);\r\n        } else if (!controlled) {\r\n            field.value = dict[name];\r\n        }\r\n    }\r\n    const state1 = (preset.postHook || pipe)({\r\n        form: form,\r\n        key: key,\r\n        path: field.path,\r\n        value: field.value,\r\n        error: String(field.error),\r\n        setValue: field.setValue,\r\n        setError: field.setError,\r\n        elementRef: field.elementRef\r\n    }, props);\r\n    state1.value = useObservableProperty(field, 'value');\r\n    state1.error = String(useObservableProperty(field, 'error'));\r\n    return state1;\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n\r\nexport function registerFieldType(type, options) {\r\n    if (isFunction(options)) {\r\n        options = {\r\n            postHook: options\r\n        };\r\n    }\r\n    fieldTypes[type] = function () {\r\n        return options;\r\n    };\r\n}\r\n\r\nexport const Form = forwardRef(function (props, ref) {\r\n    const form = props.context;\r\n    const onSubmit = function (e) {\r\n        if (!props.action) {\r\n            e.preventDefault();\r\n        }\r\n        (props.onSubmit || noop).call(this, e);\r\n    };\r\n    const onReset = function (e) {\r\n        e.preventDefault();\r\n        form.reset();\r\n        (props.onReset || noop).call(this, e);\r\n    };\r\n    extend(form, pick(props, ['enterKeyHint', 'preventLeave', 'formatError']));\r\n    return createElement(FormObjectProvider, { value: form.data },\r\n        createElement('form', extend(exclude(props, ['context', 'enterKeyHint', 'preventLeave', 'formatError']), { ref: combineRef(ref, form.ref), onSubmit, onReset })));\r\n});\r\n\r\nexport function FormContextProvider(props) {\r\n    return createElement(FormObjectProvider, { value: props.value.data }, props.children);\r\n}\r\n\r\nexport function FormArray(props) {\r\n    return FormObject(extend({}, props, { defaultValue: [] }));\r\n}\r\n\r\nexport function FormObject(props) {\r\n    var dict = useContext(FormObjectContext);\r\n    if (!_(dict)) {\r\n        throws('Missing form context');\r\n    }\r\n    var fieldRef = useRef();\r\n    var form = _(dict).context;\r\n    var state = _(form);\r\n    var name = props.name;\r\n    var value = props.value;\r\n    if (name) {\r\n        value = isPlainObject(dict[name]) || isArray(dict[name]) || props.defaultValue || {};\r\n        value = _(dict).set(name, value);\r\n    } else if (!(_(value) || '').context) {\r\n        throws('Value must be a data object or array');\r\n    }\r\n    // field state registered by useFormField has a higher priority\r\n    // create own field state only when needed\r\n    var key = state.paths[keyFor(value)];\r\n    if (typeof (state.fields[key] || '').controlled !== 'boolean') {\r\n        var field = fieldRef.current || (fieldRef.current = createFieldState(value));\r\n        useFormFieldInternal(form, state, field, {}, props, 0, dict, key);\r\n        field.value = value;\r\n    } else {\r\n        useEffect(noop, [null]);\r\n        useEffect(noop, [null]);\r\n    }\r\n    var children = props.children;\r\n    if (isFunction(children)) {\r\n        children = children(value);\r\n    }\r\n    return createElement(FormObjectProvider, { value }, children);\r\n}\r\n\r\ndefine(FormObject, { keyFor });\r\n\r\nfunction normalizeChoiceItems(items) {\r\n    return useMemo(function () {\r\n        return (items || []).map(function (v) {\r\n            return typeof v === 'object' ? v : { label: String(v), value: v };\r\n        });\r\n    }, [items]);\r\n}\r\n\r\nexport function TextField() {\r\n    this.defaultValue = '';\r\n    this.postHook = function (state, props) {\r\n        var form = state.form;\r\n        var inputProps = pick(props, ['type', 'autoComplete', 'maxLength', 'inputMode', 'placeholder', 'enterKeyHint']);\r\n        if (props.type === 'password' && !inputProps.autoComplete) {\r\n            inputProps.autoComplete = 'current-password';\r\n        }\r\n        inputProps.type = inputProps.type || 'text';\r\n        inputProps.enterKeyHint = inputProps.enterKeyHint || (form && form.enterKeyHint);\r\n        return extend(state, {\r\n            inputProps: inputProps\r\n        });\r\n    };\r\n}\r\n\r\nexport function ChoiceField() {\r\n    this.defaultValue = '';\r\n    this.postHook = function (state, props) {\r\n        var items = normalizeChoiceItems(props.items);\r\n        var selectedIndex = items.findIndex(function (v) {\r\n            return v.value === state.value;\r\n        });\r\n        useEffect(() => {\r\n            if (selectedIndex < 0) {\r\n                selectedIndex = props.allowUnselect || !items[0] ? -1 : 0;\r\n                state.setValue(selectedIndex < 0 ? '' : items[0].value);\r\n            }\r\n        });\r\n        return extend(state, {\r\n            items: items,\r\n            selectedIndex: selectedIndex,\r\n            selectedItem: items[selectedIndex]\r\n        });\r\n    };\r\n}\r\n\r\nexport function MultiChoiceField() {\r\n    this.defaultValue = [];\r\n    this.normalizeValue = function (newValue) {\r\n        return isArray(newValue) || makeArray(newValue);\r\n    };\r\n    this.postHook = function (state, props) {\r\n        var allowCustomValues = props.allowCustomValues || !props.items;\r\n        var items = normalizeChoiceItems(props.items);\r\n        var isUnknown = function (value) {\r\n            return !items.some(function (v) {\r\n                return v.value === value;\r\n            });\r\n        };\r\n        var toggleValue = useMemoizedFunction(function (value, selected) {\r\n            if (allowCustomValues || !isUnknown(value)) {\r\n                state.setValue(function (arr) {\r\n                    var index = arr.indexOf(value);\r\n                    if (isUndefinedOrNull(selected) || either(index < 0, selected)) {\r\n                        arr = makeArray(arr);\r\n                        if (index < 0) {\r\n                            arr.push(value);\r\n                        } else {\r\n                            arr.splice(index, 1);\r\n                        }\r\n                    }\r\n                    return arr;\r\n                });\r\n            }\r\n        });\r\n        useEffect(() => {\r\n            if (!allowCustomValues) {\r\n                var cur = makeArray(state.value);\r\n                var arr = splice(cur, isUnknown);\r\n                if (arr.length) {\r\n                    state.setValue(cur);\r\n                }\r\n            }\r\n        });\r\n        return extend(state, {\r\n            items: items,\r\n            toggleValue: toggleValue\r\n        });\r\n    };\r\n}\r\n\r\nexport function ToggleField() {\r\n    this.defaultValue = false;\r\n    this.valueProperty = 'checked';\r\n    this.normalizeValue = function (value) {\r\n        return !!value;\r\n    };\r\n    this.isEmpty = function (value) {\r\n        return !value;\r\n    };\r\n}\r\n\r\nexport function NumericField() {\r\n    this.normalizeValue = function (newValue) {\r\n        newValue = +newValue;\r\n        return isNaN(newValue) ? undefined : newValue;\r\n    };\r\n    this.postHook = function (state, props) {\r\n        var value = state.value;\r\n        var min = props.min;\r\n        var max = props.max;\r\n        var step = props.step;\r\n        var allowEmpty = props.allowEmpty;\r\n        useEffect(function () {\r\n            var rounded = step > 0 ? Math.round(value / step) * step : value;\r\n            if (rounded < min || (isNaN(rounded) && !allowEmpty)) {\r\n                rounded = min || 0;\r\n            } else if (rounded > max) {\r\n                rounded = max;\r\n            }\r\n            if (rounded !== value) {\r\n                state.setValue(rounded);\r\n            }\r\n        }, [value, min, max, step, allowEmpty]);\r\n        return state;\r\n    };\r\n}\r\n","import zeta from \"zeta-dom\";const _defaultExport = zeta; export default _defaultExport;","import * as all from \"./index.js\";\r\nexport default all;\r\n\r\nimport zeta from \"./include/zeta-dom/index.js\";\r\nzeta.react = all;\r\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__359__","__WEBPACK_EXTERNAL_MODULE__654__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","zeta","noop","pipe","either","is","isUndefinedOrNull","isArray","isFunction","isPlainObject","isThenable","makeArray","isArrayLike","extend","each","map","grep","splice","any","single","kv","pick","fill","exclude","mapGet","mapObject","mapRemove","setAdd","arrRemove","combineFn","equal","createPrivateStore","executeOnce","setImmediateOnce","setTimeout","setTimeoutOnce","setInterval","setIntervalSafe","setImmediate","throws","isErrorWithCode","throwNotFunction","errorWithCode","keys","values","getOwnPropertyDescriptors","definePrototype","defineObservableProperty","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","watch","randomId","watchOnce","watchable","inherit","freeze","deepFreeze","iequal","resolve","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","reject","always","resolveAll","deferrable","retryable","delay","catchAsync","setPromiseTimeout","makeAsync","parentsAndSelf","domReady","tagName","isVisible","matchSelector","comparePosition","connected","containsOrEquals","acceptNode","combineNodeFilters","iterateNode","iterateNodeToArray","getCommonAncestor","bind","selectIncludeSelf","selectClosestRelative","createNodeIterator","createTreeWalker","bindUntil","dispatchDOMMouseEvent","removeNode","getClass","setClass","getScrollOffset","getScrollParent","getContentRect","scrollBy","scrollIntoView","makeSelection","getRect","getRects","toPlainRect","rectEquals","rectCovers","rectIntersects","pointInRect","mergeRect","elementFromPoint","focus","textInputAllowed","beginDrag","beginPinchZoom","getShortcut","setShortcut","focusable","focused","setModal","releaseModal","retainFocus","releaseFocus","iterateFocusPath","notifyAsync","lock","locked","cancelLock","subscribeAsync","preventLeave","ZetaEventContainer","fnWeakMap","WeakMap","container","useUpdateTrigger","setState","useState","useCallback","useMemoizedFunction","callback","fn","cb","apply","this","arguments","set","useObservableProperty","forceUpdate","ref","useRef","current","useEffect","v","useAsync","init","deps","debounce","state","element","currentPromise","nextResult","loading","error","elementRef","on","event","handler","add","onError","e","refresh","force","waitFor","then","result","promise","resolved","disposed","emit","data","dom","concat","useMemo","useRefInitCallback","args","WeakSet","useDispose","dispose","callbacks","length","push","useErrorHandlerRef","useErrorHandler","reemitting","catch","filter","isErrorOf","reemitError","catchError","useMediaQuery","query","mq","matchMedia","matches","createBreakpointContext","breakpoints","i","setValue","useBreakpoint","ViewStateProviderContext","createContext","noopStorage","ViewStateProvider","Provider","useViewState","uniqueId","provider","useContext","getState","_","proto","DataView","emitter","compare","a","b","x","y","String","localeCompare","caseFirst","filters","sortBy","sortOrder","pageSize","defaults","pageIndex","items","onUpdated","sorted","filtered","emitAsync","useDataView","persistKey","viewState","dataView","onPopState","newValue","toJSON","classNames","className","process","j","getClassNames","join","innerTextOrHTML","text","dangerouslySetInnerHTML","children","partial","combineRef","toRefCallback","withSuspense","fallback","Fragment","createElement","Component","lazy","props","Suspense","itemCount","getView","sort","filteredItems","slice","item","dir","Map","reset","presets","instances","changedProps","fieldTypes","TextField","toggle","ToggleField","choice","ChoiceField","FormObjectContext","FormObjectProvider","ValidationError","kind","message","isEmpty","hasImplicitError","field","required","preset","cloneValue","keyFor","resolvePathInfo","form","path","arr","split","parent","len","name","exists","getField","fields","getPath","paths","unshift","emitDataChangeEvent","replace","validateOnChange","validateFields","unlock","Promise","handleDataChange","local","Set","onChange","createDataObject","context","initialData","target","p","proxy","deleteValue","Proxy","t","prev","index","deleteProperty","delete","createFieldState","initialValue","controlled","setError","isValid","oldValue","normalizeValue","dict","toString","FormContext","formatError","wrapErrorResult","useFormFieldInternal","hasErrorProp","prevKey","locks","clearWhenUnmount","setValid","disabled","imlicitErrors","validate","onValidate","promises","next","shift","forEach","options","autoPersist","normalizeOptions","useFormContext","persist","useFormField","type","defaultValue","valueProperty","state1","postHook","combineValidators","validators","reduce","registerFieldType","restore","getValue","getError","prefix","w","Form","forwardRef","onSubmit","action","preventDefault","onReset","FormContextProvider","FormArray","FormObject","fieldRef","normalizeChoiceItems","label","inputProps","autoComplete","enterKeyHint","selectedIndex","findIndex","allowUnselect","selectedItem","MultiChoiceField","allowCustomValues","isUnknown","some","toggleValue","selected","indexOf","cur","NumericField","isNaN","min","max","step","allowEmpty","rounded","Math","round","all"],"sourceRoot":""}