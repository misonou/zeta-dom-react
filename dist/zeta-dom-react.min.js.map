{"version":3,"file":"zeta-dom-react.min.js","mappings":"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","sources":["webpack://zeta-dom-react/webpack/universalModuleDefinition","webpack://zeta-dom-react/external umd {\"commonjs\":\"react\",\"commonjs2\":\"react\",\"amd\":\"react\",\"root\":\"React\"}","webpack://zeta-dom-react/external umd {\"commonjs\":\"zeta-dom\",\"commonjs2\":\"zeta-dom\",\"amd\":\"zeta-dom\",\"root\":\"zeta\"}","webpack://zeta-dom-react/webpack/bootstrap","webpack://zeta-dom-react/webpack/runtime/define property getters","webpack://zeta-dom-react/webpack/runtime/hasOwnProperty shorthand","webpack://zeta-dom-react/webpack/runtime/make namespace object","webpack://zeta-dom-react/./tmp/zeta-dom/util.js","webpack://zeta-dom-react/./tmp/zeta-dom/events.js","webpack://zeta-dom-react/./tmp/zeta-dom/dom.js","webpack://zeta-dom-react/./src/include/zeta-dom/dom.js","webpack://zeta-dom-react/./src/hooks.js","webpack://zeta-dom-react/./src/form.js","webpack://zeta-dom-react/./src/util.js","webpack://zeta-dom-react/./src/entry.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"zeta-dom-react\", [\"react\", \"zeta-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"zeta-dom-react\"] = factory(require(\"react\"), require(\"zeta-dom\"));\n\telse\n\t\troot[\"zeta-dom-react\"] = factory(root[\"React\"], root[\"zeta\"]);\n})(self, function(__WEBPACK_EXTERNAL_MODULE__359__, __WEBPACK_EXTERNAL_MODULE__654__) {\nreturn ","module.exports = __WEBPACK_EXTERNAL_MODULE__359__;","module.exports = __WEBPACK_EXTERNAL_MODULE__654__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import zeta from \"zeta-dom\";const { noop, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeoutOnce, setImmediate, setImmediateOnce, throwNotFunction, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout } = zeta.util; export { noop, either, is, isUndefinedOrNull, isArray, isFunction, isThenable, isPlainObject, isArrayLike, makeArray, extend, each, map, grep, splice, any, single, kv, pick, exclude, mapGet, mapRemove, arrRemove, setAdd, equal, combineFn, executeOnce, createPrivateStore, setTimeoutOnce, setImmediate, setImmediateOnce, throwNotFunction, keys, values, hasOwnProperty, getOwnPropertyDescriptors, define, definePrototype, defineOwnProperty, defineGetterProperty, defineHiddenProperty, defineAliasProperty, defineObservableProperty, watch, watchOnce, watchable, inherit, deepFreeze, iequal, randomId, repeat, camel, hyphenate, ucfirst, lcfirst, trim, matchWord, htmlDecode, resolve, reject, always, resolveAll, catchAsync, setPromiseTimeout };","import zeta from \"zeta-dom\";const { EventContainer: ZetaEventContainer } = zeta; export { ZetaEventContainer };","import zeta from \"zeta-dom\";const _defaultExport = zeta.dom; export default _defaultExport;const { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, retainFocus, releaseFocus, focus } = zeta.dom; export { textInputAllowed, beginDrag, beginPinchZoom, getShortcut, setShortcut, focusable, focused, setModal, retainFocus, releaseFocus, focus };","import dom from \"zeta-dom/dom\";\r\nexport * from \"zeta-dom/dom\";\r\nexport default dom;\r\n","import { useEffect, useState } from \"react\";\nimport { always, combineFn, extend, isArray, makeArray, resolve, setAdd, watch } from \"./include/zeta-dom/util.js\";\n\nconst fnWeakMap = new WeakMap();\n\nexport function useMemoizedFunction(callback) {\n    const fn = useState(function () {\n        return function fn() {\n            const cb = fnWeakMap.get(fn);\n            return cb && cb.apply(this, arguments);\n        };\n    })[0];\n    fnWeakMap.set(fn, callback);\n    return fn;\n}\n\nexport function useObservableProperty(obj, key) {\n    const sValue = useState(obj[key]);\n    const value = sValue[0], setValue = sValue[1];\n    useEffect(function () {\n        setValue(obj[key]);\n        return watch(obj, key, function (v) {\n            setValue(function () {\n                return v;\n            });\n        });\n    }, [obj, key]);\n    return value;\n}\n\nexport function useAsync(init, autoload) {\n    const state = useState(function () {\n        return {\n            loading: true,\n            refresh: function () {\n                extend(state, { loading: true, error: undefined });\n                always(resolve().then(init), function (resolved, value) {\n                    if (!state.disposed) {\n                        if (resolved) {\n                            extend(state, { loading: false, value: value });\n                        } else {\n                            extend(state, { loading: false, value: undefined, error: value });\n                        }\n                    }\n                });\n            }\n        };\n    })[0];\n    const deps = isArray(autoload);\n    init = useMemoizedFunction(init);\n    autoload = autoload !== false;\n\n    useObservableProperty(state, 'loading');\n    useEffect(function () {\n        return function () {\n            state.disposed = true;\n        };\n    }, [state]);\n    useEffect(function () {\n        if (autoload) {\n            state.refresh();\n        }\n    }, [state, autoload].concat(deps));\n    return [state.value, state];\n}\n\nexport function useRefInitCallback(init) {\n    const args = makeArray(arguments);\n    const set = useState(new WeakSet())[0];\n    return function (v) {\n        if (v && setAdd(set, v)) {\n            args[0] = v;\n            init.apply(null, args);\n        }\n    };\n}\n\nexport function useDispose() {\n    const dispose = useState(function () {\n        const callbacks = [\n            function () {\n                callbacks.splice(0, callbacks.length - 1);\n            }\n        ];\n        return extend(combineFn(callbacks), { push: callbacks.splice.bind(callbacks, -1, 0) });\n    })[0];\n    useEffect(function () {\n        return dispose;\n    }, [dispose]);\n    return dispose;\n}\n","import { createContext, useContext, useEffect, useRef, useState } from \"react\";\r\nimport { any, combineFn, createPrivateStore, defineObservableProperty, definePrototype, each, extend, grep, isFunction, keys, makeArray, resolve, resolveAll } from \"./include/zeta-dom/util.js\";\r\nimport { ZetaEventContainer } from \"./include/zeta-dom/events.js\";\r\nimport dom from \"./include/zeta-dom/dom.js\";\r\nimport { useMemoizedFunction, useObservableProperty } from \"./hooks.js\";\r\n\r\nconst _ = createPrivateStore();\r\n\r\n/** @type {React.Context<import (\"./form\").FormContext>} */\r\n// @ts-ignore: type inference issue\r\nconst _FormContext = createContext(null);\r\n\r\nexport const FormContextProvider = _FormContext.Provider;\r\n\r\nfunction createDataObject(context, eventContainer, initialData) {\r\n    return new Proxy(extend({}, initialData), {\r\n        get: function (t, p) {\r\n            if (typeof p === 'string') {\r\n                return t[p];\r\n            }\r\n        },\r\n        set: function (t, p, v) {\r\n            if (typeof p === 'string' && t[p] !== v) {\r\n                if (p in t) {\r\n                    eventContainer.emitAsync('dataChange', context, [p], {}, function (v, a) {\r\n                        return v.concat(a);\r\n                    });\r\n                }\r\n                t[p] = v;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n}\r\n\r\nfunction wrapErrorResult(state, key, error) {\r\n    return {\r\n        toString: function () {\r\n            return error(extend({}, state.fields[key]));\r\n        }\r\n    };\r\n}\r\n\r\nexport function FormContext(initialData, validateOnChange) {\r\n    var self = this;\r\n    var fields = {};\r\n    var errors = {};\r\n    var eventContainer = new ZetaEventContainer();\r\n    var state = _(self, {\r\n        fields: fields,\r\n        errors: errors,\r\n        eventContainer: eventContainer,\r\n        refs: {},\r\n        initialData: initialData || {},\r\n        setValid: defineObservableProperty(this, 'isValid', true, function () {\r\n            return !any(fields, function (v, i) {\r\n                return !v.disabled && (errors[i] || (v.required && (v.isEmpty ? v.isEmpty(self.data[i]) : !self.data[i])));\r\n            });\r\n        })\r\n    });\r\n    self.isValid = true;\r\n    self.validateOnChange = validateOnChange !== false;\r\n    self.data = createDataObject(self, eventContainer, initialData);\r\n    self.on('dataChange', function (e) {\r\n        if (self.validateOnChange) {\r\n            self.validate.apply(self, grep(e.data, function (v) {\r\n                return fields[v].validateOnChange !== false;\r\n            }));\r\n        }\r\n    });\r\n}\r\n\r\ndefinePrototype(FormContext, {\r\n    element: function (key) {\r\n        var ref = _(this).refs[key];\r\n        return ref && ref.current;\r\n    },\r\n    focus: function (key) {\r\n        var element = this.element(key);\r\n        if (element) {\r\n            dom.focus(element);\r\n        }\r\n    },\r\n    on: function (event, handler) {\r\n        var state = _(this);\r\n        return state.eventContainer.add(this, event, handler);\r\n    },\r\n    reset: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        for (var i in self.data) {\r\n            delete self.data[i];\r\n        }\r\n        extend(self.data, state.initialData);\r\n        self.isValid = true;\r\n        state.eventContainer.emit('reset', self);\r\n    },\r\n    validate: function () {\r\n        var self = this;\r\n        var state = _(self);\r\n        var errors = state.errors;\r\n        var eventContainer = state.eventContainer;\r\n        var props = makeArray(arguments);\r\n        if (!props.length) {\r\n            props = keys(state.fields);\r\n        }\r\n        var prev = extend({}, errors);\r\n        var promise = resolveAll(props.map(function (v) {\r\n            return eventContainer.emit('validate', self, {\r\n                name: v,\r\n                value: self.data[v]\r\n            });\r\n        }));\r\n        return promise.then(function (result) {\r\n            props.forEach(function (v, i) {\r\n                if (isFunction(result[i])) {\r\n                    result[i] = wrapErrorResult(state, v, result[i]);\r\n                }\r\n                errors[v] = result[i];\r\n                if ((result[i] || '') !== (prev[v] || '')) {\r\n                    eventContainer.emit('validationChange', self, {\r\n                        name: v,\r\n                        isValid: !result[i],\r\n                        message: String(result[i] || '')\r\n                    });\r\n                }\r\n            });\r\n            state.setValid();\r\n            return !any(result, function (v) {\r\n                return v;\r\n            });\r\n        });\r\n    }\r\n});\r\n\r\nexport function useFormContext(initialData, validateOnChange) {\r\n    const form = useState(function () {\r\n        return new FormContext(initialData, validateOnChange);\r\n    })[0];\r\n    const forceUpdate = useState(0)[1];\r\n    useObservableProperty(form, 'isValid');\r\n    useEffect(function () {\r\n        return form.on('dataChange', function () {\r\n            forceUpdate(function (v) {\r\n                return ++v;\r\n            });\r\n        });\r\n    }, [form]);\r\n    return form;\r\n}\r\n\r\nexport function useFormField(props, defaultValue, prop) {\r\n    const form = useContext(_FormContext);\r\n    const ref = useRef();\r\n    const key = props.name || '';\r\n    const initialValue = useState(function () {\r\n        return (form && form.data[key]) || defaultValue;\r\n    })[0];\r\n    const sValue = useState(initialValue);\r\n    const sError = useState('');\r\n    const onValidate = useMemoizedFunction(props.onValidate);\r\n    const value = sValue[0], setValue = sValue[1];\r\n    const error = sError[0], setError = sError[1];\r\n\r\n    var setValueCallback = useMemoizedFunction(function (v) {\r\n        if (!props.onChange) {\r\n            console.warn('onChange not supplied');\r\n        } else {\r\n            props.onChange(typeof v === 'function' ? v(value) : v);\r\n        }\r\n    });\r\n\r\n    // put internal states on props for un-controlled mode\r\n    prop = prop || 'value';\r\n    if (!(prop in props)) {\r\n        setValueCallback = setValue;\r\n        props = extend({}, props);\r\n        props[prop] = value;\r\n    }\r\n    if (form && key) {\r\n        _(form).fields[key] = props;\r\n    }\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            var state = _(form);\r\n            state.refs[key] = ref;\r\n            if (key in form.data) {\r\n                setValue(form.data[key]);\r\n            }\r\n            return combineFn(\r\n                function () {\r\n                    delete state.fields[key];\r\n                    delete state.refs[key];\r\n                    state.setValid();\r\n                },\r\n                form.on('dataChange', function (e) {\r\n                    if (e.data.includes(key)) {\r\n                        setValue(form.data[key]);\r\n                    }\r\n                }),\r\n                form.on('validationChange', function (e) {\r\n                    if (e.name === key) {\r\n                        setError(state.errors[key]);\r\n                    }\r\n                }),\r\n                form.on('validate', function (e) {\r\n                    if (e.name === key) {\r\n                        return onValidate(e.value, e.name);\r\n                    }\r\n                }),\r\n                form.on('reset', function () {\r\n                    setValue(initialValue);\r\n                    setError('');\r\n                })\r\n            );\r\n        }\r\n    }, [form, key, initialValue, onValidate]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            form.data[key] = value;\r\n        }\r\n    }, [form, key, value]);\r\n\r\n    useEffect(function () {\r\n        if (form && key) {\r\n            _(form).setValid();\r\n        }\r\n    }, [form, key, props.validateOnChange, props.disabled, props.required]);\r\n\r\n    return {\r\n        value: props[prop],\r\n        error: String(props.error || error || ''),\r\n        setValue: setValueCallback,\r\n        setError: setError,\r\n        elementRef: function (v) {\r\n            ref.current = v;\r\n        }\r\n    };\r\n}\r\n\r\nexport function combineValidators() {\r\n    var validators = grep(makeArray(arguments), isFunction);\r\n    return function (value, name) {\r\n        return validators.reduce(function (prev, next) {\r\n            return prev.then(function (result) {\r\n                return result || next(value, name);\r\n            });\r\n        }, resolve());\r\n    };\r\n}\r\n","import { each, extend, isFunction, kv, makeArray, noop } from \"./include/zeta-dom/util.js\";\r\n\r\nexport function classNames() {\r\n    var className = [];\r\n    (function process(args) {\r\n        each(args, function (j, v) {\r\n            if (v) {\r\n                if (typeof v === 'string') {\r\n                    className.push(v);\r\n                } else if (typeof v.getClassNames === 'function') {\r\n                    process(makeArray(v.getClassNames()));\r\n                } else {\r\n                    for (var i in v) {\r\n                        var value = v[i];\r\n                        if (value) {\r\n                            className.push(value === true ? i : i + '-' + value);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    })(makeArray(arguments));\r\n    return className.join(' ');\r\n}\r\n\r\nexport function partial(setState) {\r\n    return function (key, value) {\r\n        setState(function (v) {\r\n            if (typeof key === 'string') {\r\n                key = kv(key, isFunction(value) ? value(v[key], v) : value);\r\n            }\r\n            return extend({}, v, key);\r\n        });\r\n    };\r\n}\r\n\r\nexport function toRefCallback(ref) {\r\n    if (ref && !isFunction(ref)) {\r\n        return function (v) {\r\n            return ref.current = v;\r\n        };\r\n    }\r\n    return ref || noop;\r\n}\r\n","import * as all from \"./index.js\";\r\nexport default all;\r\n"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__359__","__WEBPACK_EXTERNAL_MODULE__654__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","zeta","noop","isArray","either","is","isUndefinedOrNull","isFunction","makeArray","isThenable","isPlainObject","isArrayLike","extend","each","grep","map","any","splice","kv","single","setAdd","pick","exclude","mapGet","mapRemove","arrRemove","combineFn","equal","createPrivateStore","executeOnce","keys","setTimeoutOnce","setImmediate","setImmediateOnce","throwNotFunction","definePrototype","values","getOwnPropertyDescriptors","defineObservableProperty","defineOwnProperty","defineGetterProperty","defineHiddenProperty","defineAliasProperty","watch","resolve","watchOnce","watchable","inherit","deepFreeze","iequal","randomId","repeat","camel","hyphenate","ucfirst","lcfirst","trim","matchWord","htmlDecode","always","reject","resolveAll","ZetaEventContainer","catchAsync","setPromiseTimeout","textInputAllowed","beginDrag","beginPinchZoom","getShortcut","setShortcut","focusable","focused","setModal","retainFocus","releaseFocus","focus","fnWeakMap","WeakMap","useMemoizedFunction","callback","fn","useState","cb","apply","this","arguments","set","useObservableProperty","sValue","setValue","useEffect","v","useAsync","init","autoload","state","loading","refresh","error","then","resolved","disposed","deps","concat","useRefInitCallback","args","WeakSet","useDispose","dispose","callbacks","length","push","bind","_","_FormContext","createContext","FormContextProvider","Provider","wrapErrorResult","toString","fields","FormContext","initialData","validateOnChange","errors","eventContainer","refs","setValid","i","disabled","required","isEmpty","data","isValid","context","Proxy","t","p","emitAsync","a","createDataObject","on","e","validate","useFormContext","form","forceUpdate","useFormField","props","defaultValue","useContext","ref","useRef","name","initialValue","sError","onValidate","setError","setValueCallback","onChange","console","warn","includes","String","elementRef","current","combineValidators","validators","reduce","prev","next","result","classNames","className","process","j","getClassNames","join","partial","setState","toRefCallback","element","dom","event","handler","add","reset","emit","promise","forEach","message"],"sourceRoot":""}